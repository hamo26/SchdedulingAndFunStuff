   1               		.file	"basic_rf.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__ = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  10               		.text
  11               	.Ltext0:
 136               	.global	cc259x_rx
 138               	cc259x_rx:
 139               		.stabd	46,0,0
   1:../../../src/radio/cc2420/source/basic_rf.c **** /******************************************************************************
   2:../../../src/radio/cc2420/source/basic_rf.c **** *  Nano-RK, a real-time operating system for sensor networks.
   3:../../../src/radio/cc2420/source/basic_rf.c **** *  Copyright (C) 2007, Real-Time and Multimedia Lab, Carnegie Mellon University
   4:../../../src/radio/cc2420/source/basic_rf.c **** *  All rights reserved.
   5:../../../src/radio/cc2420/source/basic_rf.c **** *
   6:../../../src/radio/cc2420/source/basic_rf.c **** *  This is the Open Source Version of Nano-RK included as part of a Dual
   7:../../../src/radio/cc2420/source/basic_rf.c **** *  Licensing Model. If you are unsure which license to use please refer to:
   8:../../../src/radio/cc2420/source/basic_rf.c **** *  http://www.nanork.org/nano-RK/wiki/Licensing
   9:../../../src/radio/cc2420/source/basic_rf.c **** *
  10:../../../src/radio/cc2420/source/basic_rf.c **** *  This program is free software: you can redistribute it and/or modify
  11:../../../src/radio/cc2420/source/basic_rf.c **** *  it under the terms of the GNU General Public License as published by
  12:../../../src/radio/cc2420/source/basic_rf.c **** *  the Free Software Foundation, version 2.0 of the License.
  13:../../../src/radio/cc2420/source/basic_rf.c **** *
  14:../../../src/radio/cc2420/source/basic_rf.c **** *  This program is distributed in the hope that it will be useful,
  15:../../../src/radio/cc2420/source/basic_rf.c **** *  but WITHOUT ANY WARRANTY; without even the implied warranty of
  16:../../../src/radio/cc2420/source/basic_rf.c **** *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  17:../../../src/radio/cc2420/source/basic_rf.c **** *  GNU General Public License for more details.
  18:../../../src/radio/cc2420/source/basic_rf.c **** *
  19:../../../src/radio/cc2420/source/basic_rf.c **** *  You should have received a copy of the GNU General Public License
  20:../../../src/radio/cc2420/source/basic_rf.c **** *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  21:../../../src/radio/cc2420/source/basic_rf.c **** *
  22:../../../src/radio/cc2420/source/basic_rf.c **** *  Contributing Authors (specific to this file):
  23:../../../src/radio/cc2420/source/basic_rf.c **** *  Chipcon Development Team
  24:../../../src/radio/cc2420/source/basic_rf.c **** *  Anthony Rowe
  25:../../../src/radio/cc2420/source/basic_rf.c **** *  Nuno Pereira
  26:../../../src/radio/cc2420/source/basic_rf.c **** *  Bach Bui
  27:../../../src/radio/cc2420/source/basic_rf.c **** *******************************************************************************/
  28:../../../src/radio/cc2420/source/basic_rf.c **** 
  29:../../../src/radio/cc2420/source/basic_rf.c **** #include <include.h>
  30:../../../src/radio/cc2420/source/basic_rf.c **** #include <basic_rf.h>
  31:../../../src/radio/cc2420/source/basic_rf.c **** #include <ulib.h>
  32:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk.h>
  33:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_events.h>
  34:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_error.h>
  35:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_timer.h>
  36:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_cpu.h>
  37:../../../src/radio/cc2420/source/basic_rf.c **** 
  38:../../../src/radio/cc2420/source/basic_rf.c **** #define OSC_STARTUP_DELAY	1000
  39:../../../src/radio/cc2420/source/basic_rf.c **** 
  40:../../../src/radio/cc2420/source/basic_rf.c **** void cc259x_rx()
  41:../../../src/radio/cc2420/source/basic_rf.c **** {
 141               	.LM0:
 142               	.LFBB1:
 143               	/* prologue: function */
 144               	/* frame size = 0 */
 145               	/* stack size = 0 */
 146               	.L__stack_usage = 0
  42:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_1);
 148               	.LM1:
 149 0000 8091 0000 		lds r24,NRK_DEBUG_1
 150 0004 0E94 0000 		call nrk_gpio_set
  43:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_clr(NRK_DEBUG_0);
 152               	.LM2:
 153 0008 8091 0000 		lds r24,NRK_DEBUG_0
 154 000c 0E94 0000 		call nrk_gpio_clr
 155               	/* epilogue start */
  44:../../../src/radio/cc2420/source/basic_rf.c **** }
 157               	.LM3:
 158 0010 0895      		ret
 160               	.Lscope1:
 162               		.stabd	78,0,0
 164               	.global	cc259x_tx
 166               	cc259x_tx:
 167               		.stabd	46,0,0
  45:../../../src/radio/cc2420/source/basic_rf.c **** 
  46:../../../src/radio/cc2420/source/basic_rf.c **** 
  47:../../../src/radio/cc2420/source/basic_rf.c **** void cc259x_tx()
  48:../../../src/radio/cc2420/source/basic_rf.c **** {
 169               	.LM4:
 170               	.LFBB2:
 171               	/* prologue: function */
 172               	/* frame size = 0 */
 173               	/* stack size = 0 */
 174               	.L__stack_usage = 0
  49:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_1);
 176               	.LM5:
 177 0012 8091 0000 		lds r24,NRK_DEBUG_1
 178 0016 0E94 0000 		call nrk_gpio_set
  50:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_0);
 180               	.LM6:
 181 001a 8091 0000 		lds r24,NRK_DEBUG_0
 182 001e 0E94 0000 		call nrk_gpio_set
 183               	/* epilogue start */
  51:../../../src/radio/cc2420/source/basic_rf.c **** }
 185               	.LM7:
 186 0022 0895      		ret
 188               	.Lscope2:
 190               		.stabd	78,0,0
 192               	.global	rf_power_down
 194               	rf_power_down:
 195               		.stabd	46,0,0
  52:../../../src/radio/cc2420/source/basic_rf.c **** 
  53:../../../src/radio/cc2420/source/basic_rf.c **** 
  54:../../../src/radio/cc2420/source/basic_rf.c **** //#ifndef RADIO_PRIORITY_CEILING
  55:../../../src/radio/cc2420/source/basic_rf.c **** //  #define RADIO_PRIORITY_CEILING	20
  56:../../../src/radio/cc2420/source/basic_rf.c **** //#endif
  57:../../../src/radio/cc2420/source/basic_rf.c **** 
  58:../../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_t *radio_sem;
  59:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t auto_ack_enable;
  60:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t security_enable;
  61:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t last_pkt_encrypted;
  62:../../../src/radio/cc2420/source/basic_rf.c **** uint16_t mdmctrl0;
  63:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t tx_ctr[4];
  64:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rx_ctr[4];
  65:../../../src/radio/cc2420/source/basic_rf.c **** 
  66:../../../src/radio/cc2420/source/basic_rf.c **** void rf_power_down()
  67:../../../src/radio/cc2420/source/basic_rf.c **** {
 197               	.LM8:
 198               	.LFBB3:
 199               	/* prologue: function */
 200               	/* frame size = 0 */
 201               	/* stack size = 0 */
 202               	.L__stack_usage = 0
  68:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 204               	.LM9:
 205               	/* #APP */
 206               	 ;  68 "../../../src/radio/cc2420/source/basic_rf.c" 1
 207 0024 F894      		cli
 208               		
 209               	 ;  0 "" 2
  69:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
 211               	.LM10:
 212               	/* #NOAPP */
 213 0026 4098      		cbi 40-32,0
 214 0028 87E0      		ldi r24,lo8(7)
 215 002a 8EBD      		out 78-32,r24
 216               	.L4:
 218               	.LM11:
 219 002c 0DB4      		in __tmp_reg__,77-32
 220 002e 07FE      		sbrs __tmp_reg__,7
 221 0030 00C0      		rjmp .L4
 223               	.LM12:
 224 0032 409A      		sbi 40-32,0
  70:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 226               	.LM13:
 227 0034 4098      		cbi 40-32,0
 228 0036 86E0      		ldi r24,lo8(6)
 229 0038 8EBD      		out 78-32,r24
 230               	.L5:
 232               	.LM14:
 233 003a 0DB4      		in __tmp_reg__,77-32
 234 003c 07FE      		sbrs __tmp_reg__,7
 235 003e 00C0      		rjmp .L5
 237               	.LM15:
 238 0040 409A      		sbi 40-32,0
  71:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 240               	.LM16:
 241               	/* #APP */
 242               	 ;  71 "../../../src/radio/cc2420/source/basic_rf.c" 1
 243 0042 7894      		sei
 244               		
 245               	 ;  0 "" 2
 246               	/* epilogue start */
  72:../../../src/radio/cc2420/source/basic_rf.c **** }
 248               	.LM17:
 249               	/* #NOAPP */
 250 0044 0895      		ret
 252               	.Lscope3:
 254               		.stabd	78,0,0
 256               	.global	rf_power_up
 258               	rf_power_up:
 259               		.stabd	46,0,0
  73:../../../src/radio/cc2420/source/basic_rf.c **** 
  74:../../../src/radio/cc2420/source/basic_rf.c **** void rf_power_up()
  75:../../../src/radio/cc2420/source/basic_rf.c **** {
 261               	.LM18:
 262               	.LFBB4:
 263               	/* prologue: function */
 264               	/* frame size = 0 */
 265               	/* stack size = 0 */
 266               	.L__stack_usage = 0
  76:../../../src/radio/cc2420/source/basic_rf.c **** 
  77:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 268               	.LM19:
 269               	/* #APP */
 270               	 ;  77 "../../../src/radio/cc2420/source/basic_rf.c" 1
 271 0046 F894      		cli
 272               		
 273               	 ;  0 "" 2
  78:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 275               	.LM20:
 276               	/* #NOAPP */
 277 0048 4098      		cbi 40-32,0
 278 004a 81E0      		ldi r24,lo8(1)
 279 004c 8EBD      		out 78-32,r24
 280               	.L9:
 282               	.LM21:
 283 004e 0DB4      		in __tmp_reg__,77-32
 284 0050 07FE      		sbrs __tmp_reg__,7
 285 0052 00C0      		rjmp .L9
 287               	.LM22:
 288 0054 409A      		sbi 40-32,0
  79:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 290               	.LM23:
 291 0056 88EE      		ldi r24,lo8(1000)
 292 0058 93E0      		ldi r25,hi8(1000)
 293 005a 0E94 0000 		call nrk_spin_wait_us
  80:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 295               	.LM24:
 296               	/* #APP */
 297               	 ;  80 "../../../src/radio/cc2420/source/basic_rf.c" 1
 298 005e 7894      		sei
 299               		
 300               	 ;  0 "" 2
 301               	/* epilogue start */
  81:../../../src/radio/cc2420/source/basic_rf.c **** 
  82:../../../src/radio/cc2420/source/basic_rf.c **** }
 303               	.LM25:
 304               	/* #NOAPP */
 305 0060 0895      		ret
 307               	.Lscope4:
 309               		.stabd	78,0,0
 311               	.global	rf_security_last_pkt_status
 313               	rf_security_last_pkt_status:
 314               		.stabd	46,0,0
  83:../../../src/radio/cc2420/source/basic_rf.c **** 
  84:../../../src/radio/cc2420/source/basic_rf.c **** 
  85:../../../src/radio/cc2420/source/basic_rf.c **** // Returns 1 if the last packet was encrypted, 0 otherwise
  86:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_security_last_pkt_status()
  87:../../../src/radio/cc2420/source/basic_rf.c **** {
 316               	.LM26:
 317               	.LFBB5:
 318               	/* prologue: function */
 319               	/* frame size = 0 */
 320               	/* stack size = 0 */
 321               	.L__stack_usage = 0
  88:../../../src/radio/cc2420/source/basic_rf.c ****     return last_pkt_encrypted;
  89:../../../src/radio/cc2420/source/basic_rf.c **** }
 323               	.LM27:
 324 0062 8091 0000 		lds r24,last_pkt_encrypted
 325               	/* epilogue start */
 326 0066 0895      		ret
 328               	.Lscope5:
 330               		.stabd	78,0,0
 333               	.global	rf_security_set_ctr_counter
 335               	rf_security_set_ctr_counter:
 336               		.stabd	46,0,0
  90:../../../src/radio/cc2420/source/basic_rf.c **** 
  91:../../../src/radio/cc2420/source/basic_rf.c **** 
  92:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_ctr_counter(uint8_t *counter)
  93:../../../src/radio/cc2420/source/basic_rf.c **** {
 338               	.LM28:
 339               	.LFBB6:
 340               	/* prologue: function */
 341               	/* frame size = 0 */
 342               	/* stack size = 0 */
 343               	.L__stack_usage = 0
 344 0068 FC01      		movw r30,r24
  94:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t n;
  95:../../../src/radio/cc2420/source/basic_rf.c **** // CTR counter value
  96:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM(&counter[0],(CC2420RAM_TXNONCE+9),2,n);
 346               	.LM29:
 347 006a 4098      		cbi 40-32,0
 348 006c 89EC      		ldi r24,lo8(-55)
 349 006e 8EBD      		out 78-32,r24
 350               	.L13:
 352               	.LM30:
 353 0070 0DB4      		in __tmp_reg__,77-32
 354 0072 07FE      		sbrs __tmp_reg__,7
 355 0074 00C0      		rjmp .L13
 357               	.LM31:
 358 0076 80E8      		ldi r24,lo8(-128)
 359 0078 8EBD      		out 78-32,r24
 360               	.L14:
 362               	.LM32:
 363 007a 0DB4      		in __tmp_reg__,77-32
 364 007c 07FE      		sbrs __tmp_reg__,7
 365 007e 00C0      		rjmp .L14
 367               	.LM33:
 368 0080 82E0      		ldi r24,lo8(2)
 369               	.L16:
 370 0082 8150      		subi r24,lo8(-(-1))
 371 0084 DF01      		movw r26,r30
 372 0086 A80F      		add r26,r24
 373 0088 B11D      		adc r27,__zero_reg__
 374 008a 9C91      		ld r25,X
 375 008c 9EBD      		out 78-32,r25
 376               	.L15:
 378               	.LM34:
 379 008e 0DB4      		in __tmp_reg__,77-32
 380 0090 07FE      		sbrs __tmp_reg__,7
 381 0092 00C0      		rjmp .L15
 383               	.LM35:
 384 0094 8823      		tst r24
 385 0096 01F4      		brne .L16
 387               	.LM36:
 388 0098 409A      		sbi 40-32,0
  97:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM(&counter[2],(CC2420RAM_TXNONCE+11),2,n);
 390               	.LM37:
 391 009a 4098      		cbi 40-32,0
 392 009c 8BEC      		ldi r24,lo8(-53)
 393 009e 8EBD      		out 78-32,r24
 394               	.L17:
 396               	.LM38:
 397 00a0 0DB4      		in __tmp_reg__,77-32
 398 00a2 07FE      		sbrs __tmp_reg__,7
 399 00a4 00C0      		rjmp .L17
 401               	.LM39:
 402 00a6 80E8      		ldi r24,lo8(-128)
 403 00a8 8EBD      		out 78-32,r24
 404               	.L18:
 406               	.LM40:
 407 00aa 0DB4      		in __tmp_reg__,77-32
 408 00ac 07FE      		sbrs __tmp_reg__,7
 409 00ae 00C0      		rjmp .L18
 411               	.LM41:
 412 00b0 82E0      		ldi r24,lo8(2)
 413               	.L20:
 414 00b2 8150      		subi r24,lo8(-(-1))
 415 00b4 DF01      		movw r26,r30
 416 00b6 A80F      		add r26,r24
 417 00b8 B11D      		adc r27,__zero_reg__
 418 00ba 1296      		adiw r26,2
 419 00bc 9C91      		ld r25,X
 420 00be 1297      		sbiw r26,2
 421 00c0 9EBD      		out 78-32,r25
 422               	.L19:
 424               	.LM42:
 425 00c2 0DB4      		in __tmp_reg__,77-32
 426 00c4 07FE      		sbrs __tmp_reg__,7
 427 00c6 00C0      		rjmp .L19
 429               	.LM43:
 430 00c8 8823      		tst r24
 431 00ca 01F4      		brne .L20
 433               	.LM44:
 434 00cc 409A      		sbi 40-32,0
  98:../../../src/radio/cc2420/source/basic_rf.c ****     tx_ctr[0]=counter[0];
 436               	.LM45:
 437 00ce 8081      		ld r24,Z
 438 00d0 8093 0000 		sts tx_ctr,r24
  99:../../../src/radio/cc2420/source/basic_rf.c ****     tx_ctr[1]=counter[1];
 440               	.LM46:
 441 00d4 8181      		ldd r24,Z+1
 442 00d6 8093 0000 		sts tx_ctr+1,r24
 100:../../../src/radio/cc2420/source/basic_rf.c ****     tx_ctr[2]=counter[2];
 444               	.LM47:
 445 00da 8281      		ldd r24,Z+2
 446 00dc 8093 0000 		sts tx_ctr+2,r24
 101:../../../src/radio/cc2420/source/basic_rf.c ****     tx_ctr[3]=counter[3];
 448               	.LM48:
 449 00e0 8381      		ldd r24,Z+3
 450 00e2 8093 0000 		sts tx_ctr+3,r24
 451               	/* epilogue start */
 102:../../../src/radio/cc2420/source/basic_rf.c **** }
 453               	.LM49:
 454 00e6 0895      		ret
 456               	.Lscope6:
 458               		.stabd	78,0,0
 460               	.global	rf_security_set_key
 462               	rf_security_set_key:
 463               		.stabd	46,0,0
 103:../../../src/radio/cc2420/source/basic_rf.c **** 
 104:../../../src/radio/cc2420/source/basic_rf.c **** 
 105:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_key(uint8_t *key)
 106:../../../src/radio/cc2420/source/basic_rf.c **** {
 465               	.LM50:
 466               	.LFBB7:
 467 00e8 8F92      		push r8
 468 00ea 9F92      		push r9
 469 00ec AF92      		push r10
 470 00ee BF92      		push r11
 471 00f0 CF92      		push r12
 472 00f2 DF92      		push r13
 473 00f4 EF92      		push r14
 474 00f6 FF92      		push r15
 475 00f8 0F93      		push r16
 476 00fa 1F93      		push r17
 477 00fc DF93      		push r29
 478 00fe CF93      		push r28
 479 0100 00D0      		rcall .
 480 0102 00D0      		rcall .
 481 0104 CDB7      		in r28,__SP_L__
 482 0106 DEB7      		in r29,__SP_H__
 483               	/* prologue: function */
 484               	/* frame size = 4 */
 485               	/* stack size = 16 */
 486               	.L__stack_usage = 16
 487 0108 E82E      		mov r14,r24
 488 010a 092F      		mov r16,r25
 107:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t n,i;
 108:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t key_buf;
 109:../../../src/radio/cc2420/source/basic_rf.c **** 
 110:../../../src/radio/cc2420/source/basic_rf.c **** // Set AES key
 111:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(100);
 490               	.LM51:
 491 010c 84E6      		ldi r24,lo8(100)
 492 010e 90E0      		ldi r25,hi8(100)
 493 0110 0E94 0000 		call nrk_spin_wait_us
 494 0114 F02E      		mov r15,r16
 495 0116 20E0      		ldi r18,lo8(256)
 496 0118 31E0      		ldi r19,hi8(256)
 112:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<8; i++ )
 113:../../../src/radio/cc2420/source/basic_rf.c ****     {
 114:../../../src/radio/cc2420/source/basic_rf.c ****         key_buf=(key[i]<<8)|key[i+1];
 115:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(100);
 116:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_KEY0+(i*2)),2,n);
 498               	.LM52:
 499 011a 8E01      		movw r16,r28
 500 011c 0F5F      		subi r16,lo8(-(1))
 501 011e 1F4F      		sbci r17,hi8(-(1))
 105:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_key(uint8_t *key)
 503               	.LM53:
 504 0120 F3E0      		ldi r31,lo8(3)
 505 0122 CF2E      		mov r12,r31
 506 0124 D12C      		mov r13,__zero_reg__
 507 0126 CC0E      		add r12,r28
 508 0128 DD1E      		adc r13,r29
 509               	.L34:
 114:../../../src/radio/cc2420/source/basic_rf.c ****         key_buf=(key[i]<<8)|key[i+1];
 511               	.LM54:
 512 012a F701      		movw r30,r14
 513 012c 9190      		ld r9,Z+
 514 012e 7F01      		movw r14,r30
 515 0130 8824      		clr r8
 516 0132 8081      		ld r24,Z
 517 0134 90E0      		ldi r25,lo8(0)
 518 0136 8829      		or r24,r8
 519 0138 9929      		or r25,r9
 520 013a 9A83      		std Y+2,r25
 521 013c 8983      		std Y+1,r24
 115:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(100);
 523               	.LM55:
 524 013e 84E6      		ldi r24,lo8(100)
 525 0140 90E0      		ldi r25,hi8(100)
 526 0142 2B83      		std Y+3,r18
 527 0144 3C83      		std Y+4,r19
 528 0146 0E94 0000 		call nrk_spin_wait_us
 530               	.LM56:
 531 014a 4098      		cbi 40-32,0
 532 014c 2B81      		ldd r18,Y+3
 533 014e 3C81      		ldd r19,Y+4
 534 0150 822F      		mov r24,r18
 535 0152 8068      		ori r24,lo8(-128)
 536 0154 8EBD      		out 78-32,r24
 537               	.L30:
 539               	.LM57:
 540 0156 0DB4      		in __tmp_reg__,77-32
 541 0158 07FE      		sbrs __tmp_reg__,7
 542 015a 00C0      		rjmp .L30
 544               	.LM58:
 545 015c C901      		movw r24,r18
 546 015e 9595      		asr r25
 547 0160 8795      		ror r24
 548 0162 807C      		andi r24,lo8(-64)
 549 0164 8EBD      		out 78-32,r24
 550               	.L31:
 552               	.LM59:
 553 0166 0DB4      		in __tmp_reg__,77-32
 554 0168 07FE      		sbrs __tmp_reg__,7
 555 016a 00C0      		rjmp .L31
 557               	.LM60:
 558 016c 5801      		movw r10,r16
 105:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_key(uint8_t *key)
 560               	.LM61:
 561 016e F801      		movw r30,r16
 562               	.L33:
 564               	.LM62:
 565 0170 8191      		ld r24,Z+
 566 0172 8EBD      		out 78-32,r24
 567               	.L32:
 569               	.LM63:
 570 0174 0DB4      		in __tmp_reg__,77-32
 571 0176 07FE      		sbrs __tmp_reg__,7
 572 0178 00C0      		rjmp .L32
 574               	.LM64:
 575 017a EC15      		cp r30,r12
 576 017c FD05      		cpc r31,r13
 577 017e 01F4      		brne .L33
 579               	.LM65:
 580 0180 409A      		sbi 40-32,0
 581 0182 2E5F      		subi r18,lo8(-(2))
 582 0184 3F4F      		sbci r19,hi8(-(2))
 112:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<8; i++ )
 584               	.LM66:
 585 0186 F1E0      		ldi r31,hi8(272)
 586 0188 2031      		cpi r18,lo8(272)
 587 018a 3F07      		cpc r19,r31
 588 018c 01F4      		brne .L34
 117:../../../src/radio/cc2420/source/basic_rf.c ****     }
 118:../../../src/radio/cc2420/source/basic_rf.c **** 
 119:../../../src/radio/cc2420/source/basic_rf.c **** // Set AES nonce to all zeros
 120:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(100);
 590               	.LM67:
 591 018e 84E6      		ldi r24,lo8(100)
 592 0190 90E0      		ldi r25,hi8(100)
 593 0192 0E94 0000 		call nrk_spin_wait_us
 594 0196 20E4      		ldi r18,lo8(320)
 595 0198 31E0      		ldi r19,hi8(320)
 596 019a 80E1      		ldi r24,lo8(272)
 597 019c 91E0      		ldi r25,hi8(272)
 598               	.L43:
 121:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<7; i++ )
 122:../../../src/radio/cc2420/source/basic_rf.c ****     {
 123:../../../src/radio/cc2420/source/basic_rf.c ****         key_buf=0;
 600               	.LM68:
 601 019e 1A82      		std Y+2,__zero_reg__
 602 01a0 1982      		std Y+1,__zero_reg__
 124:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_TXNONCE+(i*2)),2,n);
 604               	.LM69:
 605 01a2 4098      		cbi 40-32,0
 606 01a4 422F      		mov r20,r18
 607 01a6 4068      		ori r20,lo8(-128)
 608 01a8 4EBD      		out 78-32,r20
 609               	.L35:
 611               	.LM70:
 612 01aa 0DB4      		in __tmp_reg__,77-32
 613 01ac 07FE      		sbrs __tmp_reg__,7
 614 01ae 00C0      		rjmp .L35
 616               	.LM71:
 617 01b0 A901      		movw r20,r18
 618 01b2 5595      		asr r21
 619 01b4 4795      		ror r20
 620 01b6 407C      		andi r20,lo8(-64)
 621 01b8 4EBD      		out 78-32,r20
 622               	.L36:
 624               	.LM72:
 625 01ba 0DB4      		in __tmp_reg__,77-32
 626 01bc 07FE      		sbrs __tmp_reg__,7
 627 01be 00C0      		rjmp .L36
 629               	.LM73:
 630 01c0 F801      		movw r30,r16
 631               	.L38:
 633               	.LM74:
 634 01c2 4191      		ld r20,Z+
 635 01c4 4EBD      		out 78-32,r20
 636               	.L37:
 638               	.LM75:
 639 01c6 0DB4      		in __tmp_reg__,77-32
 640 01c8 07FE      		sbrs __tmp_reg__,7
 641 01ca 00C0      		rjmp .L37
 643               	.LM76:
 644 01cc EC15      		cp r30,r12
 645 01ce FD05      		cpc r31,r13
 646 01d0 01F4      		brne .L38
 648               	.LM77:
 649 01d2 409A      		sbi 40-32,0
 125:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_RXNONCE+(i*2)),2,n);
 651               	.LM78:
 652 01d4 4098      		cbi 40-32,0
 653 01d6 482F      		mov r20,r24
 654 01d8 4068      		ori r20,lo8(-128)
 655 01da 4EBD      		out 78-32,r20
 656               	.L39:
 658               	.LM79:
 659 01dc 0DB4      		in __tmp_reg__,77-32
 660 01de 07FE      		sbrs __tmp_reg__,7
 661 01e0 00C0      		rjmp .L39
 663               	.LM80:
 664 01e2 AC01      		movw r20,r24
 665 01e4 5595      		asr r21
 666 01e6 4795      		ror r20
 667 01e8 407C      		andi r20,lo8(-64)
 668 01ea 4EBD      		out 78-32,r20
 669               	.L40:
 671               	.LM81:
 672 01ec 0DB4      		in __tmp_reg__,77-32
 673 01ee 07FE      		sbrs __tmp_reg__,7
 674 01f0 00C0      		rjmp .L40
 676               	.LM82:
 677 01f2 F801      		movw r30,r16
 678               	.L42:
 680               	.LM83:
 681 01f4 4191      		ld r20,Z+
 682 01f6 4EBD      		out 78-32,r20
 683               	.L41:
 685               	.LM84:
 686 01f8 0DB4      		in __tmp_reg__,77-32
 687 01fa 07FE      		sbrs __tmp_reg__,7
 688 01fc 00C0      		rjmp .L41
 690               	.LM85:
 691 01fe EC15      		cp r30,r12
 692 0200 FD05      		cpc r31,r13
 693 0202 01F4      		brne .L42
 695               	.LM86:
 696 0204 409A      		sbi 40-32,0
 697 0206 0296      		adiw r24,2
 698 0208 2E5F      		subi r18,lo8(-(2))
 699 020a 3F4F      		sbci r19,hi8(-(2))
 121:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<7; i++ )
 701               	.LM87:
 702 020c 41E0      		ldi r20,hi8(286)
 703 020e 8E31      		cpi r24,lo8(286)
 704 0210 9407      		cpc r25,r20
 705 0212 01F4      		brne .L43
 126:../../../src/radio/cc2420/source/basic_rf.c ****     }
 127:../../../src/radio/cc2420/source/basic_rf.c ****     // block counter set 1
 128:../../../src/radio/cc2420/source/basic_rf.c ****     key_buf=1;
 707               	.LM88:
 708 0214 81E0      		ldi r24,lo8(1)
 709 0216 90E0      		ldi r25,hi8(1)
 710 0218 9A83      		std Y+2,r25
 711 021a 8983      		std Y+1,r24
 129:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_TXNONCE+14),2,n);
 713               	.LM89:
 714 021c 4098      		cbi 40-32,0
 715 021e 8EEC      		ldi r24,lo8(-50)
 716 0220 8EBD      		out 78-32,r24
 717               	.L44:
 719               	.LM90:
 720 0222 0DB4      		in __tmp_reg__,77-32
 721 0224 07FE      		sbrs __tmp_reg__,7
 722 0226 00C0      		rjmp .L44
 724               	.LM91:
 725 0228 80E8      		ldi r24,lo8(-128)
 726 022a 8EBD      		out 78-32,r24
 727               	.L45:
 729               	.LM92:
 730 022c 0DB4      		in __tmp_reg__,77-32
 731 022e 07FE      		sbrs __tmp_reg__,7
 732 0230 00C0      		rjmp .L45
 105:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_key(uint8_t *key)
 734               	.LM93:
 735 0232 C801      		movw r24,r16
 736 0234 0296      		adiw r24,2
 737 0236 F801      		movw r30,r16
 738               	.L47:
 740               	.LM94:
 741 0238 2191      		ld r18,Z+
 742 023a 2EBD      		out 78-32,r18
 743               	.L46:
 745               	.LM95:
 746 023c 0DB4      		in __tmp_reg__,77-32
 747 023e 07FE      		sbrs __tmp_reg__,7
 748 0240 00C0      		rjmp .L46
 750               	.LM96:
 751 0242 E817      		cp r30,r24
 752 0244 F907      		cpc r31,r25
 753 0246 01F4      		brne .L47
 755               	.LM97:
 756 0248 409A      		sbi 40-32,0
 130:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_RXNONCE+14),2,n);
 758               	.LM98:
 759 024a 4098      		cbi 40-32,0
 760 024c 8EE9      		ldi r24,lo8(-98)
 761 024e 8EBD      		out 78-32,r24
 762               	.L48:
 764               	.LM99:
 765 0250 0DB4      		in __tmp_reg__,77-32
 766 0252 07FE      		sbrs __tmp_reg__,7
 767 0254 00C0      		rjmp .L48
 769               	.LM100:
 770 0256 80E8      		ldi r24,lo8(-128)
 771 0258 8EBD      		out 78-32,r24
 772               	.L49:
 774               	.LM101:
 775 025a 0DB4      		in __tmp_reg__,77-32
 776 025c 07FE      		sbrs __tmp_reg__,7
 777 025e 00C0      		rjmp .L49
 105:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_key(uint8_t *key)
 779               	.LM102:
 780 0260 0E5F      		subi r16,lo8(-(2))
 781 0262 1F4F      		sbci r17,hi8(-(2))
 782               	.L51:
 784               	.LM103:
 785 0264 F501      		movw r30,r10
 786 0266 8191      		ld r24,Z+
 787 0268 5F01      		movw r10,r30
 788 026a 8EBD      		out 78-32,r24
 789               	.L50:
 791               	.LM104:
 792 026c 0DB4      		in __tmp_reg__,77-32
 793 026e 07FE      		sbrs __tmp_reg__,7
 794 0270 00C0      		rjmp .L50
 796               	.LM105:
 797 0272 A016      		cp r10,r16
 798 0274 B106      		cpc r11,r17
 799 0276 01F4      		brne .L51
 801               	.LM106:
 802 0278 409A      		sbi 40-32,0
 803               	/* epilogue start */
 131:../../../src/radio/cc2420/source/basic_rf.c **** }
 805               	.LM107:
 806 027a 0F90      		pop __tmp_reg__
 807 027c 0F90      		pop __tmp_reg__
 808 027e 0F90      		pop __tmp_reg__
 809 0280 0F90      		pop __tmp_reg__
 810 0282 CF91      		pop r28
 811 0284 DF91      		pop r29
 812 0286 1F91      		pop r17
 813 0288 0F91      		pop r16
 814 028a FF90      		pop r15
 815 028c EF90      		pop r14
 816 028e DF90      		pop r13
 817 0290 CF90      		pop r12
 818 0292 BF90      		pop r11
 819 0294 AF90      		pop r10
 820 0296 9F90      		pop r9
 821 0298 8F90      		pop r8
 822 029a 0895      		ret
 827               	.Lscope7:
 829               		.stabd	78,0,0
 832               	.global	rf_security_enable
 834               	rf_security_enable:
 835               		.stabd	46,0,0
 132:../../../src/radio/cc2420/source/basic_rf.c **** 
 133:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_enable(uint8_t *key)
 134:../../../src/radio/cc2420/source/basic_rf.c **** {
 837               	.LM108:
 838               	.LFBB8:
 839               	/* prologue: function */
 840               	/* frame size = 0 */
 841               	/* stack size = 0 */
 842               	.L__stack_usage = 0
 135:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL0, 0x0306); // Enable CTR encryption with key 0
 844               	.LM109:
 845 029c 4098      		cbi 40-32,0
 846 029e 89E1      		ldi r24,lo8(25)
 847 02a0 8EBD      		out 78-32,r24
 848               	.L75:
 850               	.LM110:
 851 02a2 0DB4      		in __tmp_reg__,77-32
 852 02a4 07FE      		sbrs __tmp_reg__,7
 853 02a6 00C0      		rjmp .L75
 855               	.LM111:
 856 02a8 83E0      		ldi r24,lo8(3)
 857 02aa 8EBD      		out 78-32,r24
 858               	.L76:
 860               	.LM112:
 861 02ac 0DB4      		in __tmp_reg__,77-32
 862 02ae 07FE      		sbrs __tmp_reg__,7
 863 02b0 00C0      		rjmp .L76
 865               	.LM113:
 866 02b2 86E0      		ldi r24,lo8(6)
 867 02b4 8EBD      		out 78-32,r24
 868               	.L77:
 870               	.LM114:
 871 02b6 0DB4      		in __tmp_reg__,77-32
 872 02b8 07FE      		sbrs __tmp_reg__,7
 873 02ba 00C0      		rjmp .L77
 875               	.LM115:
 876 02bc 409A      		sbi 40-32,0
 136:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL1, 0x0e0e); // Encrypt / Decrypt 18 bytes into header
 878               	.LM116:
 879 02be 4098      		cbi 40-32,0
 880 02c0 8AE1      		ldi r24,lo8(26)
 881 02c2 8EBD      		out 78-32,r24
 882               	.L78:
 884               	.LM117:
 885 02c4 0DB4      		in __tmp_reg__,77-32
 886 02c6 07FE      		sbrs __tmp_reg__,7
 887 02c8 00C0      		rjmp .L78
 889               	.LM118:
 890 02ca 8EE0      		ldi r24,lo8(14)
 891 02cc 8EBD      		out 78-32,r24
 892               	.L79:
 894               	.LM119:
 895 02ce 0DB4      		in __tmp_reg__,77-32
 896 02d0 07FE      		sbrs __tmp_reg__,7
 897 02d2 00C0      		rjmp .L79
 899               	.LM120:
 900 02d4 8EE0      		ldi r24,lo8(14)
 901 02d6 8EBD      		out 78-32,r24
 902               	.L80:
 904               	.LM121:
 905 02d8 0DB4      		in __tmp_reg__,77-32
 906 02da 07FE      		sbrs __tmp_reg__,7
 907 02dc 00C0      		rjmp .L80
 909               	.LM122:
 910 02de 409A      		sbi 40-32,0
 137:../../../src/radio/cc2420/source/basic_rf.c **** 
 138:../../../src/radio/cc2420/source/basic_rf.c ****     security_enable=1;
 912               	.LM123:
 913 02e0 81E0      		ldi r24,lo8(1)
 914 02e2 8093 0000 		sts security_enable,r24
 915               	/* epilogue start */
 139:../../../src/radio/cc2420/source/basic_rf.c **** }
 917               	.LM124:
 918 02e6 0895      		ret
 920               	.Lscope8:
 922               		.stabd	78,0,0
 924               	.global	rf_security_disable
 926               	rf_security_disable:
 927               		.stabd	46,0,0
 140:../../../src/radio/cc2420/source/basic_rf.c **** 
 141:../../../src/radio/cc2420/source/basic_rf.c **** 
 142:../../../src/radio/cc2420/source/basic_rf.c **** 
 143:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_disable()
 144:../../../src/radio/cc2420/source/basic_rf.c **** {
 929               	.LM125:
 930               	.LFBB9:
 931               	/* prologue: function */
 932               	/* frame size = 0 */
 933               	/* stack size = 0 */
 934               	.L__stack_usage = 0
 145:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL0, 0x01C4); // Turn off "Security enable"
 936               	.LM126:
 937 02e8 4098      		cbi 40-32,0
 938 02ea 89E1      		ldi r24,lo8(25)
 939 02ec 8EBD      		out 78-32,r24
 940               	.L88:
 942               	.LM127:
 943 02ee 0DB4      		in __tmp_reg__,77-32
 944 02f0 07FE      		sbrs __tmp_reg__,7
 945 02f2 00C0      		rjmp .L88
 947               	.LM128:
 948 02f4 81E0      		ldi r24,lo8(1)
 949 02f6 8EBD      		out 78-32,r24
 950               	.L89:
 952               	.LM129:
 953 02f8 0DB4      		in __tmp_reg__,77-32
 954 02fa 07FE      		sbrs __tmp_reg__,7
 955 02fc 00C0      		rjmp .L89
 957               	.LM130:
 958 02fe 84EC      		ldi r24,lo8(-60)
 959 0300 8EBD      		out 78-32,r24
 960               	.L90:
 962               	.LM131:
 963 0302 0DB4      		in __tmp_reg__,77-32
 964 0304 07FE      		sbrs __tmp_reg__,7
 965 0306 00C0      		rjmp .L90
 967               	.LM132:
 968 0308 409A      		sbi 40-32,0
 146:../../../src/radio/cc2420/source/basic_rf.c ****     security_enable=0;
 970               	.LM133:
 971 030a 1092 0000 		sts security_enable,__zero_reg__
 972               	/* epilogue start */
 147:../../../src/radio/cc2420/source/basic_rf.c **** }
 974               	.LM134:
 975 030e 0895      		ret
 977               	.Lscope9:
 979               		.stabd	78,0,0
 981               	.global	rf_get_sem
 983               	rf_get_sem:
 984               		.stabd	46,0,0
 148:../../../src/radio/cc2420/source/basic_rf.c **** 
 149:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 150:../../../src/radio/cc2420/source/basic_rf.c **** // The RF settings structure is declared here, since we'll always need halRfInit()
 151:../../../src/radio/cc2420/source/basic_rf.c **** volatile RF_SETTINGS rfSettings;
 152:../../../src/radio/cc2420/source/basic_rf.c **** volatile uint8_t rx_ready;
 153:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 154:../../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_t* rf_get_sem()
 155:../../../src/radio/cc2420/source/basic_rf.c **** {
 986               	.LM135:
 987               	.LFBB10:
 988               	/* prologue: function */
 989               	/* frame size = 0 */
 990               	/* stack size = 0 */
 991               	.L__stack_usage = 0
 156:../../../src/radio/cc2420/source/basic_rf.c ****     return radio_sem;
 157:../../../src/radio/cc2420/source/basic_rf.c **** }
 993               	.LM136:
 994 0310 8091 0000 		lds r24,radio_sem
 995 0314 9091 0000 		lds r25,radio_sem+1
 996               	/* epilogue start */
 997 0318 0895      		ret
 999               	.Lscope10:
 1001               		.stabd	78,0,0
 1004               	.global	rf_tx_power
 1006               	rf_tx_power:
 1007               		.stabd	46,0,0
 158:../../../src/radio/cc2420/source/basic_rf.c **** 
 159:../../../src/radio/cc2420/source/basic_rf.c **** void rf_tx_power(uint8_t pwr)
 160:../../../src/radio/cc2420/source/basic_rf.c **** {
 1009               	.LM137:
 1010               	.LFBB11:
 1011               	/* prologue: function */
 1012               	/* frame size = 0 */
 1013               	/* stack size = 0 */
 1014               	.L__stack_usage = 0
 161:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t tmp;
 162:../../../src/radio/cc2420/source/basic_rf.c ****     //tmp=0x5070;
 163:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 164:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 165:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 166:../../../src/radio/cc2420/source/basic_rf.c ****     tmp=0xA0E0;
 167:../../../src/radio/cc2420/source/basic_rf.c ****     tmp=tmp | (pwr&0x1F);
 1016               	.LM138:
 1017 031a 90E0      		ldi r25,lo8(0)
 1018 031c 8F71      		andi r24,lo8(31)
 1019 031e 9070      		andi r25,hi8(31)
 1020 0320 806E      		ori r24,lo8(-24352)
 1021 0322 906A      		ori r25,hi8(-24352)
 168:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_TXCTRL, tmp);   // Set the FIFOP threshold to maximum
 1023               	.LM139:
 1024 0324 4098      		cbi 40-32,0
 1025 0326 25E1      		ldi r18,lo8(21)
 1026 0328 2EBD      		out 78-32,r18
 1027               	.L96:
 1029               	.LM140:
 1030 032a 0DB4      		in __tmp_reg__,77-32
 1031 032c 07FE      		sbrs __tmp_reg__,7
 1032 032e 00C0      		rjmp .L96
 1034               	.LM141:
 1035 0330 9EBD      		out 78-32,r25
 1036               	.L97:
 1038               	.LM142:
 1039 0332 0DB4      		in __tmp_reg__,77-32
 1040 0334 07FE      		sbrs __tmp_reg__,7
 1041 0336 00C0      		rjmp .L97
 1043               	.LM143:
 1044 0338 8EBD      		out 78-32,r24
 1045               	.L98:
 1047               	.LM144:
 1048 033a 0DB4      		in __tmp_reg__,77-32
 1049 033c 07FE      		sbrs __tmp_reg__,7
 1050 033e 00C0      		rjmp .L98
 1052               	.LM145:
 1053 0340 409A      		sbi 40-32,0
 1054               	/* epilogue start */
 169:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 170:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 171:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 172:../../../src/radio/cc2420/source/basic_rf.c **** }
 1056               	.LM146:
 1057 0342 0895      		ret
 1062               	.Lscope11:
 1064               		.stabd	78,0,0
 1067               	.global	rf_set_channel
 1069               	rf_set_channel:
 1070               		.stabd	46,0,0
 173:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_channel( uint8_t channel )
 174:../../../src/radio/cc2420/source/basic_rf.c **** {
 1072               	.LM147:
 1073               	.LFBB12:
 1074               	/* prologue: function */
 1075               	/* frame size = 0 */
 1076               	/* stack size = 0 */
 1077               	.L__stack_usage = 0
 175:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 176:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 177:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 178:../../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 1079               	.LM148:
 1080 0344 0E94 0000 		call halRfSetChannel
 1081               	/* epilogue start */
 179:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 180:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 181:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 182:../../../src/radio/cc2420/source/basic_rf.c **** }
 1083               	.LM149:
 1084 0348 0895      		ret
 1086               	.Lscope12:
 1088               		.stabd	78,0,0
 1090               	.global	rf_addr_decode_enable
 1092               	rf_addr_decode_enable:
 1093               		.stabd	46,0,0
 183:../../../src/radio/cc2420/source/basic_rf.c **** 
 184:../../../src/radio/cc2420/source/basic_rf.c **** 
 185:../../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_enable()
 186:../../../src/radio/cc2420/source/basic_rf.c **** {
 1095               	.LM150:
 1096               	.LFBB13:
 1097               	/* prologue: function */
 1098               	/* frame size = 0 */
 1099               	/* stack size = 0 */
 1100               	.L__stack_usage = 0
 187:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= 0x0800;
 1102               	.LM151:
 1103 034a 8091 0000 		lds r24,mdmctrl0
 1104 034e 9091 0000 		lds r25,mdmctrl0+1
 1105 0352 9860      		ori r25,hi8(2048)
 1106 0354 9093 0000 		sts mdmctrl0+1,r25
 1107 0358 8093 0000 		sts mdmctrl0,r24
 188:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 1109               	.LM152:
 1110 035c 4098      		cbi 40-32,0
 1111 035e 81E1      		ldi r24,lo8(17)
 1112 0360 8EBD      		out 78-32,r24
 1113               	.L104:
 1115               	.LM153:
 1116 0362 0DB4      		in __tmp_reg__,77-32
 1117 0364 07FE      		sbrs __tmp_reg__,7
 1118 0366 00C0      		rjmp .L104
 1120               	.LM154:
 1121 0368 8091 0000 		lds r24,mdmctrl0+1
 1122 036c 8EBD      		out 78-32,r24
 1123               	.L105:
 1125               	.LM155:
 1126 036e 0DB4      		in __tmp_reg__,77-32
 1127 0370 07FE      		sbrs __tmp_reg__,7
 1128 0372 00C0      		rjmp .L105
 1130               	.LM156:
 1131 0374 8091 0000 		lds r24,mdmctrl0
 1132 0378 8EBD      		out 78-32,r24
 1133               	.L106:
 1135               	.LM157:
 1136 037a 0DB4      		in __tmp_reg__,77-32
 1137 037c 07FE      		sbrs __tmp_reg__,7
 1138 037e 00C0      		rjmp .L106
 1140               	.LM158:
 1141 0380 409A      		sbi 40-32,0
 1142               	/* epilogue start */
 189:../../../src/radio/cc2420/source/basic_rf.c **** }
 1144               	.LM159:
 1145 0382 0895      		ret
 1147               	.Lscope13:
 1149               		.stabd	78,0,0
 1151               	.global	rf_addr_decode_disable
 1153               	rf_addr_decode_disable:
 1154               		.stabd	46,0,0
 190:../../../src/radio/cc2420/source/basic_rf.c **** 
 191:../../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_disable()
 192:../../../src/radio/cc2420/source/basic_rf.c **** {
 1156               	.LM160:
 1157               	.LFBB14:
 1158               	/* prologue: function */
 1159               	/* frame size = 0 */
 1160               	/* stack size = 0 */
 1161               	.L__stack_usage = 0
 193:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (~0x0800);
 1163               	.LM161:
 1164 0384 8091 0000 		lds r24,mdmctrl0
 1165 0388 9091 0000 		lds r25,mdmctrl0+1
 1166 038c 977F      		andi r25,hi8(-2049)
 1167 038e 9093 0000 		sts mdmctrl0+1,r25
 1168 0392 8093 0000 		sts mdmctrl0,r24
 194:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 1170               	.LM162:
 1171 0396 4098      		cbi 40-32,0
 1172 0398 81E1      		ldi r24,lo8(17)
 1173 039a 8EBD      		out 78-32,r24
 1174               	.L111:
 1176               	.LM163:
 1177 039c 0DB4      		in __tmp_reg__,77-32
 1178 039e 07FE      		sbrs __tmp_reg__,7
 1179 03a0 00C0      		rjmp .L111
 1181               	.LM164:
 1182 03a2 8091 0000 		lds r24,mdmctrl0+1
 1183 03a6 8EBD      		out 78-32,r24
 1184               	.L112:
 1186               	.LM165:
 1187 03a8 0DB4      		in __tmp_reg__,77-32
 1188 03aa 07FE      		sbrs __tmp_reg__,7
 1189 03ac 00C0      		rjmp .L112
 1191               	.LM166:
 1192 03ae 8091 0000 		lds r24,mdmctrl0
 1193 03b2 8EBD      		out 78-32,r24
 1194               	.L113:
 1196               	.LM167:
 1197 03b4 0DB4      		in __tmp_reg__,77-32
 1198 03b6 07FE      		sbrs __tmp_reg__,7
 1199 03b8 00C0      		rjmp .L113
 1201               	.LM168:
 1202 03ba 409A      		sbi 40-32,0
 1203               	/* epilogue start */
 195:../../../src/radio/cc2420/source/basic_rf.c **** }
 1205               	.LM169:
 1206 03bc 0895      		ret
 1208               	.Lscope14:
 1210               		.stabd	78,0,0
 1212               	.global	rf_auto_ack_enable
 1214               	rf_auto_ack_enable:
 1215               		.stabd	46,0,0
 196:../../../src/radio/cc2420/source/basic_rf.c **** 
 197:../../../src/radio/cc2420/source/basic_rf.c **** 
 198:../../../src/radio/cc2420/source/basic_rf.c **** void rf_auto_ack_enable()
 199:../../../src/radio/cc2420/source/basic_rf.c **** {
 1217               	.LM170:
 1218               	.LFBB15:
 1219               	/* prologue: function */
 1220               	/* frame size = 0 */
 1221               	/* stack size = 0 */
 1222               	.L__stack_usage = 0
 200:../../../src/radio/cc2420/source/basic_rf.c ****     auto_ack_enable=1;
 1224               	.LM171:
 1225 03be 81E0      		ldi r24,lo8(1)
 1226 03c0 8093 0000 		sts auto_ack_enable,r24
 201:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= 0x0010;
 1228               	.LM172:
 1229 03c4 8091 0000 		lds r24,mdmctrl0
 1230 03c8 9091 0000 		lds r25,mdmctrl0+1
 1231 03cc 8061      		ori r24,lo8(16)
 1232 03ce 9093 0000 		sts mdmctrl0+1,r25
 1233 03d2 8093 0000 		sts mdmctrl0,r24
 202:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 1235               	.LM173:
 1236 03d6 4098      		cbi 40-32,0
 1237 03d8 81E1      		ldi r24,lo8(17)
 1238 03da 8EBD      		out 78-32,r24
 1239               	.L118:
 1241               	.LM174:
 1242 03dc 0DB4      		in __tmp_reg__,77-32
 1243 03de 07FE      		sbrs __tmp_reg__,7
 1244 03e0 00C0      		rjmp .L118
 1246               	.LM175:
 1247 03e2 8091 0000 		lds r24,mdmctrl0+1
 1248 03e6 8EBD      		out 78-32,r24
 1249               	.L119:
 1251               	.LM176:
 1252 03e8 0DB4      		in __tmp_reg__,77-32
 1253 03ea 07FE      		sbrs __tmp_reg__,7
 1254 03ec 00C0      		rjmp .L119
 1256               	.LM177:
 1257 03ee 8091 0000 		lds r24,mdmctrl0
 1258 03f2 8EBD      		out 78-32,r24
 1259               	.L120:
 1261               	.LM178:
 1262 03f4 0DB4      		in __tmp_reg__,77-32
 1263 03f6 07FE      		sbrs __tmp_reg__,7
 1264 03f8 00C0      		rjmp .L120
 1266               	.LM179:
 1267 03fa 409A      		sbi 40-32,0
 1268               	/* epilogue start */
 203:../../../src/radio/cc2420/source/basic_rf.c **** }
 1270               	.LM180:
 1271 03fc 0895      		ret
 1273               	.Lscope15:
 1275               		.stabd	78,0,0
 1277               	.global	rf_auto_ack_disable
 1279               	rf_auto_ack_disable:
 1280               		.stabd	46,0,0
 204:../../../src/radio/cc2420/source/basic_rf.c **** 
 205:../../../src/radio/cc2420/source/basic_rf.c **** void rf_auto_ack_disable()
 206:../../../src/radio/cc2420/source/basic_rf.c **** {
 1282               	.LM181:
 1283               	.LFBB16:
 1284               	/* prologue: function */
 1285               	/* frame size = 0 */
 1286               	/* stack size = 0 */
 1287               	.L__stack_usage = 0
 207:../../../src/radio/cc2420/source/basic_rf.c ****     auto_ack_enable=0;
 1289               	.LM182:
 1290 03fe 1092 0000 		sts auto_ack_enable,__zero_reg__
 208:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (~0x0010);
 1292               	.LM183:
 1293 0402 8091 0000 		lds r24,mdmctrl0
 1294 0406 9091 0000 		lds r25,mdmctrl0+1
 1295 040a 8F7E      		andi r24,lo8(-17)
 1296 040c 9093 0000 		sts mdmctrl0+1,r25
 1297 0410 8093 0000 		sts mdmctrl0,r24
 209:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 1299               	.LM184:
 1300 0414 4098      		cbi 40-32,0
 1301 0416 81E1      		ldi r24,lo8(17)
 1302 0418 8EBD      		out 78-32,r24
 1303               	.L125:
 1305               	.LM185:
 1306 041a 0DB4      		in __tmp_reg__,77-32
 1307 041c 07FE      		sbrs __tmp_reg__,7
 1308 041e 00C0      		rjmp .L125
 1310               	.LM186:
 1311 0420 8091 0000 		lds r24,mdmctrl0+1
 1312 0424 8EBD      		out 78-32,r24
 1313               	.L126:
 1315               	.LM187:
 1316 0426 0DB4      		in __tmp_reg__,77-32
 1317 0428 07FE      		sbrs __tmp_reg__,7
 1318 042a 00C0      		rjmp .L126
 1320               	.LM188:
 1321 042c 8091 0000 		lds r24,mdmctrl0
 1322 0430 8EBD      		out 78-32,r24
 1323               	.L127:
 1325               	.LM189:
 1326 0432 0DB4      		in __tmp_reg__,77-32
 1327 0434 07FE      		sbrs __tmp_reg__,7
 1328 0436 00C0      		rjmp .L127
 1330               	.LM190:
 1331 0438 409A      		sbi 40-32,0
 1332               	/* epilogue start */
 210:../../../src/radio/cc2420/source/basic_rf.c **** }
 1334               	.LM191:
 1335 043a 0895      		ret
 1337               	.Lscope16:
 1339               		.stabd	78,0,0
 1342               	.global	rf_addr_decode_set_my_mac
 1344               	rf_addr_decode_set_my_mac:
 1345               		.stabd	46,0,0
 211:../../../src/radio/cc2420/source/basic_rf.c **** 
 212:../../../src/radio/cc2420/source/basic_rf.c **** 
 213:../../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_set_my_mac(uint16_t my_mac)
 214:../../../src/radio/cc2420/source/basic_rf.c **** {
 1347               	.LM192:
 1348               	.LFBB17:
 1349 043c DF93      		push r29
 1350 043e CF93      		push r28
 1351 0440 00D0      		rcall .
 1352 0442 CDB7      		in r28,__SP_L__
 1353 0444 DEB7      		in r29,__SP_H__
 1354               	/* prologue: function */
 1355               	/* frame size = 2 */
 1356               	/* stack size = 4 */
 1357               	.L__stack_usage = 4
 1358 0446 9A83      		std Y+2,r25
 1359 0448 8983      		std Y+1,r24
 215:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t n;
 216:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.myAddr = my_mac;
 1361               	.LM193:
 1362 044a 9093 0000 		sts rfSettings+6+1,r25
 1363 044e 8093 0000 		sts rfSettings+6,r24
 217:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 1365               	.LM194:
 1366 0452 84EF      		ldi r24,lo8(500)
 1367 0454 91E0      		ldi r25,hi8(500)
 1368 0456 0E94 0000 		call nrk_spin_wait_us
 218:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&my_mac, CC2420RAM_SHORTADDR, 2, n);
 1370               	.LM195:
 1371 045a 4098      		cbi 40-32,0
 1372 045c 8AEE      		ldi r24,lo8(-22)
 1373 045e 8EBD      		out 78-32,r24
 1374               	.L132:
 1376               	.LM196:
 1377 0460 0DB4      		in __tmp_reg__,77-32
 1378 0462 07FE      		sbrs __tmp_reg__,7
 1379 0464 00C0      		rjmp .L132
 1381               	.LM197:
 1382 0466 80E8      		ldi r24,lo8(-128)
 1383 0468 8EBD      		out 78-32,r24
 1384               	.L133:
 1386               	.LM198:
 1387 046a 0DB4      		in __tmp_reg__,77-32
 1388 046c 07FE      		sbrs __tmp_reg__,7
 1389 046e 00C0      		rjmp .L133
 1391               	.LM199:
 1392 0470 FE01      		movw r30,r28
 1393 0472 3196      		adiw r30,1
 213:../../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_set_my_mac(uint16_t my_mac)
 1395               	.LM200:
 1396 0474 CE01      		movw r24,r28
 1397 0476 0396      		adiw r24,3
 1398               	.L135:
 1400               	.LM201:
 1401 0478 2191      		ld r18,Z+
 1402 047a 2EBD      		out 78-32,r18
 1403               	.L134:
 1405               	.LM202:
 1406 047c 0DB4      		in __tmp_reg__,77-32
 1407 047e 07FE      		sbrs __tmp_reg__,7
 1408 0480 00C0      		rjmp .L134
 1410               	.LM203:
 1411 0482 E817      		cp r30,r24
 1412 0484 F907      		cpc r31,r25
 1413 0486 01F4      		brne .L135
 1415               	.LM204:
 1416 0488 409A      		sbi 40-32,0
 219:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 1418               	.LM205:
 1419 048a 84EF      		ldi r24,lo8(500)
 1420 048c 91E0      		ldi r25,hi8(500)
 1421 048e 0E94 0000 		call nrk_spin_wait_us
 1422               	/* epilogue start */
 220:../../../src/radio/cc2420/source/basic_rf.c **** }
 1424               	.LM206:
 1425 0492 0F90      		pop __tmp_reg__
 1426 0494 0F90      		pop __tmp_reg__
 1427 0496 CF91      		pop r28
 1428 0498 DF91      		pop r29
 1429 049a 0895      		ret
 1431               	.Lscope17:
 1433               		.stabd	78,0,0
 1437               	.global	rf_set_rx
 1439               	rf_set_rx:
 1440               		.stabd	46,0,0
 221:../../../src/radio/cc2420/source/basic_rf.c **** 
 222:../../../src/radio/cc2420/source/basic_rf.c **** 
 223:../../../src/radio/cc2420/source/basic_rf.c **** 
 224:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_rx(RF_RX_INFO *pRRI, uint8_t channel )
 225:../../../src/radio/cc2420/source/basic_rf.c **** {
 1442               	.LM207:
 1443               	.LFBB18:
 1444 049c CF93      		push r28
 1445 049e DF93      		push r29
 1446               	/* prologue: function */
 1447               	/* frame size = 0 */
 1448               	/* stack size = 2 */
 1449               	.L__stack_usage = 2
 1450 04a0 EC01      		movw r28,r24
 1451 04a2 862F      		mov r24,r22
 226:../../../src/radio/cc2420/source/basic_rf.c **** 
 227:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 228:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 229:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 230:../../../src/radio/cc2420/source/basic_rf.c **** 
 231:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 1453               	.LM208:
 1454 04a4 4098      		cbi 40-32,0
 1455 04a6 98E0      		ldi r25,lo8(8)
 1456 04a8 9EBD      		out 78-32,r25
 1457               	.L141:
 1459               	.LM209:
 1460 04aa 0DB4      		in __tmp_reg__,77-32
 1461 04ac 07FE      		sbrs __tmp_reg__,7
 1462 04ae 00C0      		rjmp .L141
 1464               	.LM210:
 1465 04b0 409A      		sbi 40-32,0
 232:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 1467               	.LM211:
 1468 04b2 4098      		cbi 40-32,0
 1469 04b4 98E0      		ldi r25,lo8(8)
 1470 04b6 9EBD      		out 78-32,r25
 1471               	.L142:
 1473               	.LM212:
 1474 04b8 0DB4      		in __tmp_reg__,77-32
 1475 04ba 07FE      		sbrs __tmp_reg__,7
 1476 04bc 00C0      		rjmp .L142
 1478               	.LM213:
 1479 04be 409A      		sbi 40-32,0
 233:../../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 1481               	.LM214:
 1482 04c0 0E94 0000 		call halRfSetChannel
 234:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.pRxInfo = pRRI;
 1484               	.LM215:
 1485 04c4 D093 0000 		sts rfSettings+1,r29
 1486 04c8 C093 0000 		sts rfSettings,r28
 1487               	/* epilogue start */
 235:../../../src/radio/cc2420/source/basic_rf.c **** 
 236:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 237:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 238:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 239:../../../src/radio/cc2420/source/basic_rf.c **** }
 1489               	.LM216:
 1490 04cc DF91      		pop r29
 1491 04ce CF91      		pop r28
 1492 04d0 0895      		ret
 1494               	.Lscope18:
 1496               		.stabd	78,0,0
 1502               	.global	rf_init
 1504               	rf_init:
 1505               		.stabd	46,0,0
 240:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 241:../../../src/radio/cc2420/source/basic_rf.c **** //  void rf_init(RF_RX_INFO *pRRI, uint8_t channel, WORD panId, WORD myAddr)
 242:../../../src/radio/cc2420/source/basic_rf.c **** //
 243:../../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 244:../../../src/radio/cc2420/source/basic_rf.c **** //      Initializes CC2420 for radio communication via the basic RF library functions. Turns on the
 245:../../../src/radio/cc2420/source/basic_rf.c **** //		voltage regulator, resets the CC2420, turns on the crystal oscillator, writes all necessary
 246:../../../src/radio/cc2420/source/basic_rf.c **** //		registers and protocol addresses (for automatic address recognition). Note that the crystal
 247:../../../src/radio/cc2420/source/basic_rf.c **** //		oscillator will remain on (forever).
 248:../../../src/radio/cc2420/source/basic_rf.c **** //
 249:../../../src/radio/cc2420/source/basic_rf.c **** //  ARGUMENTS:
 250:../../../src/radio/cc2420/source/basic_rf.c **** //      RF_RX_INFO *pRRI
 251:../../../src/radio/cc2420/source/basic_rf.c **** //          A pointer the RF_RX_INFO data structure to be used during the first packet reception.
 252:../../../src/radio/cc2420/source/basic_rf.c **** //			The structure can be switched upon packet reception.
 253:../../../src/radio/cc2420/source/basic_rf.c **** //      uint8_t channel
 254:../../../src/radio/cc2420/source/basic_rf.c **** //          The RF channel to be used (11 = 2405 MHz to 26 = 2480 MHz)
 255:../../../src/radio/cc2420/source/basic_rf.c **** //      WORD panId
 256:../../../src/radio/cc2420/source/basic_rf.c **** //          The personal area network identification number
 257:../../../src/radio/cc2420/source/basic_rf.c **** //      WORD myAddr
 258:../../../src/radio/cc2420/source/basic_rf.c **** //          The 16-bit short address which is used by this node. Must together with the PAN ID form
 259:../../../src/radio/cc2420/source/basic_rf.c **** //			unique 32-bit identifier to avoid addressing conflicts. Normally, in a 802.15.4 network, the
 260:../../../src/radio/cc2420/source/basic_rf.c **** //			short address will be given to associated nodes by the PAN coordinator.
 261:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 262:../../../src/radio/cc2420/source/basic_rf.c **** void rf_init(RF_RX_INFO *pRRI, uint8_t channel, uint16_t panId, uint16_t myAddr)
 263:../../../src/radio/cc2420/source/basic_rf.c **** {
 1507               	.LM217:
 1508               	.LFBB19:
 1509 04d2 DF92      		push r13
 1510 04d4 EF92      		push r14
 1511 04d6 FF92      		push r15
 1512 04d8 0F93      		push r16
 1513 04da 1F93      		push r17
 1514 04dc DF93      		push r29
 1515 04de CF93      		push r28
 1516 04e0 00D0      		rcall .
 1517 04e2 CDB7      		in r28,__SP_L__
 1518 04e4 DEB7      		in r29,__SP_H__
 1519               	/* prologue: function */
 1520               	/* frame size = 2 */
 1521               	/* stack size = 9 */
 1522               	.L__stack_usage = 9
 1523 04e6 8C01      		movw r16,r24
 1524 04e8 D62E      		mov r13,r22
 1525 04ea 5A83      		std Y+2,r21
 1526 04ec 4983      		std Y+1,r20
 1527 04ee 7901      		movw r14,r18
 264:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t n;
 265:../../../src/radio/cc2420/source/basic_rf.c **** 
 266:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 267:../../../src/radio/cc2420/source/basic_rf.c ****     int8_t v;
 268:../../../src/radio/cc2420/source/basic_rf.c ****     radio_sem = nrk_sem_create(1,RADIO_PRIORITY_CEILING);
 269:../../../src/radio/cc2420/source/basic_rf.c ****     if (radio_sem == NULL)
 270:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_kernel_error_add (NRK_SEMAPHORE_CREATE_ERROR, nrk_get_pid ());
 271:../../../src/radio/cc2420/source/basic_rf.c **** 
 272:../../../src/radio/cc2420/source/basic_rf.c ****     v = nrk_sem_pend (radio_sem);
 273:../../../src/radio/cc2420/source/basic_rf.c ****     if (v == NRK_ERROR)
 274:../../../src/radio/cc2420/source/basic_rf.c ****     {
 275:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_kprintf (PSTR ("CC2420 ERROR:  Access to semaphore failed\r\n"));
 276:../../../src/radio/cc2420/source/basic_rf.c ****     }
 277:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 278:../../../src/radio/cc2420/source/basic_rf.c **** 
 279:../../../src/radio/cc2420/source/basic_rf.c ****     // Make sure that the voltage regulator is on, and that the reset pin is inactive
 280:../../../src/radio/cc2420/source/basic_rf.c ****     SET_VREG_ACTIVE();
 1529               	.LM218:
 1530 04f0 159A      		sbi 34-32,5
 281:../../../src/radio/cc2420/source/basic_rf.c ****     halWait(1000);
 1532               	.LM219:
 1533 04f2 88EE      		ldi r24,lo8(1000)
 1534 04f4 93E0      		ldi r25,hi8(1000)
 1535 04f6 0E94 0000 		call halWait
 282:../../../src/radio/cc2420/source/basic_rf.c ****     SET_RESET_ACTIVE();
 1537               	.LM220:
 1538 04fa 1698      		cbi 34-32,6
 283:../../../src/radio/cc2420/source/basic_rf.c ****     halWait(1);
 1540               	.LM221:
 1541 04fc 81E0      		ldi r24,lo8(1)
 1542 04fe 90E0      		ldi r25,hi8(1)
 1543 0500 0E94 0000 		call halWait
 284:../../../src/radio/cc2420/source/basic_rf.c ****     SET_RESET_INACTIVE();
 1545               	.LM222:
 1546 0504 169A      		sbi 34-32,6
 285:../../../src/radio/cc2420/source/basic_rf.c ****     halWait(100);
 1548               	.LM223:
 1549 0506 84E6      		ldi r24,lo8(100)
 1550 0508 90E0      		ldi r25,hi8(100)
 1551 050a 0E94 0000 		call halWait
 286:../../../src/radio/cc2420/source/basic_rf.c **** 
 287:../../../src/radio/cc2420/source/basic_rf.c ****     // Initialize the FIFOP external interrupt
 288:../../../src/radio/cc2420/source/basic_rf.c ****     //FIFOP_INT_INIT();
 289:../../../src/radio/cc2420/source/basic_rf.c ****     //ENABLE_FIFOP_INT();
 290:../../../src/radio/cc2420/source/basic_rf.c **** 
 291:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off all interrupts while we're accessing the CC2420 registers
 292:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 1553               	.LM224:
 1554               	/* #APP */
 1555               	 ;  292 "../../../src/radio/cc2420/source/basic_rf.c" 1
 1556 050e F894      		cli
 1557               		
 1558               	 ;  0 "" 2
 293:../../../src/radio/cc2420/source/basic_rf.c **** 
 294:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 1560               	.LM225:
 1561               	/* #NOAPP */
 1562 0510 4098      		cbi 40-32,0
 1563 0512 81E0      		ldi r24,lo8(1)
 1564 0514 8EBD      		out 78-32,r24
 1565               	.L146:
 1567               	.LM226:
 1568 0516 0DB4      		in __tmp_reg__,77-32
 1569 0518 07FE      		sbrs __tmp_reg__,7
 1570 051a 00C0      		rjmp .L146
 1572               	.LM227:
 1573 051c 409A      		sbi 40-32,0
 295:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0=0x02E2;
 1575               	.LM228:
 1576 051e 82EE      		ldi r24,lo8(738)
 1577 0520 92E0      		ldi r25,hi8(738)
 1578 0522 9093 0000 		sts mdmctrl0+1,r25
 1579 0526 8093 0000 		sts mdmctrl0,r24
 296:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);  // Std Preamble, CRC, no auto ack, no hw addr decod
 1581               	.LM229:
 1582 052a 4098      		cbi 40-32,0
 1583 052c 81E1      		ldi r24,lo8(17)
 1584 052e 8EBD      		out 78-32,r24
 1585               	.L147:
 1587               	.LM230:
 1588 0530 0DB4      		in __tmp_reg__,77-32
 1589 0532 07FE      		sbrs __tmp_reg__,7
 1590 0534 00C0      		rjmp .L147
 1592               	.LM231:
 1593 0536 8091 0000 		lds r24,mdmctrl0+1
 1594 053a 8EBD      		out 78-32,r24
 1595               	.L148:
 1597               	.LM232:
 1598 053c 0DB4      		in __tmp_reg__,77-32
 1599 053e 07FE      		sbrs __tmp_reg__,7
 1600 0540 00C0      		rjmp .L148
 1602               	.LM233:
 1603 0542 8091 0000 		lds r24,mdmctrl0
 1604 0546 8EBD      		out 78-32,r24
 1605               	.L149:
 1607               	.LM234:
 1608 0548 0DB4      		in __tmp_reg__,77-32
 1609 054a 07FE      		sbrs __tmp_reg__,7
 1610 054c 00C0      		rjmp .L149
 1612               	.LM235:
 1613 054e 409A      		sbi 40-32,0
 297:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_SETREG(CC2420_MDMCTRL0, 0x0AF2);  // Turn on automatic packet acknowledgment
 298:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn on hw addre decoding
 299:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0500); // Set the correlation threshold = 20
 1615               	.LM236:
 1616 0550 4098      		cbi 40-32,0
 1617 0552 82E1      		ldi r24,lo8(18)
 1618 0554 8EBD      		out 78-32,r24
 1619               	.L150:
 1621               	.LM237:
 1622 0556 0DB4      		in __tmp_reg__,77-32
 1623 0558 07FE      		sbrs __tmp_reg__,7
 1624 055a 00C0      		rjmp .L150
 1626               	.LM238:
 1627 055c 85E0      		ldi r24,lo8(5)
 1628 055e 8EBD      		out 78-32,r24
 1629               	.L151:
 1631               	.LM239:
 1632 0560 0DB4      		in __tmp_reg__,77-32
 1633 0562 07FE      		sbrs __tmp_reg__,7
 1634 0564 00C0      		rjmp .L151
 1636               	.LM240:
 1637 0566 1EBC      		out 78-32,__zero_reg__
 1638               	.L152:
 1640               	.LM241:
 1641 0568 0DB4      		in __tmp_reg__,77-32
 1642 056a 07FE      		sbrs __tmp_reg__,7
 1643 056c 00C0      		rjmp .L152
 1645               	.LM242:
 1646 056e 409A      		sbi 40-32,0
 300:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_IOCFG0, 0x007F);   // Set the FIFOP threshold to maximum
 1648               	.LM243:
 1649 0570 4098      		cbi 40-32,0
 1650 0572 8CE1      		ldi r24,lo8(28)
 1651 0574 8EBD      		out 78-32,r24
 1652               	.L153:
 1654               	.LM244:
 1655 0576 0DB4      		in __tmp_reg__,77-32
 1656 0578 07FE      		sbrs __tmp_reg__,7
 1657 057a 00C0      		rjmp .L153
 1659               	.LM245:
 1660 057c 1EBC      		out 78-32,__zero_reg__
 1661               	.L154:
 1663               	.LM246:
 1664 057e 0DB4      		in __tmp_reg__,77-32
 1665 0580 07FE      		sbrs __tmp_reg__,7
 1666 0582 00C0      		rjmp .L154
 1668               	.LM247:
 1669 0584 8FE7      		ldi r24,lo8(127)
 1670 0586 8EBD      		out 78-32,r24
 1671               	.L155:
 1673               	.LM248:
 1674 0588 0DB4      		in __tmp_reg__,77-32
 1675 058a 07FE      		sbrs __tmp_reg__,7
 1676 058c 00C0      		rjmp .L155
 1678               	.LM249:
 1679 058e 409A      		sbi 40-32,0
 301:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL0, 0x01C4); // Turn off "Security"
 1681               	.LM250:
 1682 0590 4098      		cbi 40-32,0
 1683 0592 89E1      		ldi r24,lo8(25)
 1684 0594 8EBD      		out 78-32,r24
 1685               	.L156:
 1687               	.LM251:
 1688 0596 0DB4      		in __tmp_reg__,77-32
 1689 0598 07FE      		sbrs __tmp_reg__,7
 1690 059a 00C0      		rjmp .L156
 1692               	.LM252:
 1693 059c 81E0      		ldi r24,lo8(1)
 1694 059e 8EBD      		out 78-32,r24
 1695               	.L157:
 1697               	.LM253:
 1698 05a0 0DB4      		in __tmp_reg__,77-32
 1699 05a2 07FE      		sbrs __tmp_reg__,7
 1700 05a4 00C0      		rjmp .L157
 1702               	.LM254:
 1703 05a6 84EC      		ldi r24,lo8(-60)
 1704 05a8 8EBD      		out 78-32,r24
 1705               	.L158:
 1707               	.LM255:
 1708 05aa 0DB4      		in __tmp_reg__,77-32
 1709 05ac 07FE      		sbrs __tmp_reg__,7
 1710 05ae 00C0      		rjmp .L158
 1712               	.LM256:
 1713 05b0 409A      		sbi 40-32,0
 302:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_RXCTRL1, 0x1A56); // All default except
 1715               	.LM257:
 1716 05b2 4098      		cbi 40-32,0
 1717 05b4 87E1      		ldi r24,lo8(23)
 1718 05b6 8EBD      		out 78-32,r24
 1719               	.L159:
 1721               	.LM258:
 1722 05b8 0DB4      		in __tmp_reg__,77-32
 1723 05ba 07FE      		sbrs __tmp_reg__,7
 1724 05bc 00C0      		rjmp .L159
 1726               	.LM259:
 1727 05be 8AE1      		ldi r24,lo8(26)
 1728 05c0 8EBD      		out 78-32,r24
 1729               	.L160:
 1731               	.LM260:
 1732 05c2 0DB4      		in __tmp_reg__,77-32
 1733 05c4 07FE      		sbrs __tmp_reg__,7
 1734 05c6 00C0      		rjmp .L160
 1736               	.LM261:
 1737 05c8 86E5      		ldi r24,lo8(86)
 1738 05ca 8EBD      		out 78-32,r24
 1739               	.L161:
 1741               	.LM262:
 1742 05cc 0DB4      		in __tmp_reg__,77-32
 1743 05ce 07FE      		sbrs __tmp_reg__,7
 1744 05d0 00C0      		rjmp .L161
 1746               	.LM263:
 1747 05d2 409A      		sbi 40-32,0
 303:../../../src/radio/cc2420/source/basic_rf.c ****     // reference bias current to RX
 304:../../../src/radio/cc2420/source/basic_rf.c ****     // bandpass filter is set to 3uA
 305:../../../src/radio/cc2420/source/basic_rf.c **** 
 306:../../../src/radio/cc2420/source/basic_rf.c ****     /*
 307:../../../src/radio/cc2420/source/basic_rf.c ****         // FIXME: remove later for auto ack
 308:../../../src/radio/cc2420/source/basic_rf.c ****         myAddr=MY_MAC;
 309:../../../src/radio/cc2420/source/basic_rf.c ****         panId=0x02;
 310:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_SETREG(CC2420_MDMCTRL0, 0x0AF2);  // Turn on automatic packet acknowledgment
 311:../../../src/radio/cc2420/source/basic_rf.c ****     //    FASTSPI_SETREG(CC2420_MDMCTRL0, 0x0AE2);  // Turn on automatic packet acknowledgment
 312:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(500);
 313:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(500);
 314:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&myAddr, CC2420RAM_SHORTADDR, 2, n);
 315:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(500);
 316:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&panId, CC2420RAM_PANID, 2, n);
 317:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(500);
 318:../../../src/radio/cc2420/source/basic_rf.c **** 
 319:../../../src/radio/cc2420/source/basic_rf.c ****        printf( "myAddr=%d\r\n",myAddr );
 320:../../../src/radio/cc2420/source/basic_rf.c ****     */
 321:../../../src/radio/cc2420/source/basic_rf.c **** 
 322:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 1749               	.LM264:
 1750 05d4 84EF      		ldi r24,lo8(500)
 1751 05d6 91E0      		ldi r25,hi8(500)
 1752 05d8 0E94 0000 		call nrk_spin_wait_us
 323:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&panId, CC2420RAM_PANID, 2, n);
 1754               	.LM265:
 1755 05dc 4098      		cbi 40-32,0
 1756 05de 88EE      		ldi r24,lo8(-24)
 1757 05e0 8EBD      		out 78-32,r24
 1758               	.L162:
 1760               	.LM266:
 1761 05e2 0DB4      		in __tmp_reg__,77-32
 1762 05e4 07FE      		sbrs __tmp_reg__,7
 1763 05e6 00C0      		rjmp .L162
 1765               	.LM267:
 1766 05e8 80E8      		ldi r24,lo8(-128)
 1767 05ea 8EBD      		out 78-32,r24
 1768               	.L163:
 1770               	.LM268:
 1771 05ec 0DB4      		in __tmp_reg__,77-32
 1772 05ee 07FE      		sbrs __tmp_reg__,7
 1773 05f0 00C0      		rjmp .L163
 1775               	.LM269:
 1776 05f2 FE01      		movw r30,r28
 1777 05f4 3196      		adiw r30,1
 262:../../../src/radio/cc2420/source/basic_rf.c **** void rf_init(RF_RX_INFO *pRRI, uint8_t channel, uint16_t panId, uint16_t myAddr)
 1779               	.LM270:
 1780 05f6 CE01      		movw r24,r28
 1781 05f8 0396      		adiw r24,3
 1782               	.L165:
 1784               	.LM271:
 1785 05fa 2191      		ld r18,Z+
 1786 05fc 2EBD      		out 78-32,r18
 1787               	.L164:
 1789               	.LM272:
 1790 05fe 0DB4      		in __tmp_reg__,77-32
 1791 0600 07FE      		sbrs __tmp_reg__,7
 1792 0602 00C0      		rjmp .L164
 1794               	.LM273:
 1795 0604 E817      		cp r30,r24
 1796 0606 F907      		cpc r31,r25
 1797 0608 01F4      		brne .L165
 1799               	.LM274:
 1800 060a 409A      		sbi 40-32,0
 324:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 1802               	.LM275:
 1803 060c 84EF      		ldi r24,lo8(500)
 1804 060e 91E0      		ldi r25,hi8(500)
 1805 0610 0E94 0000 		call nrk_spin_wait_us
 325:../../../src/radio/cc2420/source/basic_rf.c **** 
 326:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 1807               	.LM276:
 1808               	/* #APP */
 1809               	 ;  326 "../../../src/radio/cc2420/source/basic_rf.c" 1
 1810 0614 7894      		sei
 1811               		
 1812               	 ;  0 "" 2
 327:../../../src/radio/cc2420/source/basic_rf.c **** 
 328:../../../src/radio/cc2420/source/basic_rf.c ****     // Set the RF channel
 329:../../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 1814               	.LM277:
 1815               	/* #NOAPP */
 1816 0616 8D2D      		mov r24,r13
 1817 0618 0E94 0000 		call halRfSetChannel
 330:../../../src/radio/cc2420/source/basic_rf.c **** 
 331:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn interrupts back on
 332:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 1819               	.LM278:
 1820               	/* #APP */
 1821               	 ;  332 "../../../src/radio/cc2420/source/basic_rf.c" 1
 1822 061c 7894      		sei
 1823               		
 1824               	 ;  0 "" 2
 333:../../../src/radio/cc2420/source/basic_rf.c **** 
 334:../../../src/radio/cc2420/source/basic_rf.c ****     // Set the protocol configuration
 335:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.pRxInfo = pRRI;
 1826               	.LM279:
 1827               	/* #NOAPP */
 1828 061e 1093 0000 		sts rfSettings+1,r17
 1829 0622 0093 0000 		sts rfSettings,r16
 336:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.panId = panId;
 1831               	.LM280:
 1832 0626 8981      		ldd r24,Y+1
 1833 0628 9A81      		ldd r25,Y+2
 1834 062a 9093 0000 		sts rfSettings+4+1,r25
 1835 062e 8093 0000 		sts rfSettings+4,r24
 337:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.myAddr = myAddr;
 1837               	.LM281:
 1838 0632 F092 0000 		sts rfSettings+6+1,r15
 1839 0636 E092 0000 		sts rfSettings+6,r14
 338:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber = 0;
 1841               	.LM282:
 1842 063a 1092 0000 		sts rfSettings+2,__zero_reg__
 339:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.receiveOn = FALSE;
 1844               	.LM283:
 1845 063e 1092 0000 		sts rfSettings+8,__zero_reg__
 340:../../../src/radio/cc2420/source/basic_rf.c **** 
 341:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the crystal oscillator to become stable
 342:../../../src/radio/cc2420/source/basic_rf.c ****     halRfWaitForCrystalOscillator();
 1847               	.LM284:
 1848 0642 0E94 0000 		call halRfWaitForCrystalOscillator
 343:../../../src/radio/cc2420/source/basic_rf.c **** 
 344:../../../src/radio/cc2420/source/basic_rf.c ****     // Write the short address and the PAN ID to the CC2420 RAM (requires that the XOSC is on and s
 345:../../../src/radio/cc2420/source/basic_rf.c ****     //	DISABLE_GLOBAL_INT();
 346:../../../src/radio/cc2420/source/basic_rf.c **** //    FASTSPI_WRITE_RAM_LE(&myAddr, CC2420RAM_SHORTADDR, 2, n);
 347:../../../src/radio/cc2420/source/basic_rf.c **** //    FASTSPI_WRITE_RAM_LE(&panId, CC2420RAM_PANID, 2, n);
 348:../../../src/radio/cc2420/source/basic_rf.c ****     //	ENABLE_GLOBAL_INT();
 349:../../../src/radio/cc2420/source/basic_rf.c **** 
 350:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 351:../../../src/radio/cc2420/source/basic_rf.c ****     v = nrk_sem_post (radio_sem);
 352:../../../src/radio/cc2420/source/basic_rf.c ****     if (v == NRK_ERROR)
 353:../../../src/radio/cc2420/source/basic_rf.c ****     {
 354:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_kprintf (PSTR ("CC2420 ERROR:  Release of semaphore failed\r\n"));
 355:../../../src/radio/cc2420/source/basic_rf.c ****         _nrk_errno_set (2);
 356:../../../src/radio/cc2420/source/basic_rf.c ****     }
 357:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 358:../../../src/radio/cc2420/source/basic_rf.c **** 
 359:../../../src/radio/cc2420/source/basic_rf.c ****     auto_ack_enable=0;
 1850               	.LM285:
 1851 0646 1092 0000 		sts auto_ack_enable,__zero_reg__
 360:../../../src/radio/cc2420/source/basic_rf.c ****     security_enable=0;
 1853               	.LM286:
 1854 064a 1092 0000 		sts security_enable,__zero_reg__
 361:../../../src/radio/cc2420/source/basic_rf.c ****     last_pkt_encrypted=0;
 1856               	.LM287:
 1857 064e 1092 0000 		sts last_pkt_encrypted,__zero_reg__
 1858               	/* epilogue start */
 362:../../../src/radio/cc2420/source/basic_rf.c **** } // rf_init()
 1860               	.LM288:
 1861 0652 0F90      		pop __tmp_reg__
 1862 0654 0F90      		pop __tmp_reg__
 1863 0656 CF91      		pop r28
 1864 0658 DF91      		pop r29
 1865 065a 1F91      		pop r17
 1866 065c 0F91      		pop r16
 1867 065e FF90      		pop r15
 1868 0660 EF90      		pop r14
 1869 0662 DF90      		pop r13
 1870 0664 0895      		ret
 1872               	.Lscope19:
 1874               		.stabd	78,0,0
 1876               	.global	rf_rx_on
 1878               	rf_rx_on:
 1879               		.stabd	46,0,0
 363:../../../src/radio/cc2420/source/basic_rf.c **** 
 364:../../../src/radio/cc2420/source/basic_rf.c **** 
 365:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 366:../../../src/radio/cc2420/source/basic_rf.c **** //  void rf_rx_on(void)
 367:../../../src/radio/cc2420/source/basic_rf.c **** //
 368:../../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 369:../../../src/radio/cc2420/source/basic_rf.c **** //      Enables the CC2420 receiver and the FIFOP interrupt. When a packet is received through this
 370:../../../src/radio/cc2420/source/basic_rf.c **** //      interrupt, it will call rf_rx_callback(...), which must be defined by the application
 371:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 372:../../../src/radio/cc2420/source/basic_rf.c **** void rf_rx_on(void)
 373:../../../src/radio/cc2420/source/basic_rf.c **** {
 1881               	.LM289:
 1882               	.LFBB20:
 1883               	/* prologue: function */
 1884               	/* frame size = 0 */
 1885               	/* stack size = 0 */
 1886               	.L__stack_usage = 0
 374:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 375:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 376:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 377:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.receiveOn = TRUE;
 1888               	.LM290:
 1889 0666 81E0      		ldi r24,lo8(1)
 1890 0668 8093 0000 		sts rfSettings+8,r24
 378:../../../src/radio/cc2420/source/basic_rf.c **** 
 379:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 380:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 381:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 382:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 383:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRXON);
 1892               	.LM291:
 1893 066c 4098      		cbi 40-32,0
 1894 066e 83E0      		ldi r24,lo8(3)
 1895 0670 8EBD      		out 78-32,r24
 1896               	.L187:
 1898               	.LM292:
 1899 0672 0DB4      		in __tmp_reg__,77-32
 1900 0674 07FE      		sbrs __tmp_reg__,7
 1901 0676 00C0      		rjmp .L187
 1903               	.LM293:
 1904 0678 409A      		sbi 40-32,0
 384:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 1906               	.LM294:
 1907 067a 4098      		cbi 40-32,0
 1908 067c 88E0      		ldi r24,lo8(8)
 1909 067e 8EBD      		out 78-32,r24
 1910               	.L188:
 1912               	.LM295:
 1913 0680 0DB4      		in __tmp_reg__,77-32
 1914 0682 07FE      		sbrs __tmp_reg__,7
 1915 0684 00C0      		rjmp .L188
 1917               	.LM296:
 1918 0686 409A      		sbi 40-32,0
 385:../../../src/radio/cc2420/source/basic_rf.c ****     rx_ready=0;
 1920               	.LM297:
 1921 0688 1092 0000 		sts rx_ready,__zero_reg__
 1922               	/* epilogue start */
 386:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 387:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 388:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 389:../../../src/radio/cc2420/source/basic_rf.c ****     //	ENABLE_FIFOP_INT();
 390:../../../src/radio/cc2420/source/basic_rf.c **** } // rf_rx_on()
 1924               	.LM298:
 1925 068c 0895      		ret
 1927               	.Lscope20:
 1929               		.stabd	78,0,0
 1931               	.global	rf_polling_rx_on
 1933               	rf_polling_rx_on:
 1934               		.stabd	46,0,0
 391:../../../src/radio/cc2420/source/basic_rf.c **** 
 392:../../../src/radio/cc2420/source/basic_rf.c **** void rf_polling_rx_on(void)
 393:../../../src/radio/cc2420/source/basic_rf.c **** {
 1936               	.LM299:
 1937               	.LFBB21:
 1938               	/* prologue: function */
 1939               	/* frame size = 0 */
 1940               	/* stack size = 0 */
 1941               	.L__stack_usage = 0
 394:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 395:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 396:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 397:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.receiveOn = TRUE;
 1943               	.LM300:
 1944 068e 81E0      		ldi r24,lo8(1)
 1945 0690 8093 0000 		sts rfSettings+8,r24
 398:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 399:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 400:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 401:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 402:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRXON);
 1947               	.LM301:
 1948 0694 4098      		cbi 40-32,0
 1949 0696 83E0      		ldi r24,lo8(3)
 1950 0698 8EBD      		out 78-32,r24
 1951               	.L192:
 1953               	.LM302:
 1954 069a 0DB4      		in __tmp_reg__,77-32
 1955 069c 07FE      		sbrs __tmp_reg__,7
 1956 069e 00C0      		rjmp .L192
 1958               	.LM303:
 1959 06a0 409A      		sbi 40-32,0
 403:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 1961               	.LM304:
 1962 06a2 4098      		cbi 40-32,0
 1963 06a4 88E0      		ldi r24,lo8(8)
 1964 06a6 8EBD      		out 78-32,r24
 1965               	.L193:
 1967               	.LM305:
 1968 06a8 0DB4      		in __tmp_reg__,77-32
 1969 06aa 07FE      		sbrs __tmp_reg__,7
 1970 06ac 00C0      		rjmp .L193
 1972               	.LM306:
 1973 06ae 409A      		sbi 40-32,0
 404:../../../src/radio/cc2420/source/basic_rf.c ****     rx_ready=0;
 1975               	.LM307:
 1976 06b0 1092 0000 		sts rx_ready,__zero_reg__
 1977               	/* epilogue start */
 405:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 406:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 407:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 408:../../../src/radio/cc2420/source/basic_rf.c **** } // rf_rx_on()
 1979               	.LM308:
 1980 06b4 0895      		ret
 1982               	.Lscope21:
 1984               		.stabd	78,0,0
 1986               	.global	rf_rx_off
 1988               	rf_rx_off:
 1989               		.stabd	46,0,0
 409:../../../src/radio/cc2420/source/basic_rf.c **** 
 410:../../../src/radio/cc2420/source/basic_rf.c **** 
 411:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
 412:../../../src/radio/cc2420/source/basic_rf.c **** // Here is a sample of the rf_rx_callback() that should
 413:../../../src/radio/cc2420/source/basic_rf.c **** // be placed in your application
 414:../../../src/radio/cc2420/source/basic_rf.c **** 
 415:../../../src/radio/cc2420/source/basic_rf.c **** RF_RX_INFO* rf_rx_callback(RF_RX_INFO *pRRI) {
 416:../../../src/radio/cc2420/source/basic_rf.c **** 	// Its okay to leave this empty...
 417:../../../src/radio/cc2420/source/basic_rf.c **** 	return pRRI;
 418:../../../src/radio/cc2420/source/basic_rf.c **** }
 419:../../../src/radio/cc2420/source/basic_rf.c **** ***********************************************************/
 420:../../../src/radio/cc2420/source/basic_rf.c **** 
 421:../../../src/radio/cc2420/source/basic_rf.c **** 
 422:../../../src/radio/cc2420/source/basic_rf.c **** 
 423:../../../src/radio/cc2420/source/basic_rf.c **** 
 424:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 425:../../../src/radio/cc2420/source/basic_rf.c **** //  void rf_rx_off(void)
 426:../../../src/radio/cc2420/source/basic_rf.c **** //
 427:../../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 428:../../../src/radio/cc2420/source/basic_rf.c **** //      Disables the CC2420 receiver and the FIFOP interrupt.
 429:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 430:../../../src/radio/cc2420/source/basic_rf.c **** void rf_rx_off(void)
 431:../../../src/radio/cc2420/source/basic_rf.c **** {
 1991               	.LM309:
 1992               	.LFBB22:
 1993               	/* prologue: function */
 1994               	/* frame size = 0 */
 1995               	/* stack size = 0 */
 1996               	.L__stack_usage = 0
 432:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 433:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 434:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 435:../../../src/radio/cc2420/source/basic_rf.c ****     // XXX
 436:../../../src/radio/cc2420/source/basic_rf.c ****     //SET_VREG_INACTIVE();
 437:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.receiveOn = FALSE;
 1998               	.LM310:
 1999 06b6 1092 0000 		sts rfSettings+8,__zero_reg__
 438:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);
 2001               	.LM311:
 2002 06ba 4098      		cbi 40-32,0
 2003 06bc 86E0      		ldi r24,lo8(6)
 2004 06be 8EBD      		out 78-32,r24
 2005               	.L197:
 2007               	.LM312:
 2008 06c0 0DB4      		in __tmp_reg__,77-32
 2009 06c2 07FE      		sbrs __tmp_reg__,7
 2010 06c4 00C0      		rjmp .L197
 2012               	.LM313:
 2013 06c6 409A      		sbi 40-32,0
 439:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 440:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
 441:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 442:../../../src/radio/cc2420/source/basic_rf.c ****     rx_ready=0;
 2015               	.LM314:
 2016 06c8 1092 0000 		sts rx_ready,__zero_reg__
 2017               	/* epilogue start */
 443:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 444:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 445:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 446:../../../src/radio/cc2420/source/basic_rf.c ****     //	DISABLE_FIFOP_INT();
 447:../../../src/radio/cc2420/source/basic_rf.c **** } // rf_rx_off()
 2019               	.LM315:
 2020 06cc 0895      		ret
 2022               	.Lscope22:
 2024               		.stabd	78,0,0
 2029               	.global	rf_tx_tdma_packet
 2031               	rf_tx_tdma_packet:
 2032               		.stabd	46,0,0
 448:../../../src/radio/cc2420/source/basic_rf.c **** 
 449:../../../src/radio/cc2420/source/basic_rf.c **** 
 450:../../../src/radio/cc2420/source/basic_rf.c **** /**************************************************************************
 451:../../../src/radio/cc2420/source/basic_rf.c **** This function is the same as normal TX, only it waits until the last
 452:../../../src/radio/cc2420/source/basic_rf.c **** second to send the duty out with the high speed timer.  And by duty, I mean
 453:../../../src/radio/cc2420/source/basic_rf.c **** the packet BIATCH...
 454:../../../src/radio/cc2420/source/basic_rf.c **** **************************************************************************/
 455:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_tdma_packet(RF_TX_INFO *pRTI, uint16_t slot_start_time, uint16_t tx_guard_time)
 456:../../../src/radio/cc2420/source/basic_rf.c **** {
 2034               	.LM316:
 2035               	.LFBB23:
 2036 06ce BF92      		push r11
 2037 06d0 CF92      		push r12
 2038 06d2 DF92      		push r13
 2039 06d4 EF92      		push r14
 2040 06d6 FF92      		push r15
 2041 06d8 0F93      		push r16
 2042 06da 1F93      		push r17
 2043 06dc DF93      		push r29
 2044 06de CF93      		push r28
 2045 06e0 00D0      		rcall .
 2046 06e2 0F92      		push __tmp_reg__
 2047 06e4 CDB7      		in r28,__SP_L__
 2048 06e6 DEB7      		in r29,__SP_H__
 2049               	/* prologue: function */
 2050               	/* frame size = 3 */
 2051               	/* stack size = 12 */
 2052               	.L__stack_usage = 12
 2053 06e8 8C01      		movw r16,r24
 2054 06ea 6B01      		movw r12,r22
 2055 06ec 7A01      		movw r14,r20
 457:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t frameControlField;
 458:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t packetLength;
 459:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t success;
 460:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t spiStatusByte;
 461:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t checksum,i;
 462:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t timestamp;
 463:../../../src/radio/cc2420/source/basic_rf.c **** 
 464:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 465:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 466:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 467:../../../src/radio/cc2420/source/basic_rf.c ****     timestamp=_nrk_os_timer_get();
 2057               	.LM317:
 2058 06ee 0E94 0000 		call _nrk_os_timer_get
 468:../../../src/radio/cc2420/source/basic_rf.c ****     // XXX 2 below are hacks...
 469:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 470:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 471:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 472:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 473:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2060               	.LM318:
 2061 06f2 4098      		cbi 40-32,0
 2062 06f4 88E0      		ldi r24,lo8(8)
 2063 06f6 8EBD      		out 78-32,r24
 2064               	.L200:
 2066               	.LM319:
 2067 06f8 0DB4      		in __tmp_reg__,77-32
 2068 06fa 07FE      		sbrs __tmp_reg__,7
 2069 06fc 00C0      		rjmp .L200
 2071               	.LM320:
 2072 06fe 409A      		sbi 40-32,0
 474:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2074               	.LM321:
 2075 0700 4098      		cbi 40-32,0
 2076 0702 88E0      		ldi r24,lo8(8)
 2077 0704 8EBD      		out 78-32,r24
 2078               	.L201:
 2080               	.LM322:
 2081 0706 0DB4      		in __tmp_reg__,77-32
 2082 0708 07FE      		sbrs __tmp_reg__,7
 2083 070a 00C0      		rjmp .L201
 2085               	.LM323:
 2086 070c 409A      		sbi 40-32,0
 2087               	.L291:
 475:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait until the transceiver is idle
 476:../../../src/radio/cc2420/source/basic_rf.c ****     while (FIFOP_IS_1 || SFD_IS_1);
 2089               	.LM324:
 2090 070e 6799      		sbic 44-32,7
 2091 0710 00C0      		rjmp .L291
 2093               	.LM325:
 2094 0712 4E99      		sbic 41-32,6
 2095 0714 00C0      		rjmp .L291
 477:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off global interrupts to avoid interference on the SPI interface
 478:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 2097               	.LM326:
 2098               	/* #APP */
 2099               	 ;  478 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2100 0716 F894      		cli
 2101               		
 2102               	 ;  0 "" 2
 479:../../../src/radio/cc2420/source/basic_rf.c ****     // Flush the TX FIFO just in case...
 480:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2104               	.LM327:
 2105               	/* #NOAPP */
 2106 0718 4098      		cbi 40-32,0
 2107 071a 89E0      		ldi r24,lo8(9)
 2108 071c 8EBD      		out 78-32,r24
 2109               	.L203:
 2111               	.LM328:
 2112 071e 0DB4      		in __tmp_reg__,77-32
 2113 0720 07FE      		sbrs __tmp_reg__,7
 2114 0722 00C0      		rjmp .L203
 2116               	.LM329:
 2117 0724 409A      		sbi 40-32,0
 481:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2119               	.LM330:
 2120 0726 4098      		cbi 40-32,0
 2121 0728 89E0      		ldi r24,lo8(9)
 2122 072a 8EBD      		out 78-32,r24
 2123               	.L204:
 2125               	.LM331:
 2126 072c 0DB4      		in __tmp_reg__,77-32
 2127 072e 07FE      		sbrs __tmp_reg__,7
 2128 0730 00C0      		rjmp .L204
 2130               	.LM332:
 2131 0732 409A      		sbi 40-32,0
 482:../../../src/radio/cc2420/source/basic_rf.c **** 
 483:../../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 484:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2133               	.LM333:
 2134 0734 D801      		movw r26,r16
 2135 0736 1296      		adiw r26,2
 2136 0738 5C91      		ld r21,X
 2137 073a 1297      		sbiw r26,2
 2138 073c 252F      		mov r18,r21
 2139 073e 3327      		clr r19
 2140 0740 27FD      		sbrc r18,7
 2141 0742 3095      		com r19
 483:../../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 2143               	.LM334:
 2144 0744 BB24      		clr r11
 2146               	.LM335:
 2147 0746 40E0      		ldi r20,lo8(0)
 2148 0748 00C0      		rjmp .L205
 2149               	.L206:
 485:../../../src/radio/cc2420/source/basic_rf.c ****     {
 486:../../../src/radio/cc2420/source/basic_rf.c ****         // lets do our own payload checksum because we don't trust the CRC
 487:../../../src/radio/cc2420/source/basic_rf.c ****         checksum+=pRTI->pPayload[i];
 2151               	.LM336:
 2152 074a D801      		movw r26,r16
 2153 074c 1396      		adiw r26,3
 2154 074e ED91      		ld r30,X+
 2155 0750 FC91      		ld r31,X
 2156 0752 1497      		sbiw r26,3+1
 2157 0754 E80F      		add r30,r24
 2158 0756 F91F      		adc r31,r25
 2159 0758 8081      		ld r24,Z
 2160 075a B80E      		add r11,r24
 484:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2162               	.LM337:
 2163 075c 4F5F      		subi r20,lo8(-(1))
 2164               	.L205:
 484:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2166               	.LM338:
 2167 075e 842F      		mov r24,r20
 2168 0760 90E0      		ldi r25,lo8(0)
 2169 0762 8217      		cp r24,r18
 2170 0764 9307      		cpc r25,r19
 2171 0766 04F0      		brlt .L206
 488:../../../src/radio/cc2420/source/basic_rf.c ****     }
 489:../../../src/radio/cc2420/source/basic_rf.c ****     packetLength = pRTI->length + RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD;
 2173               	.LM339:
 2174 0768 545F      		subi r21,lo8(-(12))
 490:../../../src/radio/cc2420/source/basic_rf.c ****     //nrk_set_led(3);
 491:../../../src/radio/cc2420/source/basic_rf.c ****     //do { } while(_nrk_get_high_speed_timer()<(tx_guard_time));
 492:../../../src/radio/cc2420/source/basic_rf.c **** 
 493:../../../src/radio/cc2420/source/basic_rf.c ****     // Write the packet to the TX FIFO (the FCS is appended automatically when AUTOCRC is enabled)
 494:../../../src/radio/cc2420/source/basic_rf.c ****     // These are only the MAC AGNOSTIC parameters...
 495:../../../src/radio/cc2420/source/basic_rf.c ****     // Slots for example are at a higher layer since they assume TDMA
 496:../../../src/radio/cc2420/source/basic_rf.c **** 
 497:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*)&packetLength, 1);               // Packet length
 2176               	.LM340:
 2177 076a 4098      		cbi 40-32,0
 2178 076c 8EE3      		ldi r24,lo8(62)
 2179 076e 8EBD      		out 78-32,r24
 2180               	.L207:
 2182               	.LM341:
 2183 0770 0DB4      		in __tmp_reg__,77-32
 2184 0772 07FE      		sbrs __tmp_reg__,7
 2185 0774 00C0      		rjmp .L207
 2186               	.LBB2:
 2188               	.LM342:
 2189 0776 5EBD      		out 78-32,r21
 2190               	.L208:
 2192               	.LM343:
 2193 0778 0DB4      		in __tmp_reg__,77-32
 2194 077a 07FE      		sbrs __tmp_reg__,7
 2195 077c 00C0      		rjmp .L208
 2196               	.LBE2:
 2198               	.LM344:
 2199 077e 409A      		sbi 40-32,0
 498:../../../src/radio/cc2420/source/basic_rf.c ****     frameControlField = pRTI->ackRequest ? RF_FCF_ACK : RF_FCF_NOACK;
 2201               	.LM345:
 2202 0780 F801      		movw r30,r16
 2203 0782 8681      		ldd r24,Z+6
 2204 0784 8823      		tst r24
 2205 0786 01F0      		breq .L249
 2207               	.LM346:
 2208 0788 81E6      		ldi r24,lo8(-30623)
 2209 078a 98E8      		ldi r25,hi8(-30623)
 2210 078c 00C0      		rjmp .L209
 2211               	.L249:
 2212 078e 81E4      		ldi r24,lo8(-30655)
 2213 0790 98E8      		ldi r25,hi8(-30655)
 2214               	.L209:
 2216               	.LM347:
 2217 0792 9A83      		std Y+2,r25
 2218 0794 8983      		std Y+1,r24
 499:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &frameControlField, 2);         // Frame control field
 2220               	.LM348:
 2221 0796 4098      		cbi 40-32,0
 2222 0798 8EE3      		ldi r24,lo8(62)
 2223 079a 8EBD      		out 78-32,r24
 2224               	.L210:
 2226               	.LM349:
 2227 079c 0DB4      		in __tmp_reg__,77-32
 2228 079e 07FE      		sbrs __tmp_reg__,7
 2229 07a0 00C0      		rjmp .L210
 2231               	.LM350:
 2232 07a2 FE01      		movw r30,r28
 2233 07a4 3196      		adiw r30,1
 455:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_tdma_packet(RF_TX_INFO *pRTI, uint16_t slot_start_time, uint16_t tx_guard_time)
 2235               	.LM351:
 2236 07a6 CE01      		movw r24,r28
 2237 07a8 0396      		adiw r24,3
 2238               	.L212:
 2239               	.LBB3:
 2241               	.LM352:
 2242 07aa 2191      		ld r18,Z+
 2243 07ac 2EBD      		out 78-32,r18
 2244               	.L211:
 2246               	.LM353:
 2247 07ae 0DB4      		in __tmp_reg__,77-32
 2248 07b0 07FE      		sbrs __tmp_reg__,7
 2249 07b2 00C0      		rjmp .L211
 2251               	.LM354:
 2252 07b4 E817      		cp r30,r24
 2253 07b6 F907      		cpc r31,r25
 2254 07b8 01F4      		brne .L212
 2255               	.LBE3:
 2257               	.LM355:
 2258 07ba 409A      		sbi 40-32,0
 500:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.txSeqNumber, 1);    // Sequence number
 2260               	.LM356:
 2261 07bc 4098      		cbi 40-32,0
 2262 07be 8EE3      		ldi r24,lo8(62)
 2263 07c0 8EBD      		out 78-32,r24
 2264               	.L213:
 2266               	.LM357:
 2267 07c2 0DB4      		in __tmp_reg__,77-32
 2268 07c4 07FE      		sbrs __tmp_reg__,7
 2269 07c6 00C0      		rjmp .L213
 2270               	.LBB4:
 2272               	.LM358:
 2273 07c8 8091 0000 		lds r24,rfSettings+2
 2274 07cc 8EBD      		out 78-32,r24
 2275               	.L214:
 2277               	.LM359:
 2278 07ce 0DB4      		in __tmp_reg__,77-32
 2279 07d0 07FE      		sbrs __tmp_reg__,7
 2280 07d2 00C0      		rjmp .L214
 2281               	.LBE4:
 2283               	.LM360:
 2284 07d4 409A      		sbi 40-32,0
 501:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.panId, 2);          // Dest. PAN ID
 2286               	.LM361:
 2287 07d6 4098      		cbi 40-32,0
 2288 07d8 8EE3      		ldi r24,lo8(62)
 2289 07da 8EBD      		out 78-32,r24
 2290               	.L215:
 2292               	.LM362:
 2293 07dc 0DB4      		in __tmp_reg__,77-32
 2294 07de 07FE      		sbrs __tmp_reg__,7
 2295 07e0 00C0      		rjmp .L215
 2297               	.LM363:
 2298 07e2 80E0      		ldi r24,lo8(0)
 2299 07e4 90E0      		ldi r25,hi8(0)
 2300               	.L217:
 2301               	.LBB5:
 455:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_tdma_packet(RF_TX_INFO *pRTI, uint16_t slot_start_time, uint16_t tx_guard_time)
 2303               	.LM364:
 2304 07e6 FC01      		movw r30,r24
 2305 07e8 E050      		subi r30,lo8(-(rfSettings))
 2306 07ea F040      		sbci r31,hi8(-(rfSettings))
 2308               	.LM365:
 2309 07ec 2481      		ldd r18,Z+4
 2310 07ee 2EBD      		out 78-32,r18
 2311               	.L216:
 2313               	.LM366:
 2314 07f0 0DB4      		in __tmp_reg__,77-32
 2315 07f2 07FE      		sbrs __tmp_reg__,7
 2316 07f4 00C0      		rjmp .L216
 2318               	.LM367:
 2319 07f6 0196      		adiw r24,1
 2320 07f8 8230      		cpi r24,2
 2321 07fa 9105      		cpc r25,__zero_reg__
 2322 07fc 01F4      		brne .L217
 2323               	.LBE5:
 2325               	.LM368:
 2326 07fe 409A      		sbi 40-32,0
 502:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &pRTI->destAddr, 2);            // Dest. address
 2328               	.LM369:
 2329 0800 4098      		cbi 40-32,0
 2330 0802 8EE3      		ldi r24,lo8(62)
 2331 0804 8EBD      		out 78-32,r24
 2332               	.L218:
 2334               	.LM370:
 2335 0806 0DB4      		in __tmp_reg__,77-32
 2336 0808 07FE      		sbrs __tmp_reg__,7
 2337 080a 00C0      		rjmp .L218
 2339               	.LM371:
 2340 080c 80E0      		ldi r24,lo8(0)
 2341 080e 90E0      		ldi r25,hi8(0)
 2342               	.L220:
 2343               	.LBB6:
 2344 0810 F801      		movw r30,r16
 2345 0812 E80F      		add r30,r24
 2346 0814 F91F      		adc r31,r25
 2347 0816 2081      		ld r18,Z
 2348 0818 2EBD      		out 78-32,r18
 2349               	.L219:
 2351               	.LM372:
 2352 081a 0DB4      		in __tmp_reg__,77-32
 2353 081c 07FE      		sbrs __tmp_reg__,7
 2354 081e 00C0      		rjmp .L219
 2356               	.LM373:
 2357 0820 0196      		adiw r24,1
 2358 0822 8230      		cpi r24,2
 2359 0824 9105      		cpc r25,__zero_reg__
 2360 0826 01F4      		brne .L220
 2361               	.LBE6:
 2363               	.LM374:
 2364 0828 409A      		sbi 40-32,0
 503:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.myAddr, 2);         // Source address
 2366               	.LM375:
 2367 082a 4098      		cbi 40-32,0
 2368 082c 8EE3      		ldi r24,lo8(62)
 2369 082e 8EBD      		out 78-32,r24
 2370               	.L221:
 2372               	.LM376:
 2373 0830 0DB4      		in __tmp_reg__,77-32
 2374 0832 07FE      		sbrs __tmp_reg__,7
 2375 0834 00C0      		rjmp .L221
 2377               	.LM377:
 2378 0836 80E0      		ldi r24,lo8(0)
 2379 0838 90E0      		ldi r25,hi8(0)
 2380               	.L223:
 2381               	.LBB7:
 455:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_tdma_packet(RF_TX_INFO *pRTI, uint16_t slot_start_time, uint16_t tx_guard_time)
 2383               	.LM378:
 2384 083a FC01      		movw r30,r24
 2385 083c E050      		subi r30,lo8(-(rfSettings))
 2386 083e F040      		sbci r31,hi8(-(rfSettings))
 2388               	.LM379:
 2389 0840 2681      		ldd r18,Z+6
 2390 0842 2EBD      		out 78-32,r18
 2391               	.L222:
 2393               	.LM380:
 2394 0844 0DB4      		in __tmp_reg__,77-32
 2395 0846 07FE      		sbrs __tmp_reg__,7
 2396 0848 00C0      		rjmp .L222
 2398               	.LM381:
 2399 084a 0196      		adiw r24,1
 2400 084c 8230      		cpi r24,2
 2401 084e 9105      		cpc r25,__zero_reg__
 2402 0850 01F4      		brne .L223
 2403               	.LBE7:
 2405               	.LM382:
 2406 0852 409A      		sbi 40-32,0
 504:../../../src/radio/cc2420/source/basic_rf.c **** 
 505:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_high_speed_timer_wait(slot_start_time,tx_guard_time);
 2408               	.LM383:
 2409 0854 C601      		movw r24,r12
 2410 0856 B701      		movw r22,r14
 2411 0858 0E94 0000 		call nrk_high_speed_timer_wait
 506:../../../src/radio/cc2420/source/basic_rf.c ****     //nrk_clr_led(3);
 507:../../../src/radio/cc2420/source/basic_rf.c ****     /*
 508:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 509:../../../src/radio/cc2420/source/basic_rf.c ****      nrk_set_led(3);
 510:../../../src/radio/cc2420/source/basic_rf.c ****     last=0;
 511:../../../src/radio/cc2420/source/basic_rf.c ****     do {
 512:../../../src/radio/cc2420/source/basic_rf.c ****     if(last==_nrk_get_high_speed_timer())
 513:../../../src/radio/cc2420/source/basic_rf.c ****     	{
 514:../../../src/radio/cc2420/source/basic_rf.c ****     	//while(1)
 515:../../../src/radio/cc2420/source/basic_rf.c ****     	//printf( "TX ERROR %d vs %d\r\n",_nrk_get_high_speed_timer(),tx_guard_time );
 516:../../../src/radio/cc2420/source/basic_rf.c ****     	break;
 517:../../../src/radio/cc2420/source/basic_rf.c ****     	}
 518:../../../src/radio/cc2420/source/basic_rf.c ****     last=_nrk_get_high_speed_timer();
 519:../../../src/radio/cc2420/source/basic_rf.c ****     }
 520:../../../src/radio/cc2420/source/basic_rf.c ****     while((volatile)last<(tx_guard_time));
 521:../../../src/radio/cc2420/source/basic_rf.c **** 
 522:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 523:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_clr_led(3);
 524:../../../src/radio/cc2420/source/basic_rf.c ****     */
 525:../../../src/radio/cc2420/source/basic_rf.c ****     /*
 526:../../../src/radio/cc2420/source/basic_rf.c ****         // Turn on RX if necessary
 527:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn) {
 528:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_STROBE(CC2420_SRXON);
 529:../../../src/radio/cc2420/source/basic_rf.c ****     		}
 530:../../../src/radio/cc2420/source/basic_rf.c **** 
 531:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the RSSI value to become valid
 532:../../../src/radio/cc2420/source/basic_rf.c ****         do {
 533:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS(spiStatusByte);
 534:../../../src/radio/cc2420/source/basic_rf.c ****         } while (!(spiStatusByte & BM(CC2420_RSSI_VALID)));
 535:../../../src/radio/cc2420/source/basic_rf.c **** 
 536:../../../src/radio/cc2420/source/basic_rf.c ****     	// TX begins after the CCA check has passed
 537:../../../src/radio/cc2420/source/basic_rf.c ****         do {
 538:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_STROBE(CC2420_STXONCCA);
 539:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_UPD_STATUS(spiStatusByte);
 540:../../../src/radio/cc2420/source/basic_rf.c ****     		halWait(100);
 541:../../../src/radio/cc2420/source/basic_rf.c ****         } while (!(spiStatusByte & BM(CC2420_TX_ACTIVE)));
 542:../../../src/radio/cc2420/source/basic_rf.c ****     */
 543:../../../src/radio/cc2420/source/basic_rf.c ****     if (pRTI->cca == TRUE)
 2413               	.LM384:
 2414 085c D801      		movw r26,r16
 2415 085e 1596      		adiw r26,5
 2416 0860 8C91      		ld r24,X
 2417 0862 1597      		sbiw r26,5
 2418 0864 8823      		tst r24
 2419 0866 01F0      		breq .L224
 2420               	.LBB8:
 544:../../../src/radio/cc2420/source/basic_rf.c ****     {
 545:../../../src/radio/cc2420/source/basic_rf.c ****         uint8_t cnt;
 546:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn)
 2422               	.LM385:
 2423 0868 8091 0000 		lds r24,rfSettings+8
 2424 086c 8823      		tst r24
 2425 086e 01F4      		brne .L251
 547:../../../src/radio/cc2420/source/basic_rf.c ****         {
 548:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_SRXON);
 2427               	.LM386:
 2428 0870 4098      		cbi 40-32,0
 2429 0872 83E0      		ldi r24,lo8(3)
 2430 0874 8EBD      		out 78-32,r24
 2431               	.L226:
 2433               	.LM387:
 2434 0876 0DB4      		in __tmp_reg__,77-32
 2435 0878 07FE      		sbrs __tmp_reg__,7
 2436 087a 00C0      		rjmp .L226
 2438               	.LM388:
 2439 087c 409A      		sbi 40-32,0
 2440               	.L251:
 549:../../../src/radio/cc2420/source/basic_rf.c ****         }
 550:../../../src/radio/cc2420/source/basic_rf.c **** 
 551:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the RSSI value to become valid
 552:../../../src/radio/cc2420/source/basic_rf.c ****         do
 553:../../../src/radio/cc2420/source/basic_rf.c ****         {
 554:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 2442               	.LM389:
 2443 087e 4098      		cbi 40-32,0
 2444 0880 1EBC      		out 78-32,__zero_reg__
 2445               	.L227:
 2447               	.LM390:
 2448 0882 0DB4      		in __tmp_reg__,77-32
 2449 0884 07FE      		sbrs __tmp_reg__,7
 2450 0886 00C0      		rjmp .L227
 2452               	.LM391:
 2453 0888 8EB5      		in r24,78-32
 2454 088a 409A      		sbi 40-32,0
 555:../../../src/radio/cc2420/source/basic_rf.c ****         }
 556:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_RSSI_VALID)));
 2456               	.LM392:
 2457 088c 81FF      		sbrs r24,1
 2458 088e 00C0      		rjmp .L251
 2460               	.LM393:
 2461 0890 20E0      		ldi r18,lo8(0)
 557:../../../src/radio/cc2420/source/basic_rf.c **** 
 558:../../../src/radio/cc2420/source/basic_rf.c ****         // TX begins after the CCA check has passed
 559:../../../src/radio/cc2420/source/basic_rf.c ****         cnt = 0;
 560:../../../src/radio/cc2420/source/basic_rf.c ****         do
 561:../../../src/radio/cc2420/source/basic_rf.c ****         {
 562:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_STXONCCA);
 2463               	.LM394:
 2464 0892 A5E0      		ldi r26,lo8(5)
 2465 0894 EA2E      		mov r14,r26
 2466               	.L233:
 2467 0896 4098      		cbi 40-32,0
 2468 0898 EEBC      		out 78-32,r14
 2469               	.L229:
 2471               	.LM395:
 2472 089a 0DB4      		in __tmp_reg__,77-32
 2473 089c 07FE      		sbrs __tmp_reg__,7
 2474 089e 00C0      		rjmp .L229
 2476               	.LM396:
 2477 08a0 409A      		sbi 40-32,0
 563:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 2479               	.LM397:
 2480 08a2 4098      		cbi 40-32,0
 2481 08a4 1EBC      		out 78-32,__zero_reg__
 2482               	.L230:
 2484               	.LM398:
 2485 08a6 0DB4      		in __tmp_reg__,77-32
 2486 08a8 07FE      		sbrs __tmp_reg__,7
 2487 08aa 00C0      		rjmp .L230
 2489               	.LM399:
 2490 08ac CEB4      		in r12,78-32
 2491 08ae 409A      		sbi 40-32,0
 564:../../../src/radio/cc2420/source/basic_rf.c ****             cnt++;
 2493               	.LM400:
 2494 08b0 2F5F      		subi r18,lo8(-(1))
 565:../../../src/radio/cc2420/source/basic_rf.c ****             if (cnt > 100)
 2496               	.LM401:
 2497 08b2 2536      		cpi r18,lo8(101)
 2498 08b4 01F4      		brne .L231
 566:../../../src/radio/cc2420/source/basic_rf.c ****             {
 567:../../../src/radio/cc2420/source/basic_rf.c ****                 ENABLE_GLOBAL_INT ();
 2500               	.LM402:
 2501               	/* #APP */
 2502               	 ;  567 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2503 08b6 7894      		sei
 2504               		
 2505               	 ;  0 "" 2
 568:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 2507               	.LM403:
 2508               	/* #NOAPP */
 2509 08b8 8091 0000 		lds r24,radio_sem
 2510 08bc 9091 0000 		lds r25,radio_sem+1
 2511 08c0 0E94 0000 		call nrk_sem_post
 569:../../../src/radio/cc2420/source/basic_rf.c ****                 return FALSE;
 2513               	.LM404:
 2514 08c4 80E0      		ldi r24,lo8(0)
 2515 08c6 00C0      		rjmp .L232
 2516               	.L231:
 570:../../../src/radio/cc2420/source/basic_rf.c ****             }
 571:../../../src/radio/cc2420/source/basic_rf.c ****             halWait (100);
 2518               	.LM405:
 2519 08c8 84E6      		ldi r24,lo8(100)
 2520 08ca 90E0      		ldi r25,hi8(100)
 2521 08cc 2B83      		std Y+3,r18
 2522 08ce 0E94 0000 		call halWait
 572:../../../src/radio/cc2420/source/basic_rf.c ****         }
 573:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_TX_ACTIVE)));
 2524               	.LM406:
 2525 08d2 2B81      		ldd r18,Y+3
 2526 08d4 C3FE      		sbrs r12,3
 2527 08d6 00C0      		rjmp .L233
 2528 08d8 00C0      		rjmp .L234
 2529               	.L224:
 2530               	.LBE8:
 574:../../../src/radio/cc2420/source/basic_rf.c ****     }
 575:../../../src/radio/cc2420/source/basic_rf.c ****     else
 576:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE (CC2420_STXON);
 2532               	.LM407:
 2533 08da 4098      		cbi 40-32,0
 2534 08dc 84E0      		ldi r24,lo8(4)
 2535 08de 8EBD      		out 78-32,r24
 2536               	.L235:
 2538               	.LM408:
 2539 08e0 0DB4      		in __tmp_reg__,77-32
 2540 08e2 07FE      		sbrs __tmp_reg__,7
 2541 08e4 00C0      		rjmp .L235
 2543               	.LM409:
 2544 08e6 409A      		sbi 40-32,0
 2545               	.L234:
 577:../../../src/radio/cc2420/source/basic_rf.c ****     //nrk_gpio_set(DEBUG_0);
 578:../../../src/radio/cc2420/source/basic_rf.c **** 
 579:../../../src/radio/cc2420/source/basic_rf.c **** 
 580:../../../src/radio/cc2420/source/basic_rf.c ****     // Fill in the rest of the packet now
 581:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) pRTI->pPayload, pRTI->length);  // Payload
 2547               	.LM410:
 2548 08e8 4098      		cbi 40-32,0
 2549 08ea 8EE3      		ldi r24,lo8(62)
 2550 08ec 8EBD      		out 78-32,r24
 2551               	.L236:
 2553               	.LM411:
 2554 08ee 0DB4      		in __tmp_reg__,77-32
 2555 08f0 07FE      		sbrs __tmp_reg__,7
 2556 08f2 00C0      		rjmp .L236
 2558               	.LM412:
 2559 08f4 40E0      		ldi r20,lo8(0)
 2560 08f6 00C0      		rjmp .L237
 2561               	.L239:
 2562               	.LBB9:
 2564               	.LM413:
 2565 08f8 D801      		movw r26,r16
 2566 08fa 1396      		adiw r26,3
 2567 08fc ED91      		ld r30,X+
 2568 08fe FC91      		ld r31,X
 2569 0900 1497      		sbiw r26,3+1
 2570 0902 E80F      		add r30,r24
 2571 0904 F91F      		adc r31,r25
 2572 0906 8081      		ld r24,Z
 2573 0908 8EBD      		out 78-32,r24
 2574               	.L238:
 2576               	.LM414:
 2577 090a 0DB4      		in __tmp_reg__,77-32
 2578 090c 07FE      		sbrs __tmp_reg__,7
 2579 090e 00C0      		rjmp .L238
 2581               	.LM415:
 2582 0910 4F5F      		subi r20,lo8(-(1))
 2583               	.L237:
 2585               	.LM416:
 2586 0912 842F      		mov r24,r20
 2587 0914 90E0      		ldi r25,lo8(0)
 2588 0916 F801      		movw r30,r16
 2589 0918 2281      		ldd r18,Z+2
 2590 091a 3327      		clr r19
 2591 091c 27FD      		sbrc r18,7
 2592 091e 3095      		com r19
 2593 0920 8217      		cp r24,r18
 2594 0922 9307      		cpc r25,r19
 2595 0924 04F0      		brlt .L239
 2596               	.LBE9:
 2598               	.LM417:
 2599 0926 409A      		sbi 40-32,0
 582:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &checksum, 1);         // Checksum
 2601               	.LM418:
 2602 0928 4098      		cbi 40-32,0
 2603 092a 8EE3      		ldi r24,lo8(62)
 2604 092c 8EBD      		out 78-32,r24
 2605               	.L240:
 2607               	.LM419:
 2608 092e 0DB4      		in __tmp_reg__,77-32
 2609 0930 07FE      		sbrs __tmp_reg__,7
 2610 0932 00C0      		rjmp .L240
 2611               	.LBB10:
 2613               	.LM420:
 2614 0934 BEBC      		out 78-32,r11
 2615               	.L241:
 2617               	.LM421:
 2618 0936 0DB4      		in __tmp_reg__,77-32
 2619 0938 07FE      		sbrs __tmp_reg__,7
 2620 093a 00C0      		rjmp .L241
 2621               	.LBE10:
 2623               	.LM422:
 2624 093c 409A      		sbi 40-32,0
 2625               	.L242:
 583:../../../src/radio/cc2420/source/basic_rf.c **** 
 584:../../../src/radio/cc2420/source/basic_rf.c **** 
 585:../../../src/radio/cc2420/source/basic_rf.c **** 
 586:../../../src/radio/cc2420/source/basic_rf.c ****     //nrk_spin_wait_us(200);
 587:../../../src/radio/cc2420/source/basic_rf.c **** //  FASTSPI_STROBE(CC2420_STXON);
 588:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the transmission to begin before exiting (makes sure that this function cannot be c
 589:../../../src/radio/cc2420/source/basic_rf.c ****     // a second time, and thereby cancelling the first transmission (observe the FIFOP + SFD test a
 590:../../../src/radio/cc2420/source/basic_rf.c ****     while (!SFD_IS_1);
 2627               	.LM423:
 2628 093e 4E9B      		sbis 41-32,6
 2629 0940 00C0      		rjmp .L242
 591:../../../src/radio/cc2420/source/basic_rf.c ****     success = TRUE;
 592:../../../src/radio/cc2420/source/basic_rf.c **** 
 593:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn interrupts back on
 594:../../../src/radio/cc2420/source/basic_rf.c **** //	ENABLE_GLOBAL_INT();
 595:../../../src/radio/cc2420/source/basic_rf.c **** 
 596:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the acknowledge to be received, if any
 597:../../../src/radio/cc2420/source/basic_rf.c ****     /*if (pRTI->ackRequest) {
 598:../../../src/radio/cc2420/source/basic_rf.c ****     	rfSettings.ackReceived = FALSE;
 599:../../../src/radio/cc2420/source/basic_rf.c **** 
 600:../../../src/radio/cc2420/source/basic_rf.c ****     	// Wait for the SFD to go low again
 601:../../../src/radio/cc2420/source/basic_rf.c ****     	while (SFD_IS_1);
 602:../../../src/radio/cc2420/source/basic_rf.c ****         // We'll enter RX automatically, so just wait until we can be sure that the ack reception s
 603:../../../src/radio/cc2420/source/basic_rf.c ****         // The timeout consists of a 12-symbol turnaround time, the ack packet duration, and a smal
 604:../../../src/radio/cc2420/source/basic_rf.c ****         halWait((12 * RF_SYMBOL_DURATION) + (RF_ACK_DURATION) + (2 * RF_SYMBOL_DURATION) + 100);
 605:../../../src/radio/cc2420/source/basic_rf.c **** 
 606:../../../src/radio/cc2420/source/basic_rf.c ****     	// If an acknowledgment has been received (by the FIFOP interrupt), the ackReceived flag shoul
 607:../../../src/radio/cc2420/source/basic_rf.c ****     	success = rfSettings.ackReceived;
 608:../../../src/radio/cc2420/source/basic_rf.c ****     }*/
 609:../../../src/radio/cc2420/source/basic_rf.c **** 
 610:../../../src/radio/cc2420/source/basic_rf.c **** 
 611:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off the receiver if it should not continue to be enabled
 612:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 2631               	.LM424:
 2632               	/* #APP */
 2633               	 ;  612 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2634 0942 F894      		cli
 2635               		
 2636               	 ;  0 "" 2
 2637               	/* #NOAPP */
 2638               	.L243:
 613:../../../src/radio/cc2420/source/basic_rf.c ****     // XXX hack, temp out
 614:../../../src/radio/cc2420/source/basic_rf.c ****     //if (!rfSettings.receiveOn) { while (SFD_IS_1); /*FASTSPI_STROBE(CC2420_SRFOFF);*/ }
 615:../../../src/radio/cc2420/source/basic_rf.c ****     // while (SFD_IS_1);
 616:../../../src/radio/cc2420/source/basic_rf.c ****     while (SFD_IS_1); // wait for packet to finish
 2640               	.LM425:
 2641 0944 4E99      		sbic 41-32,6
 2642 0946 00C0      		rjmp .L243
 617:../../../src/radio/cc2420/source/basic_rf.c **** 
 618:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2644               	.LM426:
 2645 0948 4098      		cbi 40-32,0
 2646 094a 88E0      		ldi r24,lo8(8)
 2647 094c 8EBD      		out 78-32,r24
 2648               	.L244:
 2650               	.LM427:
 2651 094e 0DB4      		in __tmp_reg__,77-32
 2652 0950 07FE      		sbrs __tmp_reg__,7
 2653 0952 00C0      		rjmp .L244
 2655               	.LM428:
 2656 0954 409A      		sbi 40-32,0
 619:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2658               	.LM429:
 2659 0956 4098      		cbi 40-32,0
 2660 0958 88E0      		ldi r24,lo8(8)
 2661 095a 8EBD      		out 78-32,r24
 2662               	.L245:
 2664               	.LM430:
 2665 095c 0DB4      		in __tmp_reg__,77-32
 2666 095e 07FE      		sbrs __tmp_reg__,7
 2667 0960 00C0      		rjmp .L245
 2669               	.LM431:
 2670 0962 409A      		sbi 40-32,0
 620:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2672               	.LM432:
 2673 0964 4098      		cbi 40-32,0
 2674 0966 89E0      		ldi r24,lo8(9)
 2675 0968 8EBD      		out 78-32,r24
 2676               	.L246:
 2678               	.LM433:
 2679 096a 0DB4      		in __tmp_reg__,77-32
 2680 096c 07FE      		sbrs __tmp_reg__,7
 2681 096e 00C0      		rjmp .L246
 2683               	.LM434:
 2684 0970 409A      		sbi 40-32,0
 621:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2686               	.LM435:
 2687 0972 4098      		cbi 40-32,0
 2688 0974 89E0      		ldi r24,lo8(9)
 2689 0976 8EBD      		out 78-32,r24
 2690               	.L247:
 2692               	.LM436:
 2693 0978 0DB4      		in __tmp_reg__,77-32
 2694 097a 07FE      		sbrs __tmp_reg__,7
 2695 097c 00C0      		rjmp .L247
 2697               	.LM437:
 2698 097e 409A      		sbi 40-32,0
 622:../../../src/radio/cc2420/source/basic_rf.c **** 
 623:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 624:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
 625:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 626:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 2700               	.LM438:
 2701 0980 4098      		cbi 40-32,0
 2702 0982 86E0      		ldi r24,lo8(6)
 2703 0984 8EBD      		out 78-32,r24
 2704               	.L248:
 2706               	.LM439:
 2707 0986 0DB4      		in __tmp_reg__,77-32
 2708 0988 07FE      		sbrs __tmp_reg__,7
 2709 098a 00C0      		rjmp .L248
 2711               	.LM440:
 2712 098c 409A      		sbi 40-32,0
 627:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 2714               	.LM441:
 2715               	/* #APP */
 2716               	 ;  627 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2717 098e 7894      		sei
 2718               		
 2719               	 ;  0 "" 2
 628:../../../src/radio/cc2420/source/basic_rf.c **** 
 629:../../../src/radio/cc2420/source/basic_rf.c **** 
 630:../../../src/radio/cc2420/source/basic_rf.c ****     // Increment the sequence number, and return the result
 631:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber++;
 2721               	.LM442:
 2722               	/* #NOAPP */
 2723 0990 8091 0000 		lds r24,rfSettings+2
 2724 0994 8F5F      		subi r24,lo8(-(1))
 2725 0996 8093 0000 		sts rfSettings+2,r24
 632:../../../src/radio/cc2420/source/basic_rf.c **** //	while (SFD_IS_1);
 633:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 634:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 635:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 636:../../../src/radio/cc2420/source/basic_rf.c **** 
 637:../../../src/radio/cc2420/source/basic_rf.c ****     return success;
 2727               	.LM443:
 2728 099a 81E0      		ldi r24,lo8(1)
 2729               	.L232:
 2730               	/* epilogue start */
 638:../../../src/radio/cc2420/source/basic_rf.c **** 
 639:../../../src/radio/cc2420/source/basic_rf.c **** }
 2732               	.LM444:
 2733 099c 0F90      		pop __tmp_reg__
 2734 099e 0F90      		pop __tmp_reg__
 2735 09a0 0F90      		pop __tmp_reg__
 2736 09a2 CF91      		pop r28
 2737 09a4 DF91      		pop r29
 2738 09a6 1F91      		pop r17
 2739 09a8 0F91      		pop r16
 2740 09aa FF90      		pop r15
 2741 09ac EF90      		pop r14
 2742 09ae DF90      		pop r13
 2743 09b0 CF90      		pop r12
 2744 09b2 BF90      		pop r11
 2745 09b4 0895      		ret
 2759               	.Lscope23:
 2761               		.stabd	78,0,0
 2764               	.global	rf_tx_packet
 2766               	rf_tx_packet:
 2767               		.stabd	46,0,0
 640:../../../src/radio/cc2420/source/basic_rf.c **** 
 641:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 642:../../../src/radio/cc2420/source/basic_rf.c **** //  BYTE rf_tx_packet(RF_TX_INFO *pRTI)
 643:../../../src/radio/cc2420/source/basic_rf.c **** //
 644:../../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 645:../../../src/radio/cc2420/source/basic_rf.c **** //		Transmits a packet using the IEEE 802.15.4 MAC data packet format with short addresses. CCA is
 646:../../../src/radio/cc2420/source/basic_rf.c **** //		measured only once before backet transmission (not compliant with 802.15.4 CSMA-CA).
 647:../../../src/radio/cc2420/source/basic_rf.c **** //		The function returns:
 648:../../../src/radio/cc2420/source/basic_rf.c **** //			- When pRTI->ackRequest is FALSE: After the transmission has begun (SFD gone high)
 649:../../../src/radio/cc2420/source/basic_rf.c **** //			- When pRTI->ackRequest is TRUE: After the acknowledgment has been received/declared missing.
 650:../../../src/radio/cc2420/source/basic_rf.c **** //		The acknowledgment is received through the FIFOP interrupt.
 651:../../../src/radio/cc2420/source/basic_rf.c **** //
 652:../../../src/radio/cc2420/source/basic_rf.c **** //  ARGUMENTS:
 653:../../../src/radio/cc2420/source/basic_rf.c **** //      RF_TX_INFO *pRTI
 654:../../../src/radio/cc2420/source/basic_rf.c **** //          The transmission structure, which contains all relevant info about the packet.
 655:../../../src/radio/cc2420/source/basic_rf.c **** //
 656:../../../src/radio/cc2420/source/basic_rf.c **** //  RETURN VALUE:
 657:../../../src/radio/cc2420/source/basic_rf.c **** //		uint8_t
 658:../../../src/radio/cc2420/source/basic_rf.c **** //			Successful transmission (acknowledgment received)
 659:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 660:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_packet(RF_TX_INFO *pRTI)
 661:../../../src/radio/cc2420/source/basic_rf.c **** {
 2769               	.LM445:
 2770               	.LFBB24:
 2771 09b6 FF92      		push r15
 2772 09b8 0F93      		push r16
 2773 09ba 1F93      		push r17
 2774 09bc DF93      		push r29
 2775 09be CF93      		push r28
 2776 09c0 00D0      		rcall .
 2777 09c2 CDB7      		in r28,__SP_L__
 2778 09c4 DEB7      		in r29,__SP_H__
 2779               	/* prologue: function */
 2780               	/* frame size = 2 */
 2781               	/* stack size = 7 */
 2782               	.L__stack_usage = 7
 2783 09c6 FC01      		movw r30,r24
 662:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t frameControlField;
 663:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t packetLength, length;
 664:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t success;
 665:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t spiStatusByte;
 666:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t checksum,i;
 667:../../../src/radio/cc2420/source/basic_rf.c **** 
 668:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 669:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
 670:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 671:../../../src/radio/cc2420/source/basic_rf.c **** 
 672:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 673:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 674:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 675:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 676:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable)
 2785               	.LM446:
 2786 09c8 8091 0000 		lds r24,security_enable
 2787 09cc 8823      		tst r24
 2788 09ce 01F0      		breq .L293
 677:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE(CC2420_STXENC);
 2790               	.LM447:
 2791 09d0 4098      		cbi 40-32,0
 2792 09d2 8DE0      		ldi r24,lo8(13)
 2793 09d4 8EBD      		out 78-32,r24
 2794               	.L294:
 2796               	.LM448:
 2797 09d6 0DB4      		in __tmp_reg__,77-32
 2798 09d8 07FE      		sbrs __tmp_reg__,7
 2799 09da 00C0      		rjmp .L294
 2801               	.LM449:
 2802 09dc 409A      		sbi 40-32,0
 2803               	.L293:
 678:../../../src/radio/cc2420/source/basic_rf.c **** 
 679:../../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 680:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2805               	.LM450:
 2806 09de 3281      		ldd r19,Z+2
 2807 09e0 432F      		mov r20,r19
 2808 09e2 5527      		clr r21
 2809 09e4 47FD      		sbrc r20,7
 2810 09e6 5095      		com r21
 679:../../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 2812               	.LM451:
 2813 09e8 20E0      		ldi r18,lo8(0)
 2815               	.LM452:
 2816 09ea 60E0      		ldi r22,lo8(0)
 2817 09ec 00C0      		rjmp .L295
 2818               	.L296:
 681:../../../src/radio/cc2420/source/basic_rf.c ****     {
 682:../../../src/radio/cc2420/source/basic_rf.c ****         // lets do our own payload checksum because we don't trust the CRC
 683:../../../src/radio/cc2420/source/basic_rf.c ****         checksum+=pRTI->pPayload[i];
 2820               	.LM453:
 2821 09ee A381      		ldd r26,Z+3
 2822 09f0 B481      		ldd r27,Z+4
 2823 09f2 A80F      		add r26,r24
 2824 09f4 B91F      		adc r27,r25
 2825 09f6 8C91      		ld r24,X
 2826 09f8 280F      		add r18,r24
 680:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2828               	.LM454:
 2829 09fa 6F5F      		subi r22,lo8(-(1))
 2830               	.L295:
 680:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2832               	.LM455:
 2833 09fc 862F      		mov r24,r22
 2834 09fe 90E0      		ldi r25,lo8(0)
 2835 0a00 8417      		cp r24,r20
 2836 0a02 9507      		cpc r25,r21
 2837 0a04 04F0      		brlt .L296
 684:../../../src/radio/cc2420/source/basic_rf.c ****     }
 685:../../../src/radio/cc2420/source/basic_rf.c ****     // Write the packet to the TX FIFO (the FCS is appended automatically when AUTOCRC is enabled)
 686:../../../src/radio/cc2420/source/basic_rf.c **** 
 687:../../../src/radio/cc2420/source/basic_rf.c ****     // These are only the MAC AGNOSTIC parameters...
 688:../../../src/radio/cc2420/source/basic_rf.c ****     // Slots for example are at a slighly higher later since they assume TDMA
 689:../../../src/radio/cc2420/source/basic_rf.c ****     packetLength = pRTI->length + RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD;
 2839               	.LM456:
 2840 0a06 832F      		mov r24,r19
 2841 0a08 845F      		subi r24,lo8(-(12))
 690:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable) packetLength+=4;  // for CTR counter
 2843               	.LM457:
 2844 0a0a 9091 0000 		lds r25,security_enable
 2845 0a0e 9111      		cpse r25,__zero_reg__
 2847               	.LM458:
 2848 0a10 8C5F      		subi r24,lo8(-(4))
 2849               	.L297:
 691:../../../src/radio/cc2420/source/basic_rf.c **** 
 692:../../../src/radio/cc2420/source/basic_rf.c **** 
 693:../../../src/radio/cc2420/source/basic_rf.c ****     // XXX 2 below are hacks...
 694:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2851               	.LM459:
 2852 0a12 4098      		cbi 40-32,0
 2853 0a14 98E0      		ldi r25,lo8(8)
 2854 0a16 9EBD      		out 78-32,r25
 2855               	.L298:
 2857               	.LM460:
 2858 0a18 0DB4      		in __tmp_reg__,77-32
 2859 0a1a 07FE      		sbrs __tmp_reg__,7
 2860 0a1c 00C0      		rjmp .L298
 2862               	.LM461:
 2863 0a1e 409A      		sbi 40-32,0
 695:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2865               	.LM462:
 2866 0a20 4098      		cbi 40-32,0
 2867 0a22 98E0      		ldi r25,lo8(8)
 2868 0a24 9EBD      		out 78-32,r25
 2869               	.L299:
 2871               	.LM463:
 2872 0a26 0DB4      		in __tmp_reg__,77-32
 2873 0a28 07FE      		sbrs __tmp_reg__,7
 2874 0a2a 00C0      		rjmp .L299
 2876               	.LM464:
 2877 0a2c 409A      		sbi 40-32,0
 2878               	.L399:
 696:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait until the transceiver is idle
 697:../../../src/radio/cc2420/source/basic_rf.c ****     while (FIFOP_IS_1 || SFD_IS_1);
 2880               	.LM465:
 2881 0a2e 6799      		sbic 44-32,7
 2882 0a30 00C0      		rjmp .L399
 2884               	.LM466:
 2885 0a32 4E99      		sbic 41-32,6
 2886 0a34 00C0      		rjmp .L399
 698:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off global interrupts to avoid interference on the SPI interface
 699:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 2888               	.LM467:
 2889               	/* #APP */
 2890               	 ;  699 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2891 0a36 F894      		cli
 2892               		
 2893               	 ;  0 "" 2
 700:../../../src/radio/cc2420/source/basic_rf.c ****     // Flush the TX FIFO just in case...
 701:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2895               	.LM468:
 2896               	/* #NOAPP */
 2897 0a38 4098      		cbi 40-32,0
 2898 0a3a 99E0      		ldi r25,lo8(9)
 2899 0a3c 9EBD      		out 78-32,r25
 2900               	.L301:
 2902               	.LM469:
 2903 0a3e 0DB4      		in __tmp_reg__,77-32
 2904 0a40 07FE      		sbrs __tmp_reg__,7
 2905 0a42 00C0      		rjmp .L301
 2907               	.LM470:
 2908 0a44 409A      		sbi 40-32,0
 702:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2910               	.LM471:
 2911 0a46 4098      		cbi 40-32,0
 2912 0a48 99E0      		ldi r25,lo8(9)
 2913 0a4a 9EBD      		out 78-32,r25
 2914               	.L302:
 2916               	.LM472:
 2917 0a4c 0DB4      		in __tmp_reg__,77-32
 2918 0a4e 07FE      		sbrs __tmp_reg__,7
 2919 0a50 00C0      		rjmp .L302
 2921               	.LM473:
 2922 0a52 409A      		sbi 40-32,0
 703:../../../src/radio/cc2420/source/basic_rf.c **** 
 704:../../../src/radio/cc2420/source/basic_rf.c ****     /*
 705:../../../src/radio/cc2420/source/basic_rf.c ****         // Turn on RX if necessary
 706:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn) {
 707:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_STROBE(CC2420_SRXON);
 708:../../../src/radio/cc2420/source/basic_rf.c ****     		}
 709:../../../src/radio/cc2420/source/basic_rf.c **** 
 710:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the RSSI value to become valid
 711:../../../src/radio/cc2420/source/basic_rf.c ****         do {
 712:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS(spiStatusByte);
 713:../../../src/radio/cc2420/source/basic_rf.c ****         } while (!(spiStatusByte & BM(CC2420_RSSI_VALID)));
 714:../../../src/radio/cc2420/source/basic_rf.c **** 
 715:../../../src/radio/cc2420/source/basic_rf.c ****     	// TX begins after the CCA check has passed
 716:../../../src/radio/cc2420/source/basic_rf.c ****         do {
 717:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_STROBE(CC2420_STXONCCA);
 718:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_UPD_STATUS(spiStatusByte);
 719:../../../src/radio/cc2420/source/basic_rf.c ****     		halWait(100);
 720:../../../src/radio/cc2420/source/basic_rf.c ****         } while (!(spiStatusByte & BM(CC2420_TX_ACTIVE)));
 721:../../../src/radio/cc2420/source/basic_rf.c ****     */
 722:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*)&packetLength, 1);               // Packet length
 2924               	.LM474:
 2925 0a54 4098      		cbi 40-32,0
 2926 0a56 9EE3      		ldi r25,lo8(62)
 2927 0a58 9EBD      		out 78-32,r25
 2928               	.L303:
 2930               	.LM475:
 2931 0a5a 0DB4      		in __tmp_reg__,77-32
 2932 0a5c 07FE      		sbrs __tmp_reg__,7
 2933 0a5e 00C0      		rjmp .L303
 2934               	.LBB11:
 2936               	.LM476:
 2937 0a60 8EBD      		out 78-32,r24
 2938               	.L304:
 2940               	.LM477:
 2941 0a62 0DB4      		in __tmp_reg__,77-32
 2942 0a64 07FE      		sbrs __tmp_reg__,7
 2943 0a66 00C0      		rjmp .L304
 2944               	.LBE11:
 2946               	.LM478:
 2947 0a68 409A      		sbi 40-32,0
 723:../../../src/radio/cc2420/source/basic_rf.c ****     frameControlField = RF_FCF_NOACK;   // default
 2949               	.LM479:
 2950 0a6a 81E4      		ldi r24,lo8(-30655)
 2951 0a6c 98E8      		ldi r25,hi8(-30655)
 2952 0a6e 9A83      		std Y+2,r25
 2953 0a70 8983      		std Y+1,r24
 724:../../../src/radio/cc2420/source/basic_rf.c ****     if(auto_ack_enable) frameControlField |= RF_ACK_BM;
 2955               	.LM480:
 2956 0a72 8091 0000 		lds r24,auto_ack_enable
 2957 0a76 8823      		tst r24
 2958 0a78 01F0      		breq .L305
 2960               	.LM481:
 2961 0a7a 81E6      		ldi r24,lo8(-30623)
 2962 0a7c 98E8      		ldi r25,hi8(-30623)
 2963 0a7e 9A83      		std Y+2,r25
 2964 0a80 8983      		std Y+1,r24
 2965               	.L305:
 725:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable) frameControlField |= RF_SEC_BM;
 2967               	.LM482:
 2968 0a82 8091 0000 		lds r24,security_enable
 2969 0a86 8823      		tst r24
 2970 0a88 01F0      		breq .L306
 2972               	.LM483:
 2973 0a8a 8981      		ldd r24,Y+1
 2974 0a8c 9A81      		ldd r25,Y+2
 2975 0a8e 8860      		ori r24,lo8(8)
 2976 0a90 9A83      		std Y+2,r25
 2977 0a92 8983      		std Y+1,r24
 2978               	.L306:
 726:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &frameControlField, 2);         // Frame control field
 2980               	.LM484:
 2981 0a94 4098      		cbi 40-32,0
 2982 0a96 8EE3      		ldi r24,lo8(62)
 2983 0a98 8EBD      		out 78-32,r24
 2984               	.L307:
 2986               	.LM485:
 2987 0a9a 0DB4      		in __tmp_reg__,77-32
 2988 0a9c 07FE      		sbrs __tmp_reg__,7
 2989 0a9e 00C0      		rjmp .L307
 2991               	.LM486:
 2992 0aa0 DE01      		movw r26,r28
 2993 0aa2 1196      		adiw r26,1
 660:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_packet(RF_TX_INFO *pRTI)
 2995               	.LM487:
 2996 0aa4 CE01      		movw r24,r28
 2997 0aa6 0396      		adiw r24,3
 2998               	.L309:
 2999               	.LBB12:
 3001               	.LM488:
 3002 0aa8 3D91      		ld r19,X+
 3003 0aaa 3EBD      		out 78-32,r19
 3004               	.L308:
 3006               	.LM489:
 3007 0aac 0DB4      		in __tmp_reg__,77-32
 3008 0aae 07FE      		sbrs __tmp_reg__,7
 3009 0ab0 00C0      		rjmp .L308
 3011               	.LM490:
 3012 0ab2 A817      		cp r26,r24
 3013 0ab4 B907      		cpc r27,r25
 3014 0ab6 01F4      		brne .L309
 3015               	.LBE12:
 3017               	.LM491:
 3018 0ab8 409A      		sbi 40-32,0
 727:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.txSeqNumber, 1);    // Sequence number
 3020               	.LM492:
 3021 0aba 4098      		cbi 40-32,0
 3022 0abc 8EE3      		ldi r24,lo8(62)
 3023 0abe 8EBD      		out 78-32,r24
 3024               	.L310:
 3026               	.LM493:
 3027 0ac0 0DB4      		in __tmp_reg__,77-32
 3028 0ac2 07FE      		sbrs __tmp_reg__,7
 3029 0ac4 00C0      		rjmp .L310
 3030               	.LBB13:
 3032               	.LM494:
 3033 0ac6 8091 0000 		lds r24,rfSettings+2
 3034 0aca 8EBD      		out 78-32,r24
 3035               	.L311:
 3037               	.LM495:
 3038 0acc 0DB4      		in __tmp_reg__,77-32
 3039 0ace 07FE      		sbrs __tmp_reg__,7
 3040 0ad0 00C0      		rjmp .L311
 3041               	.LBE13:
 3043               	.LM496:
 3044 0ad2 409A      		sbi 40-32,0
 728:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.panId, 2);          // Dest. PAN ID
 3046               	.LM497:
 3047 0ad4 4098      		cbi 40-32,0
 3048 0ad6 8EE3      		ldi r24,lo8(62)
 3049 0ad8 8EBD      		out 78-32,r24
 3050               	.L312:
 3052               	.LM498:
 3053 0ada 0DB4      		in __tmp_reg__,77-32
 3054 0adc 07FE      		sbrs __tmp_reg__,7
 3055 0ade 00C0      		rjmp .L312
 3057               	.LM499:
 3058 0ae0 80E0      		ldi r24,lo8(0)
 3059 0ae2 90E0      		ldi r25,hi8(0)
 3060               	.L314:
 3061               	.LBB14:
 660:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_packet(RF_TX_INFO *pRTI)
 3063               	.LM500:
 3064 0ae4 DC01      		movw r26,r24
 3065 0ae6 A050      		subi r26,lo8(-(rfSettings))
 3066 0ae8 B040      		sbci r27,hi8(-(rfSettings))
 3068               	.LM501:
 3069 0aea 1496      		adiw r26,4
 3070 0aec 3C91      		ld r19,X
 3071 0aee 1497      		sbiw r26,4
 3072 0af0 3EBD      		out 78-32,r19
 3073               	.L313:
 3075               	.LM502:
 3076 0af2 0DB4      		in __tmp_reg__,77-32
 3077 0af4 07FE      		sbrs __tmp_reg__,7
 3078 0af6 00C0      		rjmp .L313
 3080               	.LM503:
 3081 0af8 0196      		adiw r24,1
 3082 0afa 8230      		cpi r24,2
 3083 0afc 9105      		cpc r25,__zero_reg__
 3084 0afe 01F4      		brne .L314
 3085               	.LBE14:
 3087               	.LM504:
 3088 0b00 409A      		sbi 40-32,0
 729:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &pRTI->destAddr, 2);            // Dest. address
 3090               	.LM505:
 3091 0b02 4098      		cbi 40-32,0
 3092 0b04 8EE3      		ldi r24,lo8(62)
 3093 0b06 8EBD      		out 78-32,r24
 3094               	.L315:
 3096               	.LM506:
 3097 0b08 0DB4      		in __tmp_reg__,77-32
 3098 0b0a 07FE      		sbrs __tmp_reg__,7
 3099 0b0c 00C0      		rjmp .L315
 3101               	.LM507:
 3102 0b0e 80E0      		ldi r24,lo8(0)
 3103 0b10 90E0      		ldi r25,hi8(0)
 3104               	.L317:
 3105               	.LBB15:
 3106 0b12 DF01      		movw r26,r30
 3107 0b14 A80F      		add r26,r24
 3108 0b16 B91F      		adc r27,r25
 3109 0b18 3C91      		ld r19,X
 3110 0b1a 3EBD      		out 78-32,r19
 3111               	.L316:
 3113               	.LM508:
 3114 0b1c 0DB4      		in __tmp_reg__,77-32
 3115 0b1e 07FE      		sbrs __tmp_reg__,7
 3116 0b20 00C0      		rjmp .L316
 3118               	.LM509:
 3119 0b22 0196      		adiw r24,1
 3120 0b24 8230      		cpi r24,2
 3121 0b26 9105      		cpc r25,__zero_reg__
 3122 0b28 01F4      		brne .L317
 3123               	.LBE15:
 3125               	.LM510:
 3126 0b2a 409A      		sbi 40-32,0
 730:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.myAddr, 2);         // Source address
 3128               	.LM511:
 3129 0b2c 4098      		cbi 40-32,0
 3130 0b2e 8EE3      		ldi r24,lo8(62)
 3131 0b30 8EBD      		out 78-32,r24
 3132               	.L318:
 3134               	.LM512:
 3135 0b32 0DB4      		in __tmp_reg__,77-32
 3136 0b34 07FE      		sbrs __tmp_reg__,7
 3137 0b36 00C0      		rjmp .L318
 3139               	.LM513:
 3140 0b38 80E0      		ldi r24,lo8(0)
 3141 0b3a 90E0      		ldi r25,hi8(0)
 3142               	.L320:
 3143               	.LBB16:
 660:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_packet(RF_TX_INFO *pRTI)
 3145               	.LM514:
 3146 0b3c DC01      		movw r26,r24
 3147 0b3e A050      		subi r26,lo8(-(rfSettings))
 3148 0b40 B040      		sbci r27,hi8(-(rfSettings))
 3150               	.LM515:
 3151 0b42 1696      		adiw r26,6
 3152 0b44 3C91      		ld r19,X
 3153 0b46 1697      		sbiw r26,6
 3154 0b48 3EBD      		out 78-32,r19
 3155               	.L319:
 3157               	.LM516:
 3158 0b4a 0DB4      		in __tmp_reg__,77-32
 3159 0b4c 07FE      		sbrs __tmp_reg__,7
 3160 0b4e 00C0      		rjmp .L319
 3162               	.LM517:
 3163 0b50 0196      		adiw r24,1
 3164 0b52 8230      		cpi r24,2
 3165 0b54 9105      		cpc r25,__zero_reg__
 3166 0b56 01F4      		brne .L320
 3167               	.LBE16:
 3169               	.LM518:
 3170 0b58 409A      		sbi 40-32,0
 731:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable)
 3172               	.LM519:
 3173 0b5a 8091 0000 		lds r24,security_enable
 3174 0b5e 8823      		tst r24
 3175 0b60 01F0      		breq .L321
 732:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_FIFO((uint8_t*) &tx_ctr, 4);         // CTR counter
 3177               	.LM520:
 3178 0b62 4098      		cbi 40-32,0
 3179 0b64 8EE3      		ldi r24,lo8(62)
 3180 0b66 8EBD      		out 78-32,r24
 3181               	.L322:
 3183               	.LM521:
 3184 0b68 0DB4      		in __tmp_reg__,77-32
 3185 0b6a 07FE      		sbrs __tmp_reg__,7
 3186 0b6c 00C0      		rjmp .L322
 3188               	.LM522:
 3189 0b6e A0E0      		ldi r26,lo8(tx_ctr)
 3190 0b70 B0E0      		ldi r27,hi8(tx_ctr)
 3191               	.L324:
 3192               	.LBB17:
 3194               	.LM523:
 3195 0b72 8D91      		ld r24,X+
 3196 0b74 8EBD      		out 78-32,r24
 3197               	.L323:
 3199               	.LM524:
 3200 0b76 0DB4      		in __tmp_reg__,77-32
 3201 0b78 07FE      		sbrs __tmp_reg__,7
 3202 0b7a 00C0      		rjmp .L323
 3204               	.LM525:
 3205 0b7c 80E0      		ldi r24,hi8(tx_ctr+4)
 3206 0b7e A030      		cpi r26,lo8(tx_ctr+4)
 3207 0b80 B807      		cpc r27,r24
 3208 0b82 01F4      		brne .L324
 3209               	.LBE17:
 3211               	.LM526:
 3212 0b84 409A      		sbi 40-32,0
 3213               	.L321:
 733:../../../src/radio/cc2420/source/basic_rf.c **** 
 734:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) pRTI->pPayload, pRTI->length);  // Payload
 3215               	.LM527:
 3216 0b86 4098      		cbi 40-32,0
 3217 0b88 8EE3      		ldi r24,lo8(62)
 3218 0b8a 8EBD      		out 78-32,r24
 3219               	.L325:
 3221               	.LM528:
 3222 0b8c 0DB4      		in __tmp_reg__,77-32
 3223 0b8e 07FE      		sbrs __tmp_reg__,7
 3224 0b90 00C0      		rjmp .L325
 3226               	.LM529:
 3227 0b92 30E0      		ldi r19,lo8(0)
 3228 0b94 00C0      		rjmp .L326
 3229               	.L328:
 3230               	.LBB18:
 3232               	.LM530:
 3233 0b96 A381      		ldd r26,Z+3
 3234 0b98 B481      		ldd r27,Z+4
 3235 0b9a A80F      		add r26,r24
 3236 0b9c B91F      		adc r27,r25
 3237 0b9e 8C91      		ld r24,X
 3238 0ba0 8EBD      		out 78-32,r24
 3239               	.L327:
 3241               	.LM531:
 3242 0ba2 0DB4      		in __tmp_reg__,77-32
 3243 0ba4 07FE      		sbrs __tmp_reg__,7
 3244 0ba6 00C0      		rjmp .L327
 3246               	.LM532:
 3247 0ba8 3F5F      		subi r19,lo8(-(1))
 3248               	.L326:
 3250               	.LM533:
 3251 0baa 832F      		mov r24,r19
 3252 0bac 90E0      		ldi r25,lo8(0)
 3253 0bae 4281      		ldd r20,Z+2
 3254 0bb0 5527      		clr r21
 3255 0bb2 47FD      		sbrc r20,7
 3256 0bb4 5095      		com r21
 3257 0bb6 8417      		cp r24,r20
 3258 0bb8 9507      		cpc r25,r21
 3259 0bba 04F0      		brlt .L328
 3260               	.LBE18:
 3262               	.LM534:
 3263 0bbc 409A      		sbi 40-32,0
 735:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &checksum, 1);         // Checksum
 3265               	.LM535:
 3266 0bbe 4098      		cbi 40-32,0
 3267 0bc0 8EE3      		ldi r24,lo8(62)
 3268 0bc2 8EBD      		out 78-32,r24
 3269               	.L329:
 3271               	.LM536:
 3272 0bc4 0DB4      		in __tmp_reg__,77-32
 3273 0bc6 07FE      		sbrs __tmp_reg__,7
 3274 0bc8 00C0      		rjmp .L329
 3275               	.LBB19:
 3277               	.LM537:
 3278 0bca 2EBD      		out 78-32,r18
 3279               	.L330:
 3281               	.LM538:
 3282 0bcc 0DB4      		in __tmp_reg__,77-32
 3283 0bce 07FE      		sbrs __tmp_reg__,7
 3284 0bd0 00C0      		rjmp .L330
 3285               	.LBE19:
 3287               	.LM539:
 3288 0bd2 409A      		sbi 40-32,0
 736:../../../src/radio/cc2420/source/basic_rf.c **** 
 737:../../../src/radio/cc2420/source/basic_rf.c ****     if (pRTI->cca == TRUE)
 3290               	.LM540:
 3291 0bd4 8581      		ldd r24,Z+5
 3292 0bd6 8823      		tst r24
 3293 0bd8 01F0      		breq .L331
 3294               	.LBB20:
 738:../../../src/radio/cc2420/source/basic_rf.c ****     {
 739:../../../src/radio/cc2420/source/basic_rf.c ****         uint8_t cnt;
 740:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn)
 3296               	.LM541:
 3297 0bda 8091 0000 		lds r24,rfSettings+8
 3298 0bde 8823      		tst r24
 3299 0be0 01F4      		brne .L355
 741:../../../src/radio/cc2420/source/basic_rf.c ****         {
 742:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_SRXON);
 3301               	.LM542:
 3302 0be2 4098      		cbi 40-32,0
 3303 0be4 83E0      		ldi r24,lo8(3)
 3304 0be6 8EBD      		out 78-32,r24
 3305               	.L333:
 3307               	.LM543:
 3308 0be8 0DB4      		in __tmp_reg__,77-32
 3309 0bea 07FE      		sbrs __tmp_reg__,7
 3310 0bec 00C0      		rjmp .L333
 3312               	.LM544:
 3313 0bee 409A      		sbi 40-32,0
 3314               	.L355:
 743:../../../src/radio/cc2420/source/basic_rf.c ****         }
 744:../../../src/radio/cc2420/source/basic_rf.c **** 
 745:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the RSSI value to become valid
 746:../../../src/radio/cc2420/source/basic_rf.c ****         do
 747:../../../src/radio/cc2420/source/basic_rf.c ****         {
 748:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 3316               	.LM545:
 3317 0bf0 4098      		cbi 40-32,0
 3318 0bf2 1EBC      		out 78-32,__zero_reg__
 3319               	.L334:
 3321               	.LM546:
 3322 0bf4 0DB4      		in __tmp_reg__,77-32
 3323 0bf6 07FE      		sbrs __tmp_reg__,7
 3324 0bf8 00C0      		rjmp .L334
 3326               	.LM547:
 3327 0bfa 8EB5      		in r24,78-32
 3328 0bfc 409A      		sbi 40-32,0
 749:../../../src/radio/cc2420/source/basic_rf.c ****         }
 750:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_RSSI_VALID)));
 3330               	.LM548:
 3331 0bfe 81FF      		sbrs r24,1
 3332 0c00 00C0      		rjmp .L355
 3334               	.LM549:
 3335 0c02 10E0      		ldi r17,lo8(0)
 751:../../../src/radio/cc2420/source/basic_rf.c ****         // TX begins after the CCA check has passed
 752:../../../src/radio/cc2420/source/basic_rf.c ****         cnt = 0;
 753:../../../src/radio/cc2420/source/basic_rf.c ****         do
 754:../../../src/radio/cc2420/source/basic_rf.c ****         {
 755:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_STXONCCA);
 3337               	.LM550:
 3338 0c04 05E0      		ldi r16,lo8(5)
 3339               	.L340:
 3340 0c06 4098      		cbi 40-32,0
 3341 0c08 0EBD      		out 78-32,r16
 3342               	.L336:
 3344               	.LM551:
 3345 0c0a 0DB4      		in __tmp_reg__,77-32
 3346 0c0c 07FE      		sbrs __tmp_reg__,7
 3347 0c0e 00C0      		rjmp .L336
 3349               	.LM552:
 3350 0c10 409A      		sbi 40-32,0
 756:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 3352               	.LM553:
 3353 0c12 4098      		cbi 40-32,0
 3354 0c14 1EBC      		out 78-32,__zero_reg__
 3355               	.L337:
 3357               	.LM554:
 3358 0c16 0DB4      		in __tmp_reg__,77-32
 3359 0c18 07FE      		sbrs __tmp_reg__,7
 3360 0c1a 00C0      		rjmp .L337
 3362               	.LM555:
 3363 0c1c FEB4      		in r15,78-32
 3364 0c1e 409A      		sbi 40-32,0
 757:../../../src/radio/cc2420/source/basic_rf.c ****             cnt++;
 3366               	.LM556:
 3367 0c20 1F5F      		subi r17,lo8(-(1))
 758:../../../src/radio/cc2420/source/basic_rf.c ****             if (cnt > 100)
 3369               	.LM557:
 3370 0c22 1536      		cpi r17,lo8(101)
 3371 0c24 01F4      		brne .L338
 759:../../../src/radio/cc2420/source/basic_rf.c ****             {
 760:../../../src/radio/cc2420/source/basic_rf.c ****                 ENABLE_GLOBAL_INT ();
 3373               	.LM558:
 3374               	/* #APP */
 3375               	 ;  760 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3376 0c26 7894      		sei
 3377               		
 3378               	 ;  0 "" 2
 761:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 3380               	.LM559:
 3381               	/* #NOAPP */
 3382 0c28 8091 0000 		lds r24,radio_sem
 3383 0c2c 9091 0000 		lds r25,radio_sem+1
 3384 0c30 0E94 0000 		call nrk_sem_post
 762:../../../src/radio/cc2420/source/basic_rf.c ****                 return FALSE;
 3386               	.LM560:
 3387 0c34 80E0      		ldi r24,lo8(0)
 3388 0c36 00C0      		rjmp .L339
 3389               	.L338:
 763:../../../src/radio/cc2420/source/basic_rf.c ****             }
 764:../../../src/radio/cc2420/source/basic_rf.c ****             halWait (100);
 3391               	.LM561:
 3392 0c38 84E6      		ldi r24,lo8(100)
 3393 0c3a 90E0      		ldi r25,hi8(100)
 3394 0c3c 0E94 0000 		call halWait
 765:../../../src/radio/cc2420/source/basic_rf.c ****         }
 766:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_TX_ACTIVE)));
 3396               	.LM562:
 3397 0c40 F3FE      		sbrs r15,3
 3398 0c42 00C0      		rjmp .L340
 3399 0c44 00C0      		rjmp .L341
 3400               	.L331:
 3401               	.LBE20:
 767:../../../src/radio/cc2420/source/basic_rf.c ****     }
 768:../../../src/radio/cc2420/source/basic_rf.c ****     else
 769:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE (CC2420_STXON);
 3403               	.LM563:
 3404 0c46 4098      		cbi 40-32,0
 3405 0c48 84E0      		ldi r24,lo8(4)
 3406 0c4a 8EBD      		out 78-32,r24
 3407               	.L342:
 3409               	.LM564:
 3410 0c4c 0DB4      		in __tmp_reg__,77-32
 3411 0c4e 07FE      		sbrs __tmp_reg__,7
 3412 0c50 00C0      		rjmp .L342
 3414               	.LM565:
 3415 0c52 409A      		sbi 40-32,0
 3416               	.L341:
 770:../../../src/radio/cc2420/source/basic_rf.c **** 
 771:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 3418               	.LM566:
 3419               	/* #APP */
 3420               	 ;  771 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3421 0c54 7894      		sei
 3422               		
 3423               	 ;  0 "" 2
 3424               	/* #NOAPP */
 3425               	.L343:
 772:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the transmission to begin before exiting (makes sure that this function cannot be c
 773:../../../src/radio/cc2420/source/basic_rf.c ****     // a second time, and thereby cancelling the first transmission (observe the FIFOP + SFD test a
 774:../../../src/radio/cc2420/source/basic_rf.c ****     while (!SFD_IS_1);
 3427               	.LM567:
 3428 0c56 4E9B      		sbis 41-32,6
 3429 0c58 00C0      		rjmp .L343
 3430               	.L354:
 775:../../../src/radio/cc2420/source/basic_rf.c ****     success = TRUE;
 776:../../../src/radio/cc2420/source/basic_rf.c **** 
 777:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn interrupts back on
 778:../../../src/radio/cc2420/source/basic_rf.c **** //	ENABLE_GLOBAL_INT();
 779:../../../src/radio/cc2420/source/basic_rf.c **** 
 780:../../../src/radio/cc2420/source/basic_rf.c ****     while (SFD_IS_1); // wait for packet to finish
 3432               	.LM568:
 3433 0c5a 4E99      		sbic 41-32,6
 3434 0c5c 00C0      		rjmp .L354
 781:../../../src/radio/cc2420/source/basic_rf.c **** 
 782:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the acknowledge to be received, if any
 783:../../../src/radio/cc2420/source/basic_rf.c ****     if (auto_ack_enable)
 3436               	.LM569:
 3437 0c5e 8091 0000 		lds r24,auto_ack_enable
 3438 0c62 8823      		tst r24
 3439 0c64 01F0      		breq .L352
 784:../../../src/radio/cc2420/source/basic_rf.c ****     {
 785:../../../src/radio/cc2420/source/basic_rf.c **** //		rfSettings.ackReceived = FALSE;
 786:../../../src/radio/cc2420/source/basic_rf.c **** 
 787:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the SFD to go low again
 788:../../../src/radio/cc2420/source/basic_rf.c ****         //	while (SFD_IS_1);
 789:../../../src/radio/cc2420/source/basic_rf.c ****         // We'll enter RX automatically, so just wait until we can be sure that the
 790:../../../src/radio/cc2420/source/basic_rf.c ****         // ack reception should have finished
 791:../../../src/radio/cc2420/source/basic_rf.c ****         // The timeout consists of a 12-symbol turnaround time, the ack packet duration,
 792:../../../src/radio/cc2420/source/basic_rf.c ****         // and a small margin
 793:../../../src/radio/cc2420/source/basic_rf.c ****         halWait((12 * RF_SYMBOL_DURATION) + (RF_ACK_DURATION) + (2 * RF_SYMBOL_DURATION) + 100);
 3441               	.LM570:
 3442 0c66 84EA      		ldi r24,lo8(676)
 3443 0c68 92E0      		ldi r25,hi8(676)
 3444 0c6a 0E94 0000 		call halWait
 794:../../../src/radio/cc2420/source/basic_rf.c **** 
 795:../../../src/radio/cc2420/source/basic_rf.c ****         if(FIFO_IS_1)
 3446               	.LM571:
 3447 0c6e 319B      		sbis 38-32,1
 3448 0c70 00C0      		rjmp .L346
 796:../../../src/radio/cc2420/source/basic_rf.c ****         {
 797:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(length);
 3450               	.LM572:
 3451 0c72 4098      		cbi 40-32,0
 3452 0c74 8FE7      		ldi r24,lo8(127)
 3453 0c76 8EBD      		out 78-32,r24
 3454               	.L347:
 3456               	.LM573:
 3457 0c78 0DB4      		in __tmp_reg__,77-32
 3458 0c7a 07FE      		sbrs __tmp_reg__,7
 3459 0c7c 00C0      		rjmp .L347
 3461               	.LM574:
 3462 0c7e 1EBC      		out 78-32,__zero_reg__
 3463               	.L348:
 3465               	.LM575:
 3466 0c80 0DB4      		in __tmp_reg__,77-32
 3467 0c82 07FE      		sbrs __tmp_reg__,7
 3468 0c84 00C0      		rjmp .L348
 3470               	.LM576:
 3471 0c86 8EB5      		in r24,78-32
 3472 0c88 409A      		sbi 40-32,0
 3473 0c8a 00C0      		rjmp .L352
 3474               	.L346:
 798:../../../src/radio/cc2420/source/basic_rf.c ****             length &= RF_LENGTH_MASK; // Ignore MSB
 799:../../../src/radio/cc2420/source/basic_rf.c ****             success = TRUE;
 800:../../../src/radio/cc2420/source/basic_rf.c **** 
 801:../../../src/radio/cc2420/source/basic_rf.c ****         }
 802:../../../src/radio/cc2420/source/basic_rf.c ****         else
 803:../../../src/radio/cc2420/source/basic_rf.c ****         {
 804:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3476               	.LM577:
 3477 0c8c 4098      		cbi 40-32,0
 3478 0c8e 88E0      		ldi r24,lo8(8)
 3479 0c90 8EBD      		out 78-32,r24
 3480               	.L349:
 3482               	.LM578:
 3483 0c92 0DB4      		in __tmp_reg__,77-32
 3484 0c94 07FE      		sbrs __tmp_reg__,7
 3485 0c96 00C0      		rjmp .L349
 3487               	.LM579:
 3488 0c98 409A      		sbi 40-32,0
 805:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3490               	.LM580:
 3491 0c9a 4098      		cbi 40-32,0
 3492 0c9c 88E0      		ldi r24,lo8(8)
 3493 0c9e 8EBD      		out 78-32,r24
 3494               	.L350:
 3496               	.LM581:
 3497 0ca0 0DB4      		in __tmp_reg__,77-32
 3498 0ca2 07FE      		sbrs __tmp_reg__,7
 3499 0ca4 00C0      		rjmp .L350
 3501               	.LM582:
 3502 0ca6 409A      		sbi 40-32,0
 806:../../../src/radio/cc2420/source/basic_rf.c ****             success = FALSE;
 3504               	.LM583:
 3505 0ca8 80E0      		ldi r24,lo8(0)
 3506 0caa 00C0      		rjmp .L345
 3507               	.L352:
 775:../../../src/radio/cc2420/source/basic_rf.c ****     success = TRUE;
 3509               	.LM584:
 3510 0cac 81E0      		ldi r24,lo8(1)
 3511               	.L345:
 807:../../../src/radio/cc2420/source/basic_rf.c ****         }
 808:../../../src/radio/cc2420/source/basic_rf.c **** 
 809:../../../src/radio/cc2420/source/basic_rf.c ****     }
 810:../../../src/radio/cc2420/source/basic_rf.c **** 
 811:../../../src/radio/cc2420/source/basic_rf.c **** 
 812:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off the receiver if it should not continue to be enabled
 813:../../../src/radio/cc2420/source/basic_rf.c **** 
 814:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 3513               	.LM585:
 3514               	/* #APP */
 3515               	 ;  814 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3516 0cae F894      		cli
 3517               		
 3518               	 ;  0 "" 2
 815:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_STROBE(CC2420_SFLUSHRX);
 816:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_STROBE(CC2420_SFLUSHRX);
 817:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_STROBE(CC2420_SFLUSHTX);
 818:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_STROBE(CC2420_SFLUSHTX);
 819:../../../src/radio/cc2420/source/basic_rf.c **** 
 820:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 821:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
 822:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 823:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 3520               	.LM586:
 3521               	/* #NOAPP */
 3522 0cb0 4098      		cbi 40-32,0
 3523 0cb2 96E0      		ldi r25,lo8(6)
 3524 0cb4 9EBD      		out 78-32,r25
 3525               	.L351:
 3527               	.LM587:
 3528 0cb6 0DB4      		in __tmp_reg__,77-32
 3529 0cb8 07FE      		sbrs __tmp_reg__,7
 3530 0cba 00C0      		rjmp .L351
 3532               	.LM588:
 3533 0cbc 409A      		sbi 40-32,0
 824:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 3535               	.LM589:
 3536               	/* #APP */
 3537               	 ;  824 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3538 0cbe 7894      		sei
 3539               		
 3540               	 ;  0 "" 2
 825:../../../src/radio/cc2420/source/basic_rf.c **** 
 826:../../../src/radio/cc2420/source/basic_rf.c ****     // agr XXX hack to test time issue
 827:../../../src/radio/cc2420/source/basic_rf.c ****     //rf_rx_on();
 828:../../../src/radio/cc2420/source/basic_rf.c **** 
 829:../../../src/radio/cc2420/source/basic_rf.c ****     // Increment the sequence number, and return the result
 830:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber++;
 3542               	.LM590:
 3543               	/* #NOAPP */
 3544 0cc0 9091 0000 		lds r25,rfSettings+2
 3545 0cc4 9F5F      		subi r25,lo8(-(1))
 3546 0cc6 9093 0000 		sts rfSettings+2,r25
 3547               	.L339:
 3548               	/* epilogue start */
 831:../../../src/radio/cc2420/source/basic_rf.c **** //	while (SFD_IS_1);
 832:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 833:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 834:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 835:../../../src/radio/cc2420/source/basic_rf.c ****     return success;
 836:../../../src/radio/cc2420/source/basic_rf.c **** 
 837:../../../src/radio/cc2420/source/basic_rf.c **** }
 3550               	.LM591:
 3551 0cca 0F90      		pop __tmp_reg__
 3552 0ccc 0F90      		pop __tmp_reg__
 3553 0cce CF91      		pop r28
 3554 0cd0 DF91      		pop r29
 3555 0cd2 1F91      		pop r17
 3556 0cd4 0F91      		pop r16
 3557 0cd6 FF90      		pop r15
 3558 0cd8 0895      		ret
 3574               	.Lscope24:
 3576               		.stabd	78,0,0
 3578               	.global	rf_busy
 3580               	rf_busy:
 3581               		.stabd	46,0,0
 838:../../../src/radio/cc2420/source/basic_rf.c **** 
 839:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_busy()
 840:../../../src/radio/cc2420/source/basic_rf.c **** {
 3583               	.LM592:
 3584               	.LFBB25:
 3585               	/* prologue: function */
 3586               	/* frame size = 0 */
 3587               	/* stack size = 0 */
 3588               	.L__stack_usage = 0
 841:../../../src/radio/cc2420/source/basic_rf.c ****     return SFD_IS_1;
 3590               	.LM593:
 3591 0cda 81E0      		ldi r24,lo8(1)
 3592 0cdc 4E9B      		sbis 41-32,6
 3593 0cde 80E0      		ldi r24,lo8(0)
 3594               	.L401:
 842:../../../src/radio/cc2420/source/basic_rf.c **** }
 3596               	.LM594:
 3597 0ce0 0895      		ret
 3599               	.Lscope25:
 3601               		.stabd	78,0,0
 3603               	.global	rf_rx_check_fifop
 3605               	rf_rx_check_fifop:
 3606               		.stabd	46,0,0
 843:../../../src/radio/cc2420/source/basic_rf.c **** 
 844:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_rx_check_fifop()
 845:../../../src/radio/cc2420/source/basic_rf.c **** {
 3608               	.LM595:
 3609               	.LFBB26:
 3610               	/* prologue: function */
 3611               	/* frame size = 0 */
 3612               	/* stack size = 0 */
 3613               	.L__stack_usage = 0
 846:../../../src/radio/cc2420/source/basic_rf.c ****     return FIFOP_IS_1;
 3615               	.LM596:
 3616 0ce2 8CB1      		in r24,44-32
 847:../../../src/radio/cc2420/source/basic_rf.c **** }
 3618               	.LM597:
 3619 0ce4 881F      		rol r24
 3620 0ce6 8827      		clr r24
 3621 0ce8 881F      		rol r24
 3622               	/* epilogue start */
 3623 0cea 0895      		ret
 3625               	.Lscope26:
 3627               		.stabd	78,0,0
 3629               	.global	rf_rx_check_sfd
 3631               	rf_rx_check_sfd:
 3632               		.stabd	46,0,0
 848:../../../src/radio/cc2420/source/basic_rf.c **** 
 849:../../../src/radio/cc2420/source/basic_rf.c **** 
 850:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_rx_check_sfd()
 851:../../../src/radio/cc2420/source/basic_rf.c **** {
 3634               	.LM598:
 3635               	.LFBB27:
 3636               	/* prologue: function */
 3637               	/* frame size = 0 */
 3638               	/* stack size = 0 */
 3639               	.L__stack_usage = 0
 852:../../../src/radio/cc2420/source/basic_rf.c ****     return SFD_IS_1;
 3641               	.LM599:
 3642 0cec 81E0      		ldi r24,lo8(1)
 3643 0cee 4E9B      		sbis 41-32,6
 3644 0cf0 80E0      		ldi r24,lo8(0)
 3645               	.L404:
 853:../../../src/radio/cc2420/source/basic_rf.c **** }
 3647               	.LM600:
 3648 0cf2 0895      		ret
 3650               	.Lscope27:
 3652               		.stabd	78,0,0
 3654               	.global	rf_polling_rx_packet
 3656               	rf_polling_rx_packet:
 3657               		.stabd	46,0,0
 854:../../../src/radio/cc2420/source/basic_rf.c **** uint16_t tmp_blah;
 855:../../../src/radio/cc2420/source/basic_rf.c **** 
 856:../../../src/radio/cc2420/source/basic_rf.c **** int8_t rf_polling_rx_packet()
 857:../../../src/radio/cc2420/source/basic_rf.c **** {
 3659               	.LM601:
 3660               	.LFBB28:
 3661 0cf4 DF93      		push r29
 3662 0cf6 CF93      		push r28
 3663 0cf8 00D0      		rcall .
 3664 0cfa 00D0      		rcall .
 3665 0cfc CDB7      		in r28,__SP_L__
 3666 0cfe DEB7      		in r29,__SP_H__
 3667               	/* prologue: function */
 3668               	/* frame size = 4 */
 3669               	/* stack size = 6 */
 3670               	.L__stack_usage = 6
 858:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t tmp;
 859:../../../src/radio/cc2420/source/basic_rf.c **** 
 860:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 861:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
 862:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 863:../../../src/radio/cc2420/source/basic_rf.c **** 
 864:../../../src/radio/cc2420/source/basic_rf.c ****     if(FIFOP_IS_1 )
 3672               	.LM602:
 3673 0d00 679B      		sbis 44-32,7
 3674 0d02 00C0      		rjmp .L479
 3675               	.LBB21:
 865:../../../src/radio/cc2420/source/basic_rf.c ****     {
 866:../../../src/radio/cc2420/source/basic_rf.c ****         uint16_t frameControlField;
 867:../../../src/radio/cc2420/source/basic_rf.c ****         int8_t length;
 868:../../../src/radio/cc2420/source/basic_rf.c ****         uint8_t pFooter[2];
 869:../../../src/radio/cc2420/source/basic_rf.c ****         uint8_t checksum,rx_checksum,i;
 870:../../../src/radio/cc2420/source/basic_rf.c **** 
 871:../../../src/radio/cc2420/source/basic_rf.c ****         last_pkt_encrypted=0;
 3677               	.LM603:
 3678 0d04 1092 0000 		sts last_pkt_encrypted,__zero_reg__
 872:../../../src/radio/cc2420/source/basic_rf.c **** 
 873:../../../src/radio/cc2420/source/basic_rf.c **** //	FASTSPI_STROBE(CC2420_SRXON);
 874:../../../src/radio/cc2420/source/basic_rf.c **** //	FASTSPI_STROBE(CC2420_SFLUSHRX);
 875:../../../src/radio/cc2420/source/basic_rf.c **** 
 876:../../../src/radio/cc2420/source/basic_rf.c **** //	while(!SFD_IS_1);
 877:../../../src/radio/cc2420/source/basic_rf.c **** //  XXX Need to make sure SFD has gone down to be sure packet finished!
 878:../../../src/radio/cc2420/source/basic_rf.c **** //	while(SFD_IS_1);
 879:../../../src/radio/cc2420/source/basic_rf.c ****         // Clean up and exit in case of FIFO overflow, which is indicated by FIFOP = 1 and FIFO = 0
 880:../../../src/radio/cc2420/source/basic_rf.c ****         if((FIFOP_IS_1) && (!(FIFO_IS_1)))
 3680               	.LM604:
 3681 0d08 679B      		sbis 44-32,7
 3682 0d0a 00C0      		rjmp .L407
 3684               	.LM605:
 3685 0d0c 3199      		sbic 38-32,1
 3686 0d0e 00C0      		rjmp .L407
 881:../../../src/radio/cc2420/source/basic_rf.c ****         {
 882:../../../src/radio/cc2420/source/basic_rf.c ****             // always read 1 byte before flush (data sheet pg 62)
 883:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(tmp);
 3688               	.LM606:
 3689 0d10 4098      		cbi 40-32,0
 3690 0d12 8FE7      		ldi r24,lo8(127)
 3691 0d14 8EBD      		out 78-32,r24
 3692               	.L408:
 3694               	.LM607:
 3695 0d16 0DB4      		in __tmp_reg__,77-32
 3696 0d18 07FE      		sbrs __tmp_reg__,7
 3697 0d1a 00C0      		rjmp .L408
 3699               	.LM608:
 3700 0d1c 1EBC      		out 78-32,__zero_reg__
 3701               	.L409:
 3703               	.LM609:
 3704 0d1e 0DB4      		in __tmp_reg__,77-32
 3705 0d20 07FE      		sbrs __tmp_reg__,7
 3706 0d22 00C0      		rjmp .L409
 3708               	.LM610:
 3709 0d24 8EB5      		in r24,78-32
 3710 0d26 409A      		sbi 40-32,0
 884:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3712               	.LM611:
 3713 0d28 4098      		cbi 40-32,0
 3714 0d2a 88E0      		ldi r24,lo8(8)
 3715 0d2c 8EBD      		out 78-32,r24
 3716               	.L410:
 3718               	.LM612:
 3719 0d2e 0DB4      		in __tmp_reg__,77-32
 3720 0d30 07FE      		sbrs __tmp_reg__,7
 3721 0d32 00C0      		rjmp .L410
 3723               	.LM613:
 3724 0d34 409A      		sbi 40-32,0
 885:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3726               	.LM614:
 3727 0d36 4098      		cbi 40-32,0
 3728 0d38 88E0      		ldi r24,lo8(8)
 3729 0d3a 8EBD      		out 78-32,r24
 3730               	.L411:
 3732               	.LM615:
 3733 0d3c 0DB4      		in __tmp_reg__,77-32
 3734 0d3e 07FE      		sbrs __tmp_reg__,7
 3735 0d40 00C0      		rjmp .L411
 3737               	.LM616:
 3738 0d42 409A      		sbi 40-32,0
 886:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 887:../../../src/radio/cc2420/source/basic_rf.c ****             nrk_sem_post(radio_sem);
 888:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 889:../../../src/radio/cc2420/source/basic_rf.c ****             return -1;
 3740               	.LM617:
 3741 0d44 8FEF      		ldi r24,lo8(-1)
 3742 0d46 00C0      		rjmp .L406
 3743               	.L407:
 890:../../../src/radio/cc2420/source/basic_rf.c ****         }
 891:../../../src/radio/cc2420/source/basic_rf.c **** 
 892:../../../src/radio/cc2420/source/basic_rf.c ****         // Payload length
 893:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_READ_FIFO_BYTE(length);
 3745               	.LM618:
 3746 0d48 4098      		cbi 40-32,0
 3747 0d4a 8FE7      		ldi r24,lo8(127)
 3748 0d4c 8EBD      		out 78-32,r24
 3749               	.L412:
 3751               	.LM619:
 3752 0d4e 0DB4      		in __tmp_reg__,77-32
 3753 0d50 07FE      		sbrs __tmp_reg__,7
 3754 0d52 00C0      		rjmp .L412
 3756               	.LM620:
 3757 0d54 1EBC      		out 78-32,__zero_reg__
 3758               	.L413:
 3760               	.LM621:
 3761 0d56 0DB4      		in __tmp_reg__,77-32
 3762 0d58 07FE      		sbrs __tmp_reg__,7
 3763 0d5a 00C0      		rjmp .L413
 3765               	.LM622:
 3766 0d5c 4EB5      		in r20,78-32
 3767 0d5e 409A      		sbi 40-32,0
 894:../../../src/radio/cc2420/source/basic_rf.c ****         length &= RF_LENGTH_MASK; // Ignore MSB
 3769               	.LM623:
 3770 0d60 4F77      		andi r20,lo8(127)
 895:../../../src/radio/cc2420/source/basic_rf.c ****         // Ignore the packet if the length is too short
 896:../../../src/radio/cc2420/source/basic_rf.c ****         if(length<=0)
 3772               	.LM624:
 3773 0d62 01F4      		brne .L414
 897:../../../src/radio/cc2420/source/basic_rf.c ****         {
 898:../../../src/radio/cc2420/source/basic_rf.c ****             // always read 1 byte before flush (data sheet pg 62)
 899:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(tmp);
 3775               	.LM625:
 3776 0d64 4098      		cbi 40-32,0
 3777 0d66 8FE7      		ldi r24,lo8(127)
 3778 0d68 8EBD      		out 78-32,r24
 3779               	.L415:
 3781               	.LM626:
 3782 0d6a 0DB4      		in __tmp_reg__,77-32
 3783 0d6c 07FE      		sbrs __tmp_reg__,7
 3784 0d6e 00C0      		rjmp .L415
 3786               	.LM627:
 3787 0d70 1EBC      		out 78-32,__zero_reg__
 3788               	.L416:
 3790               	.LM628:
 3791 0d72 0DB4      		in __tmp_reg__,77-32
 3792 0d74 07FE      		sbrs __tmp_reg__,7
 3793 0d76 00C0      		rjmp .L416
 3795               	.LM629:
 3796 0d78 8EB5      		in r24,78-32
 3797 0d7a 409A      		sbi 40-32,0
 900:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3799               	.LM630:
 3800 0d7c 4098      		cbi 40-32,0
 3801 0d7e 88E0      		ldi r24,lo8(8)
 3802 0d80 8EBD      		out 78-32,r24
 3803               	.L417:
 3805               	.LM631:
 3806 0d82 0DB4      		in __tmp_reg__,77-32
 3807 0d84 07FE      		sbrs __tmp_reg__,7
 3808 0d86 00C0      		rjmp .L417
 3810               	.LM632:
 3811 0d88 409A      		sbi 40-32,0
 901:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3813               	.LM633:
 3814 0d8a 4098      		cbi 40-32,0
 3815 0d8c 88E0      		ldi r24,lo8(8)
 3816 0d8e 8EBD      		out 78-32,r24
 3817               	.L418:
 3819               	.LM634:
 3820 0d90 0DB4      		in __tmp_reg__,77-32
 3821 0d92 07FE      		sbrs __tmp_reg__,7
 3822 0d94 00C0      		rjmp .L418
 3824               	.LM635:
 3825 0d96 409A      		sbi 40-32,0
 902:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 903:../../../src/radio/cc2420/source/basic_rf.c ****             nrk_sem_post(radio_sem);
 904:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 905:../../../src/radio/cc2420/source/basic_rf.c ****             return -2;
 3827               	.LM636:
 3828 0d98 8EEF      		ldi r24,lo8(-2)
 3829 0d9a 00C0      		rjmp .L406
 3830               	.L414:
 906:../../../src/radio/cc2420/source/basic_rf.c ****         }
 907:../../../src/radio/cc2420/source/basic_rf.c ****         if (length < (RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD)/*RF_ACK_PACKET_SIZE*/ || (length
 3832               	.LM637:
 3833 0d9c 4C30      		cpi r20,lo8(12)
 3834 0d9e 04F0      		brlt .L419
 3836               	.LM638:
 3837 0da0 E091 0000 		lds r30,rfSettings
 3838 0da4 F091 0000 		lds r31,rfSettings+1
 3839 0da8 842F      		mov r24,r20
 3840 0daa 9927      		clr r25
 3841 0dac 87FD      		sbrc r24,7
 3842 0dae 9095      		com r25
 3843 0db0 0B97      		sbiw r24,11
 3844 0db2 2481      		ldd r18,Z+4
 3845 0db4 3327      		clr r19
 3846 0db6 27FD      		sbrc r18,7
 3847 0db8 3095      		com r19
 3848 0dba 2817      		cp r18,r24
 3849 0dbc 3907      		cpc r19,r25
 3850 0dbe 04F4      		brge .L420
 3851               	.L419:
 908:../../../src/radio/cc2420/source/basic_rf.c ****         {
 909:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_GARBAGE(length);
 3853               	.LM639:
 3854 0dc0 4098      		cbi 40-32,0
 3855 0dc2 8FE7      		ldi r24,lo8(127)
 3856 0dc4 8EBD      		out 78-32,r24
 3857               	.L421:
 3859               	.LM640:
 3860 0dc6 0DB4      		in __tmp_reg__,77-32
 3861 0dc8 07FE      		sbrs __tmp_reg__,7
 3862 0dca 00C0      		rjmp .L421
 3864               	.LM641:
 3865 0dcc 50E0      		ldi r21,lo8(0)
 3866               	.LBB22:
 3867 0dce 842F      		mov r24,r20
 3868 0dd0 9927      		clr r25
 3869 0dd2 87FD      		sbrc r24,7
 3870 0dd4 9095      		com r25
 3871 0dd6 00C0      		rjmp .L422
 3872               	.L425:
 3874               	.LM642:
 3875 0dd8 1EBC      		out 78-32,__zero_reg__
 3876               	.L423:
 3878               	.LM643:
 3879 0dda 0DB4      		in __tmp_reg__,77-32
 3880 0ddc 07FE      		sbrs __tmp_reg__,7
 3881 0dde 00C0      		rjmp .L423
 3883               	.LM644:
 3884 0de0 5F5F      		subi r21,lo8(-(1))
 3885               	.L422:
 3887               	.LM645:
 3888 0de2 252F      		mov r18,r21
 3889 0de4 30E0      		ldi r19,lo8(0)
 3890 0de6 2817      		cp r18,r24
 3891 0de8 3907      		cpc r19,r25
 3892 0dea 04F4      		brge .L424
 3894               	.LM646:
 3895 0dec 3199      		sbic 38-32,1
 3896 0dee 00C0      		rjmp .L425
 3897               	.L424:
 3898               	.LBE22:
 3900               	.LM647:
 3901 0df0 409A      		sbi 40-32,0
 910:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(tmp);
 3903               	.LM648:
 3904 0df2 4098      		cbi 40-32,0
 3905 0df4 8FE7      		ldi r24,lo8(127)
 3906 0df6 8EBD      		out 78-32,r24
 3907               	.L426:
 3909               	.LM649:
 3910 0df8 0DB4      		in __tmp_reg__,77-32
 3911 0dfa 07FE      		sbrs __tmp_reg__,7
 3912 0dfc 00C0      		rjmp .L426
 3914               	.LM650:
 3915 0dfe 1EBC      		out 78-32,__zero_reg__
 3916               	.L427:
 3918               	.LM651:
 3919 0e00 0DB4      		in __tmp_reg__,77-32
 3920 0e02 07FE      		sbrs __tmp_reg__,7
 3921 0e04 00C0      		rjmp .L427
 3923               	.LM652:
 3924 0e06 8EB5      		in r24,78-32
 3925 0e08 409A      		sbi 40-32,0
 911:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3927               	.LM653:
 3928 0e0a 4098      		cbi 40-32,0
 3929 0e0c 88E0      		ldi r24,lo8(8)
 3930 0e0e 8EBD      		out 78-32,r24
 3931               	.L428:
 3933               	.LM654:
 3934 0e10 0DB4      		in __tmp_reg__,77-32
 3935 0e12 07FE      		sbrs __tmp_reg__,7
 3936 0e14 00C0      		rjmp .L428
 3938               	.LM655:
 3939 0e16 409A      		sbi 40-32,0
 912:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3941               	.LM656:
 3942 0e18 4098      		cbi 40-32,0
 3943 0e1a 88E0      		ldi r24,lo8(8)
 3944 0e1c 8EBD      		out 78-32,r24
 3945               	.L429:
 3947               	.LM657:
 3948 0e1e 0DB4      		in __tmp_reg__,77-32
 3949 0e20 07FE      		sbrs __tmp_reg__,7
 3950 0e22 00C0      		rjmp .L429
 3952               	.LM658:
 3953 0e24 409A      		sbi 40-32,0
 913:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 914:../../../src/radio/cc2420/source/basic_rf.c ****             nrk_sem_post(radio_sem);
 915:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 916:../../../src/radio/cc2420/source/basic_rf.c ****             return -3;
 3955               	.LM659:
 3956 0e26 8DEF      		ldi r24,lo8(-3)
 3957 0e28 00C0      		rjmp .L406
 3958               	.L420:
 917:../../../src/radio/cc2420/source/basic_rf.c ****             //printf_u( "Bad length: %d %d\n",length, rfSettings.pRxInfo->max_length );
 918:../../../src/radio/cc2420/source/basic_rf.c ****             // Otherwise, if the length is valid, then proceed with the rest of the packet
 919:../../../src/radio/cc2420/source/basic_rf.c ****         }
 920:../../../src/radio/cc2420/source/basic_rf.c ****         else
 921:../../../src/radio/cc2420/source/basic_rf.c ****         {
 922:../../../src/radio/cc2420/source/basic_rf.c ****             // Register the payload length
 923:../../../src/radio/cc2420/source/basic_rf.c ****             rfSettings.pRxInfo->length = length - RF_PACKET_OVERHEAD_SIZE - CHECKSUM_OVERHEAD;
 3960               	.LM660:
 3961 0e2a E091 0000 		lds r30,rfSettings
 3962 0e2e F091 0000 		lds r31,rfSettings+1
 3963 0e32 4C50      		subi r20,lo8(-(-12))
 3964 0e34 4383      		std Z+3,r20
 924:../../../src/radio/cc2420/source/basic_rf.c ****             // Read the frame control field and the data sequence number
 925:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) &frameControlField, 2);
 3966               	.LM661:
 3967 0e36 4098      		cbi 40-32,0
 3968 0e38 8FE7      		ldi r24,lo8(127)
 3969 0e3a 8EBD      		out 78-32,r24
 3970               	.L430:
 3972               	.LM662:
 3973 0e3c 0DB4      		in __tmp_reg__,77-32
 3974 0e3e 07FE      		sbrs __tmp_reg__,7
 3975 0e40 00C0      		rjmp .L430
 3977               	.LM663:
 3978 0e42 FE01      		movw r30,r28
 3979 0e44 3196      		adiw r30,1
 856:../../../src/radio/cc2420/source/basic_rf.c **** int8_t rf_polling_rx_packet()
 3981               	.LM664:
 3982 0e46 CE01      		movw r24,r28
 3983 0e48 0396      		adiw r24,3
 3984               	.L432:
 3985               	.LBB23:
 3987               	.LM665:
 3988 0e4a 1EBC      		out 78-32,__zero_reg__
 3989               	.L431:
 3991               	.LM666:
 3992 0e4c 0DB4      		in __tmp_reg__,77-32
 3993 0e4e 07FE      		sbrs __tmp_reg__,7
 3994 0e50 00C0      		rjmp .L431
 3996               	.LM667:
 3997 0e52 2EB5      		in r18,78-32
 3998 0e54 2193      		st Z+,r18
 3999 0e56 E817      		cp r30,r24
 4000 0e58 F907      		cpc r31,r25
 4001 0e5a 01F4      		brne .L432
 4002               	.LBE23:
 4004               	.LM668:
 4005 0e5c 409A      		sbi 40-32,0
 926:../../../src/radio/cc2420/source/basic_rf.c ****             rfSettings.pRxInfo->ackRequest = !!(frameControlField & RF_FCF_ACK_BM);
 4007               	.LM669:
 4008 0e5e E091 0000 		lds r30,rfSettings
 4009 0e62 F091 0000 		lds r31,rfSettings+1
 4010 0e66 9981      		ldd r25,Y+1
 4011 0e68 81E0      		ldi r24,lo8(1)
 4012 0e6a 95FF      		sbrs r25,5
 4013 0e6c 80E0      		ldi r24,lo8(0)
 4014               	.L433:
 4015 0e6e 8783      		std Z+7,r24
 927:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(rfSettings.pRxInfo->seqNumber);
 4017               	.LM670:
 4018 0e70 4098      		cbi 40-32,0
 4019 0e72 8FE7      		ldi r24,lo8(127)
 4020 0e74 8EBD      		out 78-32,r24
 4021               	.L434:
 4023               	.LM671:
 4024 0e76 0DB4      		in __tmp_reg__,77-32
 4025 0e78 07FE      		sbrs __tmp_reg__,7
 4026 0e7a 00C0      		rjmp .L434
 4028               	.LM672:
 4029 0e7c 1EBC      		out 78-32,__zero_reg__
 4030               	.L435:
 4032               	.LM673:
 4033 0e7e 0DB4      		in __tmp_reg__,77-32
 4034 0e80 07FE      		sbrs __tmp_reg__,7
 4035 0e82 00C0      		rjmp .L435
 4037               	.LM674:
 4038 0e84 E091 0000 		lds r30,rfSettings
 4039 0e88 F091 0000 		lds r31,rfSettings+1
 4040 0e8c 8EB5      		in r24,78-32
 4041 0e8e 8083      		st Z,r24
 4042 0e90 409A      		sbi 40-32,0
 928:../../../src/radio/cc2420/source/basic_rf.c **** 
 929:../../../src/radio/cc2420/source/basic_rf.c ****             // Is this an acknowledgment packet?
 930:../../../src/radio/cc2420/source/basic_rf.c ****             /*
 931:../../../src/radio/cc2420/source/basic_rf.c ****                 	if ((length == RF_ACK_PACKET_SIZE) && (frameControlField == RF_ACK_FCF) && (rfSett
 932:../../../src/radio/cc2420/source/basic_rf.c **** 
 933:../../../src/radio/cc2420/source/basic_rf.c ****              	       	// Read the footer and check for CRC OK
 934:../../../src/radio/cc2420/source/basic_rf.c ****             			FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) pFooter, 2);
 935:../../../src/radio/cc2420/source/basic_rf.c **** 
 936:../../../src/radio/cc2420/source/basic_rf.c ****             			// Indicate the successful ack reception (this flag is polled by the transmission ro
 937:../../../src/radio/cc2420/source/basic_rf.c ****             			if (pFooter[1] & RF_CRC_OK_BM) rfSettings.ackReceived = TRUE;
 938:../../../src/radio/cc2420/source/basic_rf.c **** 
 939:../../../src/radio/cc2420/source/basic_rf.c ****             		// Too small to be a valid packet?
 940:../../../src/radio/cc2420/source/basic_rf.c ****             		} else if (length < RF_PACKET_OVERHEAD_SIZE) {
 941:../../../src/radio/cc2420/source/basic_rf.c ****             			FASTSPI_READ_FIFO_GARBAGE(length - 3);
 942:../../../src/radio/cc2420/source/basic_rf.c **** 
 943:../../../src/radio/cc2420/source/basic_rf.c ****             		// Receive the rest of the packet
 944:../../../src/radio/cc2420/source/basic_rf.c ****             		} else {
 945:../../../src/radio/cc2420/source/basic_rf.c ****             */
 946:../../../src/radio/cc2420/source/basic_rf.c ****             // Skip the destination PAN and address (that's taken care of by harware address recogn
 947:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_GARBAGE(4);
 4044               	.LM675:
 4045 0e92 4098      		cbi 40-32,0
 4046 0e94 8FE7      		ldi r24,lo8(127)
 4047 0e96 8EBD      		out 78-32,r24
 4048               	.L436:
 4050               	.LM676:
 4051 0e98 0DB4      		in __tmp_reg__,77-32
 4052 0e9a 07FE      		sbrs __tmp_reg__,7
 4053 0e9c 00C0      		rjmp .L436
 4055               	.LM677:
 4056 0e9e 84E0      		ldi r24,lo8(4)
 4057 0ea0 00C0      		rjmp .L439
 4058               	.L441:
 4059               	.LBB24:
 4061               	.LM678:
 4062 0ea2 1EBC      		out 78-32,__zero_reg__
 4063               	.L438:
 4065               	.LM679:
 4066 0ea4 0DB4      		in __tmp_reg__,77-32
 4067 0ea6 07FE      		sbrs __tmp_reg__,7
 4068 0ea8 00C0      		rjmp .L438
 4070               	.LM680:
 4071 0eaa 8150      		subi r24,lo8(-(-1))
 4072 0eac 01F0      		breq .L440
 4073               	.L439:
 4075               	.LM681:
 4076 0eae 3199      		sbic 38-32,1
 4077 0eb0 00C0      		rjmp .L441
 4078               	.L440:
 4079               	.LBE24:
 4081               	.LM682:
 4082 0eb2 409A      		sbi 40-32,0
 948:../../../src/radio/cc2420/source/basic_rf.c **** 
 949:../../../src/radio/cc2420/source/basic_rf.c ****             // Read the source address
 950:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) &rfSettings.pRxInfo->srcAddr, 2);
 4084               	.LM683:
 4085 0eb4 4098      		cbi 40-32,0
 4086 0eb6 8FE7      		ldi r24,lo8(127)
 4087 0eb8 8EBD      		out 78-32,r24
 4088               	.L442:
 4090               	.LM684:
 4091 0eba 0DB4      		in __tmp_reg__,77-32
 4092 0ebc 07FE      		sbrs __tmp_reg__,7
 4093 0ebe 00C0      		rjmp .L442
 4095               	.LM685:
 4096 0ec0 80E0      		ldi r24,lo8(0)
 4097 0ec2 90E0      		ldi r25,hi8(0)
 4098               	.L444:
 4099               	.LBB25:
 4100 0ec4 1EBC      		out 78-32,__zero_reg__
 4101               	.L443:
 4103               	.LM686:
 4104 0ec6 0DB4      		in __tmp_reg__,77-32
 4105 0ec8 07FE      		sbrs __tmp_reg__,7
 4106 0eca 00C0      		rjmp .L443
 4108               	.LM687:
 4109 0ecc E091 0000 		lds r30,rfSettings
 4110 0ed0 F091 0000 		lds r31,rfSettings+1
 4111 0ed4 2EB5      		in r18,78-32
 4112 0ed6 E80F      		add r30,r24
 4113 0ed8 F91F      		adc r31,r25
 4114 0eda 2183      		std Z+1,r18
 4115 0edc 0196      		adiw r24,1
 4116 0ede 8230      		cpi r24,2
 4117 0ee0 9105      		cpc r25,__zero_reg__
 4118 0ee2 01F4      		brne .L444
 4119               	.LBE25:
 4121               	.LM688:
 4122 0ee4 409A      		sbi 40-32,0
 951:../../../src/radio/cc2420/source/basic_rf.c **** 
 952:../../../src/radio/cc2420/source/basic_rf.c ****             if(frameControlField & RF_SEC_BM)
 4124               	.LM689:
 4125 0ee6 8981      		ldd r24,Y+1
 4126 0ee8 83FF      		sbrs r24,3
 4127 0eea 00C0      		rjmp .L445
 4128               	.LBB26:
 953:../../../src/radio/cc2420/source/basic_rf.c ****             {
 954:../../../src/radio/cc2420/source/basic_rf.c ****                 uint8_t n;
 955:../../../src/radio/cc2420/source/basic_rf.c ****                 // READ rx_ctr and set it
 956:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) &rx_ctr, 4);
 4130               	.LM690:
 4131 0eec 4098      		cbi 40-32,0
 4132 0eee 8FE7      		ldi r24,lo8(127)
 4133 0ef0 8EBD      		out 78-32,r24
 4134               	.L446:
 4136               	.LM691:
 4137 0ef2 0DB4      		in __tmp_reg__,77-32
 4138 0ef4 07FE      		sbrs __tmp_reg__,7
 4139 0ef6 00C0      		rjmp .L446
 4141               	.LM692:
 4142 0ef8 E0E0      		ldi r30,lo8(rx_ctr)
 4143 0efa F0E0      		ldi r31,hi8(rx_ctr)
 4144               	.L448:
 4145               	.LBB27:
 4147               	.LM693:
 4148 0efc 1EBC      		out 78-32,__zero_reg__
 4149               	.L447:
 4151               	.LM694:
 4152 0efe 0DB4      		in __tmp_reg__,77-32
 4153 0f00 07FE      		sbrs __tmp_reg__,7
 4154 0f02 00C0      		rjmp .L447
 4156               	.LM695:
 4157 0f04 8EB5      		in r24,78-32
 4158 0f06 8193      		st Z+,r24
 4159 0f08 80E0      		ldi r24,hi8(rx_ctr+4)
 4160 0f0a E030      		cpi r30,lo8(rx_ctr+4)
 4161 0f0c F807      		cpc r31,r24
 4162 0f0e 01F4      		brne .L448
 4163               	.LBE27:
 4165               	.LM696:
 4166 0f10 409A      		sbi 40-32,0
 957:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_WRITE_RAM(&rx_ctr[0],(CC2420RAM_RXNONCE+9),2,n);
 4168               	.LM697:
 4169 0f12 4098      		cbi 40-32,0
 4170 0f14 89E9      		ldi r24,lo8(-103)
 4171 0f16 8EBD      		out 78-32,r24
 4172               	.L449:
 4174               	.LM698:
 4175 0f18 0DB4      		in __tmp_reg__,77-32
 4176 0f1a 07FE      		sbrs __tmp_reg__,7
 4177 0f1c 00C0      		rjmp .L449
 4179               	.LM699:
 4180 0f1e 80E8      		ldi r24,lo8(-128)
 4181 0f20 8EBD      		out 78-32,r24
 4182               	.L450:
 4184               	.LM700:
 4185 0f22 0DB4      		in __tmp_reg__,77-32
 4186 0f24 07FE      		sbrs __tmp_reg__,7
 4187 0f26 00C0      		rjmp .L450
 4189               	.LM701:
 4190 0f28 82E0      		ldi r24,lo8(2)
 4191               	.L452:
 4192 0f2a 8150      		subi r24,lo8(-(-1))
 4193 0f2c E82F      		mov r30,r24
 4194 0f2e F0E0      		ldi r31,lo8(0)
 4195 0f30 E050      		subi r30,lo8(-(rx_ctr))
 4196 0f32 F040      		sbci r31,hi8(-(rx_ctr))
 4197 0f34 9081      		ld r25,Z
 4198 0f36 9EBD      		out 78-32,r25
 4199               	.L451:
 4201               	.LM702:
 4202 0f38 0DB4      		in __tmp_reg__,77-32
 4203 0f3a 07FE      		sbrs __tmp_reg__,7
 4204 0f3c 00C0      		rjmp .L451
 4206               	.LM703:
 4207 0f3e 8823      		tst r24
 4208 0f40 01F4      		brne .L452
 4210               	.LM704:
 4211 0f42 409A      		sbi 40-32,0
 958:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_WRITE_RAM(&rx_ctr[2],(CC2420RAM_RXNONCE+11),2,n);
 4213               	.LM705:
 4214 0f44 4098      		cbi 40-32,0
 4215 0f46 8BE9      		ldi r24,lo8(-101)
 4216 0f48 8EBD      		out 78-32,r24
 4217               	.L453:
 4219               	.LM706:
 4220 0f4a 0DB4      		in __tmp_reg__,77-32
 4221 0f4c 07FE      		sbrs __tmp_reg__,7
 4222 0f4e 00C0      		rjmp .L453
 4224               	.LM707:
 4225 0f50 80E8      		ldi r24,lo8(-128)
 4226 0f52 8EBD      		out 78-32,r24
 4227               	.L454:
 4229               	.LM708:
 4230 0f54 0DB4      		in __tmp_reg__,77-32
 4231 0f56 07FE      		sbrs __tmp_reg__,7
 4232 0f58 00C0      		rjmp .L454
 4234               	.LM709:
 4235 0f5a 82E0      		ldi r24,lo8(2)
 4236               	.L456:
 4237 0f5c 8150      		subi r24,lo8(-(-1))
 4238 0f5e E82F      		mov r30,r24
 4239 0f60 F0E0      		ldi r31,lo8(0)
 4240 0f62 E050      		subi r30,lo8(-(rx_ctr+2))
 4241 0f64 F040      		sbci r31,hi8(-(rx_ctr+2))
 4242 0f66 9081      		ld r25,Z
 4243 0f68 9EBD      		out 78-32,r25
 4244               	.L455:
 4246               	.LM710:
 4247 0f6a 0DB4      		in __tmp_reg__,77-32
 4248 0f6c 07FE      		sbrs __tmp_reg__,7
 4249 0f6e 00C0      		rjmp .L455
 4251               	.LM711:
 4252 0f70 8823      		tst r24
 4253 0f72 01F4      		brne .L456
 4255               	.LM712:
 4256 0f74 409A      		sbi 40-32,0
 959:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SRXDEC);  // if packet is encrypted then decrypt
 4258               	.LM713:
 4259 0f76 4098      		cbi 40-32,0
 4260 0f78 8CE0      		ldi r24,lo8(12)
 4261 0f7a 8EBD      		out 78-32,r24
 4262               	.L457:
 4264               	.LM714:
 4265 0f7c 0DB4      		in __tmp_reg__,77-32
 4266 0f7e 07FE      		sbrs __tmp_reg__,7
 4267 0f80 00C0      		rjmp .L457
 4269               	.LM715:
 4270 0f82 409A      		sbi 40-32,0
 960:../../../src/radio/cc2420/source/basic_rf.c ****                 last_pkt_encrypted=1;
 4272               	.LM716:
 4273 0f84 81E0      		ldi r24,lo8(1)
 4274 0f86 8093 0000 		sts last_pkt_encrypted,r24
 961:../../../src/radio/cc2420/source/basic_rf.c ****                 rfSettings.pRxInfo->length -= 4;
 4276               	.LM717:
 4277 0f8a E091 0000 		lds r30,rfSettings
 4278 0f8e F091 0000 		lds r31,rfSettings+1
 4279 0f92 8381      		ldd r24,Z+3
 4280 0f94 8450      		subi r24,lo8(-(-4))
 4281 0f96 8383      		std Z+3,r24
 4282               	.L445:
 4283               	.LBE26:
 962:../../../src/radio/cc2420/source/basic_rf.c ****             }
 963:../../../src/radio/cc2420/source/basic_rf.c **** 
 964:../../../src/radio/cc2420/source/basic_rf.c ****             // Read the packet payload
 965:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT(rfSettings.pRxInfo->pPayload, rfSettings.pRxInfo->length);
 4285               	.LM718:
 4286 0f98 4098      		cbi 40-32,0
 4287 0f9a 8FE7      		ldi r24,lo8(127)
 4288 0f9c 8EBD      		out 78-32,r24
 4289               	.L458:
 4291               	.LM719:
 4292 0f9e 0DB4      		in __tmp_reg__,77-32
 4293 0fa0 07FE      		sbrs __tmp_reg__,7
 4294 0fa2 00C0      		rjmp .L458
 4296               	.LM720:
 4297 0fa4 40E0      		ldi r20,lo8(0)
 4298 0fa6 00C0      		rjmp .L459
 4299               	.L461:
 4300               	.LBB28:
 4302               	.LM721:
 4303 0fa8 1EBC      		out 78-32,__zero_reg__
 4304               	.L460:
 4306               	.LM722:
 4307 0faa 0DB4      		in __tmp_reg__,77-32
 4308 0fac 07FE      		sbrs __tmp_reg__,7
 4309 0fae 00C0      		rjmp .L460
 4311               	.LM723:
 4312 0fb0 E091 0000 		lds r30,rfSettings
 4313 0fb4 F091 0000 		lds r31,rfSettings+1
 4314 0fb8 8EB5      		in r24,78-32
 4315 0fba 0580      		ldd __tmp_reg__,Z+5
 4316 0fbc F681      		ldd r31,Z+6
 4317 0fbe E02D      		mov r30,__tmp_reg__
 4318 0fc0 E40F      		add r30,r20
 4319 0fc2 F11D      		adc r31,__zero_reg__
 4320 0fc4 8083      		st Z,r24
 4321 0fc6 4F5F      		subi r20,lo8(-(1))
 4322               	.L459:
 4324               	.LM724:
 4325 0fc8 E091 0000 		lds r30,rfSettings
 4326 0fcc F091 0000 		lds r31,rfSettings+1
 4327 0fd0 242F      		mov r18,r20
 4328 0fd2 30E0      		ldi r19,lo8(0)
 4329 0fd4 8381      		ldd r24,Z+3
 4330 0fd6 9927      		clr r25
 4331 0fd8 87FD      		sbrc r24,7
 4332 0fda 9095      		com r25
 4333 0fdc 2817      		cp r18,r24
 4334 0fde 3907      		cpc r19,r25
 4335 0fe0 04F0      		brlt .L461
 4336               	.LBE28:
 4338               	.LM725:
 4339 0fe2 409A      		sbi 40-32,0
 966:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT(&rx_checksum, 1 );
 4341               	.LM726:
 4342 0fe4 4098      		cbi 40-32,0
 4343 0fe6 8FE7      		ldi r24,lo8(127)
 4344 0fe8 8EBD      		out 78-32,r24
 4345               	.L462:
 4347               	.LM727:
 4348 0fea 0DB4      		in __tmp_reg__,77-32
 4349 0fec 07FE      		sbrs __tmp_reg__,7
 4350 0fee 00C0      		rjmp .L462
 4351               	.LBB29:
 4353               	.LM728:
 4354 0ff0 1EBC      		out 78-32,__zero_reg__
 4355               	.L463:
 4357               	.LM729:
 4358 0ff2 0DB4      		in __tmp_reg__,77-32
 4359 0ff4 07FE      		sbrs __tmp_reg__,7
 4360 0ff6 00C0      		rjmp .L463
 4362               	.LM730:
 4363 0ff8 6EB5      		in r22,78-32
 4364               	.LBE29:
 4365 0ffa 409A      		sbi 40-32,0
 967:../../../src/radio/cc2420/source/basic_rf.c **** 
 968:../../../src/radio/cc2420/source/basic_rf.c ****             // Read the footer to get the RSSI value
 969:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) pFooter, 2);
 4367               	.LM731:
 4368 0ffc 4098      		cbi 40-32,0
 4369 0ffe 8FE7      		ldi r24,lo8(127)
 4370 1000 8EBD      		out 78-32,r24
 4371               	.L464:
 4373               	.LM732:
 4374 1002 0DB4      		in __tmp_reg__,77-32
 4375 1004 07FE      		sbrs __tmp_reg__,7
 4376 1006 00C0      		rjmp .L464
 4378               	.LM733:
 4379 1008 FE01      		movw r30,r28
 4380 100a 3396      		adiw r30,3
 856:../../../src/radio/cc2420/source/basic_rf.c **** int8_t rf_polling_rx_packet()
 4382               	.LM734:
 4383 100c CE01      		movw r24,r28
 4384 100e 0596      		adiw r24,5
 4385               	.L466:
 4386               	.LBB30:
 4388               	.LM735:
 4389 1010 1EBC      		out 78-32,__zero_reg__
 4390               	.L465:
 4392               	.LM736:
 4393 1012 0DB4      		in __tmp_reg__,77-32
 4394 1014 07FE      		sbrs __tmp_reg__,7
 4395 1016 00C0      		rjmp .L465
 4397               	.LM737:
 4398 1018 2EB5      		in r18,78-32
 4399 101a 2193      		st Z+,r18
 4400 101c E817      		cp r30,r24
 4401 101e F907      		cpc r31,r25
 4402 1020 01F4      		brne .L466
 4403               	.LBE30:
 4405               	.LM738:
 4406 1022 409A      		sbi 40-32,0
 970:../../../src/radio/cc2420/source/basic_rf.c ****             rfSettings.pRxInfo->rssi = pFooter[0];
 4408               	.LM739:
 4409 1024 E091 0000 		lds r30,rfSettings
 4410 1028 F091 0000 		lds r31,rfSettings+1
 4411 102c 8B81      		ldd r24,Y+3
 4412 102e 8087      		std Z+8,r24
 971:../../../src/radio/cc2420/source/basic_rf.c ****             checksum=0;
 972:../../../src/radio/cc2420/source/basic_rf.c ****             for(i=0; i<rfSettings.pRxInfo->length; i++ )
 4414               	.LM740:
 4415 1030 50E0      		ldi r21,lo8(0)
 971:../../../src/radio/cc2420/source/basic_rf.c ****             checksum=0;
 4417               	.LM741:
 4418 1032 40E0      		ldi r20,lo8(0)
 4420               	.LM742:
 4421 1034 00C0      		rjmp .L467
 4422               	.L468:
 973:../../../src/radio/cc2420/source/basic_rf.c ****             {
 974:../../../src/radio/cc2420/source/basic_rf.c ****                 checksum+=rfSettings.pRxInfo->pPayload[i];
 4424               	.LM743:
 4425 1036 E091 0000 		lds r30,rfSettings
 4426 103a F091 0000 		lds r31,rfSettings+1
 4427 103e 0580      		ldd __tmp_reg__,Z+5
 4428 1040 F681      		ldd r31,Z+6
 4429 1042 E02D      		mov r30,__tmp_reg__
 4430 1044 E80F      		add r30,r24
 4431 1046 F91F      		adc r31,r25
 4432 1048 8081      		ld r24,Z
 4433 104a 480F      		add r20,r24
 972:../../../src/radio/cc2420/source/basic_rf.c ****             for(i=0; i<rfSettings.pRxInfo->length; i++ )
 4435               	.LM744:
 4436 104c 5F5F      		subi r21,lo8(-(1))
 4437               	.L467:
 972:../../../src/radio/cc2420/source/basic_rf.c ****             for(i=0; i<rfSettings.pRxInfo->length; i++ )
 4439               	.LM745:
 4440 104e E091 0000 		lds r30,rfSettings
 4441 1052 F091 0000 		lds r31,rfSettings+1
 4442 1056 852F      		mov r24,r21
 4443 1058 90E0      		ldi r25,lo8(0)
 4444 105a 2381      		ldd r18,Z+3
 4445 105c 3327      		clr r19
 4446 105e 27FD      		sbrc r18,7
 4447 1060 3095      		com r19
 4448 1062 8217      		cp r24,r18
 4449 1064 9307      		cpc r25,r19
 4450 1066 04F0      		brlt .L468
 975:../../../src/radio/cc2420/source/basic_rf.c ****                 //printf( "%d ", rfSettings.pRxInfo->pPayload[i]);
 976:../../../src/radio/cc2420/source/basic_rf.c ****             }
 977:../../../src/radio/cc2420/source/basic_rf.c **** 
 978:../../../src/radio/cc2420/source/basic_rf.c ****             if(checksum!=rx_checksum)
 4452               	.LM746:
 4453 1068 4617      		cp r20,r22
 4454 106a 01F0      		breq .L469
 979:../../../src/radio/cc2420/source/basic_rf.c ****             {
 980:../../../src/radio/cc2420/source/basic_rf.c ****                 //printf( "Checksum failed %d %d\r",rx_checksum, checksum );
 981:../../../src/radio/cc2420/source/basic_rf.c ****                 // always read 1 byte before flush (data sheet pg 62)
 982:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_READ_FIFO_BYTE(tmp);
 4456               	.LM747:
 4457 106c 4098      		cbi 40-32,0
 4458 106e 8FE7      		ldi r24,lo8(127)
 4459 1070 8EBD      		out 78-32,r24
 4460               	.L470:
 4462               	.LM748:
 4463 1072 0DB4      		in __tmp_reg__,77-32
 4464 1074 07FE      		sbrs __tmp_reg__,7
 4465 1076 00C0      		rjmp .L470
 4467               	.LM749:
 4468 1078 1EBC      		out 78-32,__zero_reg__
 4469               	.L471:
 4471               	.LM750:
 4472 107a 0DB4      		in __tmp_reg__,77-32
 4473 107c 07FE      		sbrs __tmp_reg__,7
 4474 107e 00C0      		rjmp .L471
 4476               	.LM751:
 4477 1080 8EB5      		in r24,78-32
 4478 1082 409A      		sbi 40-32,0
 983:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SFLUSHRX);
 4480               	.LM752:
 4481 1084 4098      		cbi 40-32,0
 4482 1086 88E0      		ldi r24,lo8(8)
 4483 1088 8EBD      		out 78-32,r24
 4484               	.L472:
 4486               	.LM753:
 4487 108a 0DB4      		in __tmp_reg__,77-32
 4488 108c 07FE      		sbrs __tmp_reg__,7
 4489 108e 00C0      		rjmp .L472
 4491               	.LM754:
 4492 1090 409A      		sbi 40-32,0
 984:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SFLUSHRX);
 4494               	.LM755:
 4495 1092 4098      		cbi 40-32,0
 4496 1094 88E0      		ldi r24,lo8(8)
 4497 1096 8EBD      		out 78-32,r24
 4498               	.L473:
 4500               	.LM756:
 4501 1098 0DB4      		in __tmp_reg__,77-32
 4502 109a 07FE      		sbrs __tmp_reg__,7
 4503 109c 00C0      		rjmp .L473
 4505               	.LM757:
 4506 109e 409A      		sbi 40-32,0
 985:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 986:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 987:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 988:../../../src/radio/cc2420/source/basic_rf.c ****                 return -4;
 4508               	.LM758:
 4509 10a0 8CEF      		ldi r24,lo8(-4)
 4510 10a2 00C0      		rjmp .L406
 4511               	.L469:
 989:../../../src/radio/cc2420/source/basic_rf.c ****             }
 990:../../../src/radio/cc2420/source/basic_rf.c ****             if (pFooter[1] & RF_CRC_OK_BM)
 4513               	.LM759:
 4514 10a4 8C81      		ldd r24,Y+4
 4515 10a6 87FF      		sbrs r24,7
 4516 10a8 00C0      		rjmp .L474
 991:../../../src/radio/cc2420/source/basic_rf.c ****             {
 992:../../../src/radio/cc2420/source/basic_rf.c ****                 //rfSettings.pRxInfo = rf_rx_callback(rfSettings.pRxInfo);
 993:../../../src/radio/cc2420/source/basic_rf.c ****                 rx_ready++;
 4518               	.LM760:
 4519 10aa 8091 0000 		lds r24,rx_ready
 4520 10ae 8F5F      		subi r24,lo8(-(1))
 4521 10b0 8093 0000 		sts rx_ready,r24
 994:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 995:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 996:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 997:../../../src/radio/cc2420/source/basic_rf.c ****                 return 1;
 4523               	.LM761:
 4524 10b4 81E0      		ldi r24,lo8(1)
 4525 10b6 00C0      		rjmp .L406
 4526               	.L474:
 998:../../../src/radio/cc2420/source/basic_rf.c ****             }
 999:../../../src/radio/cc2420/source/basic_rf.c ****             else
1000:../../../src/radio/cc2420/source/basic_rf.c ****             {
1001:../../../src/radio/cc2420/source/basic_rf.c ****                 // always read 1 byte before flush (data sheet pg 62)
1002:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_READ_FIFO_BYTE(tmp);
 4528               	.LM762:
 4529 10b8 4098      		cbi 40-32,0
 4530 10ba 8FE7      		ldi r24,lo8(127)
 4531 10bc 8EBD      		out 78-32,r24
 4532               	.L475:
 4534               	.LM763:
 4535 10be 0DB4      		in __tmp_reg__,77-32
 4536 10c0 07FE      		sbrs __tmp_reg__,7
 4537 10c2 00C0      		rjmp .L475
 4539               	.LM764:
 4540 10c4 1EBC      		out 78-32,__zero_reg__
 4541               	.L476:
 4543               	.LM765:
 4544 10c6 0DB4      		in __tmp_reg__,77-32
 4545 10c8 07FE      		sbrs __tmp_reg__,7
 4546 10ca 00C0      		rjmp .L476
 4548               	.LM766:
 4549 10cc 8EB5      		in r24,78-32
 4550 10ce 409A      		sbi 40-32,0
1003:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SFLUSHRX);
 4552               	.LM767:
 4553 10d0 4098      		cbi 40-32,0
 4554 10d2 88E0      		ldi r24,lo8(8)
 4555 10d4 8EBD      		out 78-32,r24
 4556               	.L477:
 4558               	.LM768:
 4559 10d6 0DB4      		in __tmp_reg__,77-32
 4560 10d8 07FE      		sbrs __tmp_reg__,7
 4561 10da 00C0      		rjmp .L477
 4563               	.LM769:
 4564 10dc 409A      		sbi 40-32,0
1004:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SFLUSHRX);
 4566               	.LM770:
 4567 10de 4098      		cbi 40-32,0
 4568 10e0 88E0      		ldi r24,lo8(8)
 4569 10e2 8EBD      		out 78-32,r24
 4570               	.L478:
 4572               	.LM771:
 4573 10e4 0DB4      		in __tmp_reg__,77-32
 4574 10e6 07FE      		sbrs __tmp_reg__,7
 4575 10e8 00C0      		rjmp .L478
 4577               	.LM772:
 4578 10ea 409A      		sbi 40-32,0
1005:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1006:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
1007:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1008:../../../src/radio/cc2420/source/basic_rf.c ****                 return -5;
 4580               	.LM773:
 4581 10ec 8BEF      		ldi r24,lo8(-5)
 4582 10ee 00C0      		rjmp .L406
 4583               	.L479:
 4584               	.LBE21:
1009:../../../src/radio/cc2420/source/basic_rf.c ****             }
1010:../../../src/radio/cc2420/source/basic_rf.c **** //		}
1011:../../../src/radio/cc2420/source/basic_rf.c **** 
1012:../../../src/radio/cc2420/source/basic_rf.c ****         }
1013:../../../src/radio/cc2420/source/basic_rf.c **** 
1014:../../../src/radio/cc2420/source/basic_rf.c **** 
1015:../../../src/radio/cc2420/source/basic_rf.c ****     }
1016:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1017:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1018:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1019:../../../src/radio/cc2420/source/basic_rf.c ****     return 0;
 4586               	.LM774:
 4587 10f0 80E0      		ldi r24,lo8(0)
 4588               	.L406:
 4589               	/* epilogue start */
1020:../../../src/radio/cc2420/source/basic_rf.c **** }
 4591               	.LM775:
 4592 10f2 0F90      		pop __tmp_reg__
 4593 10f4 0F90      		pop __tmp_reg__
 4594 10f6 0F90      		pop __tmp_reg__
 4595 10f8 0F90      		pop __tmp_reg__
 4596 10fa CF91      		pop r28
 4597 10fc DF91      		pop r29
 4598 10fe 0895      		ret
 4612               	.Lscope28:
 4614               		.stabd	78,0,0
 4616               	.global	rf_rx_packet
 4618               	rf_rx_packet:
 4619               		.stabd	46,0,0
1021:../../../src/radio/cc2420/source/basic_rf.c **** 
1022:../../../src/radio/cc2420/source/basic_rf.c **** int8_t rf_rx_packet()
1023:../../../src/radio/cc2420/source/basic_rf.c **** {
 4621               	.LM776:
 4622               	.LFBB29:
 4623               	/* prologue: function */
 4624               	/* frame size = 0 */
 4625               	/* stack size = 0 */
 4626               	.L__stack_usage = 0
1024:../../../src/radio/cc2420/source/basic_rf.c ****     int8_t tmp;
1025:../../../src/radio/cc2420/source/basic_rf.c ****     if(rx_ready>0)
 4628               	.LM777:
 4629 1100 8091 0000 		lds r24,rx_ready
 4630 1104 8823      		tst r24
 4631 1106 01F0      		breq .L536
1026:../../../src/radio/cc2420/source/basic_rf.c ****     {
1027:../../../src/radio/cc2420/source/basic_rf.c ****         tmp=rx_ready;
 4633               	.LM778:
 4634 1108 8091 0000 		lds r24,rx_ready
1028:../../../src/radio/cc2420/source/basic_rf.c ****         rx_ready=0;
 4636               	.LM779:
 4637 110c 1092 0000 		sts rx_ready,__zero_reg__
1029:../../../src/radio/cc2420/source/basic_rf.c ****         return tmp;
 4639               	.LM780:
 4640 1110 0895      		ret
 4641               	.L536:
1030:../../../src/radio/cc2420/source/basic_rf.c ****     }
1031:../../../src/radio/cc2420/source/basic_rf.c ****     return 0;
 4643               	.LM781:
 4644 1112 80E0      		ldi r24,lo8(0)
1032:../../../src/radio/cc2420/source/basic_rf.c **** }
 4646               	.LM782:
 4647 1114 0895      		ret
 4652               	.Lscope29:
 4654               		.stabd	78,0,0
 4656               	.global	rf_flush_rx_fifo
 4658               	rf_flush_rx_fifo:
 4659               		.stabd	46,0,0
1033:../../../src/radio/cc2420/source/basic_rf.c **** 
1034:../../../src/radio/cc2420/source/basic_rf.c **** 
1035:../../../src/radio/cc2420/source/basic_rf.c **** inline void rf_flush_rx_fifo()
1036:../../../src/radio/cc2420/source/basic_rf.c **** {
 4661               	.LM783:
 4662               	.LFBB30:
 4663               	/* prologue: function */
 4664               	/* frame size = 0 */
 4665               	/* stack size = 0 */
 4666               	.L__stack_usage = 0
1037:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 4668               	.LM784:
 4669 1116 4098      		cbi 40-32,0
 4670 1118 88E0      		ldi r24,lo8(8)
 4671 111a 8EBD      		out 78-32,r24
 4672               	.L538:
 4674               	.LM785:
 4675 111c 0DB4      		in __tmp_reg__,77-32
 4676 111e 07FE      		sbrs __tmp_reg__,7
 4677 1120 00C0      		rjmp .L538
 4679               	.LM786:
 4680 1122 409A      		sbi 40-32,0
1038:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 4682               	.LM787:
 4683 1124 4098      		cbi 40-32,0
 4684 1126 88E0      		ldi r24,lo8(8)
 4685 1128 8EBD      		out 78-32,r24
 4686               	.L539:
 4688               	.LM788:
 4689 112a 0DB4      		in __tmp_reg__,77-32
 4690 112c 07FE      		sbrs __tmp_reg__,7
 4691 112e 00C0      		rjmp .L539
 4693               	.LM789:
 4694 1130 409A      		sbi 40-32,0
 4695               	/* epilogue start */
1039:../../../src/radio/cc2420/source/basic_rf.c **** }
 4697               	.LM790:
 4698 1132 0895      		ret
 4700               	.Lscope30:
 4702               		.stabd	78,0,0
 4705               	.global	rf_set_cca_thresh
 4707               	rf_set_cca_thresh:
 4708               		.stabd	46,0,0
1040:../../../src/radio/cc2420/source/basic_rf.c **** 
1041:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_cca_thresh(int8_t t)
1042:../../../src/radio/cc2420/source/basic_rf.c **** {
 4710               	.LM791:
 4711               	.LFBB31:
 4712               	/* prologue: function */
 4713               	/* frame size = 0 */
 4714               	/* stack size = 0 */
 4715               	.L__stack_usage = 0
1043:../../../src/radio/cc2420/source/basic_rf.c **** // default is -32
1044:../../../src/radio/cc2420/source/basic_rf.c **** // Higher number is less sensitive
1045:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t val;
1046:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1047:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1048:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1049:../../../src/radio/cc2420/source/basic_rf.c **** 
1050:../../../src/radio/cc2420/source/basic_rf.c ****     val=(t<<8) | 0x80;
 4717               	.LM792:
 4718 1134 9927      		clr r25
 4719 1136 87FD      		sbrc r24,7
 4720 1138 9095      		com r25
 4721 113a 982F      		mov r25,r24
 4722 113c 8827      		clr r24
 4723 113e 8068      		ori r24,lo8(128)
1051:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_RSSI, val);
 4725               	.LM793:
 4726 1140 4098      		cbi 40-32,0
 4727 1142 23E1      		ldi r18,lo8(19)
 4728 1144 2EBD      		out 78-32,r18
 4729               	.L543:
 4731               	.LM794:
 4732 1146 0DB4      		in __tmp_reg__,77-32
 4733 1148 07FE      		sbrs __tmp_reg__,7
 4734 114a 00C0      		rjmp .L543
 4736               	.LM795:
 4737 114c 9EBD      		out 78-32,r25
 4738               	.L544:
 4740               	.LM796:
 4741 114e 0DB4      		in __tmp_reg__,77-32
 4742 1150 07FE      		sbrs __tmp_reg__,7
 4743 1152 00C0      		rjmp .L544
 4745               	.LM797:
 4746 1154 8EBD      		out 78-32,r24
 4747               	.L545:
 4749               	.LM798:
 4750 1156 0DB4      		in __tmp_reg__,77-32
 4751 1158 07FE      		sbrs __tmp_reg__,7
 4752 115a 00C0      		rjmp .L545
 4754               	.LM799:
 4755 115c 409A      		sbi 40-32,0
 4756               	/* epilogue start */
1052:../../../src/radio/cc2420/source/basic_rf.c **** 
1053:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1054:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1055:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1056:../../../src/radio/cc2420/source/basic_rf.c **** }
 4758               	.LM800:
 4759 115e 0895      		ret
 4764               	.Lscope31:
 4766               		.stabd	78,0,0
 4768               	.global	rf_test_mode
 4770               	rf_test_mode:
 4771               		.stabd	46,0,0
1057:../../../src/radio/cc2420/source/basic_rf.c **** 
1058:../../../src/radio/cc2420/source/basic_rf.c **** void rf_test_mode()
1059:../../../src/radio/cc2420/source/basic_rf.c **** {
 4773               	.LM801:
 4774               	.LFBB32:
 4775               	/* prologue: function */
 4776               	/* frame size = 0 */
 4777               	/* stack size = 0 */
 4778               	.L__stack_usage = 0
1060:../../../src/radio/cc2420/source/basic_rf.c **** 
1061:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1062:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1063:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1064:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF); //stop radio
 4780               	.LM802:
 4781 1160 4098      		cbi 40-32,0
 4782 1162 86E0      		ldi r24,lo8(6)
 4783 1164 8EBD      		out 78-32,r24
 4784               	.L550:
 4786               	.LM803:
 4787 1166 0DB4      		in __tmp_reg__,77-32
 4788 1168 07FE      		sbrs __tmp_reg__,7
 4789 116a 00C0      		rjmp .L550
 4791               	.LM804:
 4792 116c 409A      		sbi 40-32,0
1065:../../../src/radio/cc2420/source/basic_rf.c ****     // NOTE ON SETTING CC2420_MDMCTRL1
1066:../../../src/radio/cc2420/source/basic_rf.c ****     //
1067:../../../src/radio/cc2420/source/basic_rf.c ****     // RF studio" uses TX_MODE=3 (CC2420_MDMCTRL1=0x050C)
1068:../../../src/radio/cc2420/source/basic_rf.c ****     // to send an unmodulated carrier; data sheet says TX_MODE
1069:../../../src/radio/cc2420/source/basic_rf.c ****     // can be 2 or 3. So it should not matter...
1070:../../../src/radio/cc2420/source/basic_rf.c ****     // HOWEVER, using (TX_MODE=3) sometimes causes problems when
1071:../../../src/radio/cc2420/source/basic_rf.c ****     // going back to "data" mode!
1072:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0508); // MDMCTRL1 with TX_MODE=2
 4794               	.LM805:
 4795 116e 4098      		cbi 40-32,0
 4796 1170 82E1      		ldi r24,lo8(18)
 4797 1172 8EBD      		out 78-32,r24
 4798               	.L551:
 4800               	.LM806:
 4801 1174 0DB4      		in __tmp_reg__,77-32
 4802 1176 07FE      		sbrs __tmp_reg__,7
 4803 1178 00C0      		rjmp .L551
 4805               	.LM807:
 4806 117a 85E0      		ldi r24,lo8(5)
 4807 117c 8EBD      		out 78-32,r24
 4808               	.L552:
 4810               	.LM808:
 4811 117e 0DB4      		in __tmp_reg__,77-32
 4812 1180 07FE      		sbrs __tmp_reg__,7
 4813 1182 00C0      		rjmp .L552
 4815               	.LM809:
 4816 1184 88E0      		ldi r24,lo8(8)
 4817 1186 8EBD      		out 78-32,r24
 4818               	.L553:
 4820               	.LM810:
 4821 1188 0DB4      		in __tmp_reg__,77-32
 4822 118a 07FE      		sbrs __tmp_reg__,7
 4823 118c 00C0      		rjmp .L553
 4825               	.LM811:
 4826 118e 409A      		sbi 40-32,0
1073:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_DACTST, 0x1800); // send unmodulated carrier
 4828               	.LM812:
 4829 1190 4098      		cbi 40-32,0
 4830 1192 8EE2      		ldi r24,lo8(46)
 4831 1194 8EBD      		out 78-32,r24
 4832               	.L554:
 4834               	.LM813:
 4835 1196 0DB4      		in __tmp_reg__,77-32
 4836 1198 07FE      		sbrs __tmp_reg__,7
 4837 119a 00C0      		rjmp .L554
 4839               	.LM814:
 4840 119c 88E1      		ldi r24,lo8(24)
 4841 119e 8EBD      		out 78-32,r24
 4842               	.L555:
 4844               	.LM815:
 4845 11a0 0DB4      		in __tmp_reg__,77-32
 4846 11a2 07FE      		sbrs __tmp_reg__,7
 4847 11a4 00C0      		rjmp .L555
 4849               	.LM816:
 4850 11a6 1EBC      		out 78-32,__zero_reg__
 4851               	.L556:
 4853               	.LM817:
 4854 11a8 0DB4      		in __tmp_reg__,77-32
 4855 11aa 07FE      		sbrs __tmp_reg__,7
 4856 11ac 00C0      		rjmp .L556
 4858               	.LM818:
 4859 11ae 409A      		sbi 40-32,0
1074:../../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 4861               	.LM819:
 4862 11b0 0E94 0000 		call rf_flush_rx_fifo
 4863               	/* epilogue start */
1075:../../../src/radio/cc2420/source/basic_rf.c **** 
1076:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1077:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1078:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1079:../../../src/radio/cc2420/source/basic_rf.c **** }
 4865               	.LM820:
 4866 11b4 0895      		ret
 4868               	.Lscope32:
 4870               		.stabd	78,0,0
 4872               	.global	rf_data_mode
 4874               	rf_data_mode:
 4875               		.stabd	46,0,0
1080:../../../src/radio/cc2420/source/basic_rf.c **** 
1081:../../../src/radio/cc2420/source/basic_rf.c **** 
1082:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1083:../../../src/radio/cc2420/source/basic_rf.c ****  * set the radio into "normal" mode (buffered TXFIFO) and go into (data) receive */
1084:../../../src/radio/cc2420/source/basic_rf.c **** void rf_data_mode()
1085:../../../src/radio/cc2420/source/basic_rf.c **** {
 4877               	.LM821:
 4878               	.LFBB33:
 4879               	/* prologue: function */
 4880               	/* frame size = 0 */
 4881               	/* stack size = 0 */
 4882               	.L__stack_usage = 0
1086:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1087:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1088:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1089:../../../src/radio/cc2420/source/basic_rf.c **** 
1090:../../../src/radio/cc2420/source/basic_rf.c **** 
1091:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF); //stop radio
 4884               	.LM822:
 4885 11b6 4098      		cbi 40-32,0
 4886 11b8 86E0      		ldi r24,lo8(6)
 4887 11ba 8EBD      		out 78-32,r24
 4888               	.L565:
 4890               	.LM823:
 4891 11bc 0DB4      		in __tmp_reg__,77-32
 4892 11be 07FE      		sbrs __tmp_reg__,7
 4893 11c0 00C0      		rjmp .L565
 4895               	.LM824:
 4896 11c2 409A      		sbi 40-32,0
1092:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0500); // default MDMCTRL1 value
 4898               	.LM825:
 4899 11c4 4098      		cbi 40-32,0
 4900 11c6 82E1      		ldi r24,lo8(18)
 4901 11c8 8EBD      		out 78-32,r24
 4902               	.L566:
 4904               	.LM826:
 4905 11ca 0DB4      		in __tmp_reg__,77-32
 4906 11cc 07FE      		sbrs __tmp_reg__,7
 4907 11ce 00C0      		rjmp .L566
 4909               	.LM827:
 4910 11d0 85E0      		ldi r24,lo8(5)
 4911 11d2 8EBD      		out 78-32,r24
 4912               	.L567:
 4914               	.LM828:
 4915 11d4 0DB4      		in __tmp_reg__,77-32
 4916 11d6 07FE      		sbrs __tmp_reg__,7
 4917 11d8 00C0      		rjmp .L567
 4919               	.LM829:
 4920 11da 1EBC      		out 78-32,__zero_reg__
 4921               	.L568:
 4923               	.LM830:
 4924 11dc 0DB4      		in __tmp_reg__,77-32
 4925 11de 07FE      		sbrs __tmp_reg__,7
 4926 11e0 00C0      		rjmp .L568
 4928               	.LM831:
 4929 11e2 409A      		sbi 40-32,0
1093:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_DACTST, 0); // default value
 4931               	.LM832:
 4932 11e4 4098      		cbi 40-32,0
 4933 11e6 8EE2      		ldi r24,lo8(46)
 4934 11e8 8EBD      		out 78-32,r24
 4935               	.L569:
 4937               	.LM833:
 4938 11ea 0DB4      		in __tmp_reg__,77-32
 4939 11ec 07FE      		sbrs __tmp_reg__,7
 4940 11ee 00C0      		rjmp .L569
 4942               	.LM834:
 4943 11f0 1EBC      		out 78-32,__zero_reg__
 4944               	.L570:
 4946               	.LM835:
 4947 11f2 0DB4      		in __tmp_reg__,77-32
 4948 11f4 07FE      		sbrs __tmp_reg__,7
 4949 11f6 00C0      		rjmp .L570
 4951               	.LM836:
 4952 11f8 1EBC      		out 78-32,__zero_reg__
 4953               	.L571:
 4955               	.LM837:
 4956 11fa 0DB4      		in __tmp_reg__,77-32
 4957 11fc 07FE      		sbrs __tmp_reg__,7
 4958 11fe 00C0      		rjmp .L571
 4960               	.LM838:
 4961 1200 409A      		sbi 40-32,0
1094:../../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 4963               	.LM839:
 4964 1202 0E94 0000 		call rf_flush_rx_fifo
 4965               	/* epilogue start */
1095:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1096:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1097:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1098:../../../src/radio/cc2420/source/basic_rf.c **** }
 4967               	.LM840:
 4968 1206 0895      		ret
 4970               	.Lscope33:
 4972               		.stabd	78,0,0
 4974               	.global	rf_rx_set_serial
 4976               	rf_rx_set_serial:
 4977               		.stabd	46,0,0
1099:../../../src/radio/cc2420/source/basic_rf.c **** 
1100:../../../src/radio/cc2420/source/basic_rf.c **** 
1101:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1102:../../../src/radio/cc2420/source/basic_rf.c ****  * Set the radio into serial unbuffered RX mode
1103:../../../src/radio/cc2420/source/basic_rf.c ****  * RX data is received through sampling the FIFO pin, timing is done using FIFOP
1104:../../../src/radio/cc2420/source/basic_rf.c ****  * Use rf_rx_on() to start rcv, then wait for SFD / FIFOP. Sample during each high edge of FIFOP
1105:../../../src/radio/cc2420/source/basic_rf.c ****  * This can be undone by using rf_data_mode()
1106:../../../src/radio/cc2420/source/basic_rf.c ****  */
1107:../../../src/radio/cc2420/source/basic_rf.c **** void rf_rx_set_serial()
1108:../../../src/radio/cc2420/source/basic_rf.c **** {
 4979               	.LM841:
 4980               	.LFBB34:
 4981               	/* prologue: function */
 4982               	/* frame size = 0 */
 4983               	/* stack size = 0 */
 4984               	.L__stack_usage = 0
1109:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);           // stop radio
 4986               	.LM842:
 4987 1208 4098      		cbi 40-32,0
 4988 120a 86E0      		ldi r24,lo8(6)
 4989 120c 8EBD      		out 78-32,r24
 4990               	.L580:
 4992               	.LM843:
 4993 120e 0DB4      		in __tmp_reg__,77-32
 4994 1210 07FE      		sbrs __tmp_reg__,7
 4995 1212 00C0      		rjmp .L580
 4997               	.LM844:
 4998 1214 409A      		sbi 40-32,0
1110:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0501); // Set RX_MODE to 1
 5000               	.LM845:
 5001 1216 4098      		cbi 40-32,0
 5002 1218 82E1      		ldi r24,lo8(18)
 5003 121a 8EBD      		out 78-32,r24
 5004               	.L581:
 5006               	.LM846:
 5007 121c 0DB4      		in __tmp_reg__,77-32
 5008 121e 07FE      		sbrs __tmp_reg__,7
 5009 1220 00C0      		rjmp .L581
 5011               	.LM847:
 5012 1222 85E0      		ldi r24,lo8(5)
 5013 1224 8EBD      		out 78-32,r24
 5014               	.L582:
 5016               	.LM848:
 5017 1226 0DB4      		in __tmp_reg__,77-32
 5018 1228 07FE      		sbrs __tmp_reg__,7
 5019 122a 00C0      		rjmp .L582
 5021               	.LM849:
 5022 122c 81E0      		ldi r24,lo8(1)
 5023 122e 8EBD      		out 78-32,r24
 5024               	.L583:
 5026               	.LM850:
 5027 1230 0DB4      		in __tmp_reg__,77-32
 5028 1232 07FE      		sbrs __tmp_reg__,7
 5029 1234 00C0      		rjmp .L583
 5031               	.LM851:
 5032 1236 409A      		sbi 40-32,0
1111:../../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 5034               	.LM852:
 5035 1238 0E94 0000 		call rf_flush_rx_fifo
 5036               	/* epilogue start */
1112:../../../src/radio/cc2420/source/basic_rf.c **** }
 5038               	.LM853:
 5039 123c 0895      		ret
 5041               	.Lscope34:
 5043               		.stabd	78,0,0
 5045               	.global	rf_tx_set_serial
 5047               	rf_tx_set_serial:
 5048               		.stabd	46,0,0
1113:../../../src/radio/cc2420/source/basic_rf.c **** 
1114:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1115:../../../src/radio/cc2420/source/basic_rf.c ****  * Put the radio in serial TX mode, where data is sampled from the FIFO
1116:../../../src/radio/cc2420/source/basic_rf.c ****  * pin to send after SFD, and timing is done using FIFOP
1117:../../../src/radio/cc2420/source/basic_rf.c ****  * use rf_carrier_on() to start, set FIFO to first bit, then wait for it
1118:../../../src/radio/cc2420/source/basic_rf.c ****  * to go up and down, then set next bit etc.
1119:../../../src/radio/cc2420/source/basic_rf.c ****  * NOTE: You must set the FIFO pin to output mode in order to do this!
1120:../../../src/radio/cc2420/source/basic_rf.c ****  * This can be undone by calling rf_data_mode()
1121:../../../src/radio/cc2420/source/basic_rf.c ****  */
1122:../../../src/radio/cc2420/source/basic_rf.c **** void rf_tx_set_serial()
1123:../../../src/radio/cc2420/source/basic_rf.c **** {
 5050               	.LM854:
 5051               	.LFBB35:
 5052               	/* prologue: function */
 5053               	/* frame size = 0 */
 5054               	/* stack size = 0 */
 5055               	.L__stack_usage = 0
1124:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0504); // set TXMODE to 1
 5057               	.LM855:
 5058 123e 4098      		cbi 40-32,0
 5059 1240 82E1      		ldi r24,lo8(18)
 5060 1242 8EBD      		out 78-32,r24
 5061               	.L589:
 5063               	.LM856:
 5064 1244 0DB4      		in __tmp_reg__,77-32
 5065 1246 07FE      		sbrs __tmp_reg__,7
 5066 1248 00C0      		rjmp .L589
 5068               	.LM857:
 5069 124a 85E0      		ldi r24,lo8(5)
 5070 124c 8EBD      		out 78-32,r24
 5071               	.L590:
 5073               	.LM858:
 5074 124e 0DB4      		in __tmp_reg__,77-32
 5075 1250 07FE      		sbrs __tmp_reg__,7
 5076 1252 00C0      		rjmp .L590
 5078               	.LM859:
 5079 1254 84E0      		ldi r24,lo8(4)
 5080 1256 8EBD      		out 78-32,r24
 5081               	.L591:
 5083               	.LM860:
 5084 1258 0DB4      		in __tmp_reg__,77-32
 5085 125a 07FE      		sbrs __tmp_reg__,7
 5086 125c 00C0      		rjmp .L591
 5088               	.LM861:
 5089 125e 409A      		sbi 40-32,0
1125:../../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 5091               	.LM862:
 5092 1260 0E94 0000 		call rf_flush_rx_fifo
 5093               	/* epilogue start */
1126:../../../src/radio/cc2420/source/basic_rf.c **** }
 5095               	.LM863:
 5096 1264 0895      		ret
 5098               	.Lscope35:
 5100               		.stabd	78,0,0
 5103               	.global	rf_set_preamble_length
 5105               	rf_set_preamble_length:
 5106               		.stabd	46,0,0
1127:../../../src/radio/cc2420/source/basic_rf.c **** 
1128:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1129:../../../src/radio/cc2420/source/basic_rf.c ****  * Specifies the number of symbols to be part of preamble
1130:../../../src/radio/cc2420/source/basic_rf.c ****  * arg is equal to number of bytes - 1.
1131:../../../src/radio/cc2420/source/basic_rf.c ****  * (3 bytes is 802.15.4 compliant, so length arg would be 2)
1132:../../../src/radio/cc2420/source/basic_rf.c ****  * Length arg supports values 0 to 15. See the datasheet of course for more details
1133:../../../src/radio/cc2420/source/basic_rf.c ****  */
1134:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_preamble_length(uint8_t length)
1135:../../../src/radio/cc2420/source/basic_rf.c **** {
 5108               	.LM864:
 5109               	.LFBB36:
 5110               	/* prologue: function */
 5111               	/* frame size = 0 */
 5112               	/* stack size = 0 */
 5113               	.L__stack_usage = 0
1136:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (0xFFF0);
1137:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= (length & 0x000F);
 5115               	.LM865:
 5116 1266 90E0      		ldi r25,lo8(0)
 5117 1268 8F70      		andi r24,lo8(15)
 5118 126a 9070      		andi r25,hi8(15)
1136:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (0xFFF0);
 5120               	.LM866:
 5121 126c 2091 0000 		lds r18,mdmctrl0
 5122 1270 3091 0000 		lds r19,mdmctrl0+1
 5123 1274 207F      		andi r18,lo8(-16)
 5125               	.LM867:
 5126 1276 822B      		or r24,r18
 5127 1278 932B      		or r25,r19
 5128 127a 9093 0000 		sts mdmctrl0+1,r25
 5129 127e 8093 0000 		sts mdmctrl0,r24
1138:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 5131               	.LM868:
 5132 1282 4098      		cbi 40-32,0
 5133 1284 81E1      		ldi r24,lo8(17)
 5134 1286 8EBD      		out 78-32,r24
 5135               	.L596:
 5137               	.LM869:
 5138 1288 0DB4      		in __tmp_reg__,77-32
 5139 128a 07FE      		sbrs __tmp_reg__,7
 5140 128c 00C0      		rjmp .L596
 5142               	.LM870:
 5143 128e 8091 0000 		lds r24,mdmctrl0+1
 5144 1292 8EBD      		out 78-32,r24
 5145               	.L597:
 5147               	.LM871:
 5148 1294 0DB4      		in __tmp_reg__,77-32
 5149 1296 07FE      		sbrs __tmp_reg__,7
 5150 1298 00C0      		rjmp .L597
 5152               	.LM872:
 5153 129a 8091 0000 		lds r24,mdmctrl0
 5154 129e 8EBD      		out 78-32,r24
 5155               	.L598:
 5157               	.LM873:
 5158 12a0 0DB4      		in __tmp_reg__,77-32
 5159 12a2 07FE      		sbrs __tmp_reg__,7
 5160 12a4 00C0      		rjmp .L598
 5162               	.LM874:
 5163 12a6 409A      		sbi 40-32,0
 5164               	/* epilogue start */
1139:../../../src/radio/cc2420/source/basic_rf.c **** }
 5166               	.LM875:
 5167 12a8 0895      		ret
 5169               	.Lscope36:
 5171               		.stabd	78,0,0
 5174               	.global	rf_set_cca_mode
 5176               	rf_set_cca_mode:
 5177               		.stabd	46,0,0
1140:../../../src/radio/cc2420/source/basic_rf.c **** 
1141:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1142:../../../src/radio/cc2420/source/basic_rf.c ****  * Set the CCA mode
1143:../../../src/radio/cc2420/source/basic_rf.c ****  * Accept 1-3 as argument
1144:../../../src/radio/cc2420/source/basic_rf.c ****  */
1145:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_cca_mode(uint8_t mode)
1146:../../../src/radio/cc2420/source/basic_rf.c **** {
 5179               	.LM876:
 5180               	.LFBB37:
 5181               	/* prologue: function */
 5182               	/* frame size = 0 */
 5183               	/* stack size = 0 */
 5184               	.L__stack_usage = 0
1147:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (0xFF3F);
1148:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= ((mode & 0x3) << 6);
 5186               	.LM877:
 5187 12aa 90E0      		ldi r25,lo8(0)
 5188 12ac 26E0      		ldi r18,6
 5189 12ae 880F      	1:	lsl r24
 5190 12b0 991F      		rol r25
 5191 12b2 2A95      		dec r18
 5192 12b4 01F4      		brne 1b
 5193 12b6 9070      		andi r25,hi8(255)
1147:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (0xFF3F);
 5195               	.LM878:
 5196 12b8 2091 0000 		lds r18,mdmctrl0
 5197 12bc 3091 0000 		lds r19,mdmctrl0+1
 5198 12c0 2F73      		andi r18,lo8(-193)
 5200               	.LM879:
 5201 12c2 822B      		or r24,r18
 5202 12c4 932B      		or r25,r19
 5203 12c6 9093 0000 		sts mdmctrl0+1,r25
 5204 12ca 8093 0000 		sts mdmctrl0,r24
1149:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 5206               	.LM880:
 5207 12ce 4098      		cbi 40-32,0
 5208 12d0 81E1      		ldi r24,lo8(17)
 5209 12d2 8EBD      		out 78-32,r24
 5210               	.L603:
 5212               	.LM881:
 5213 12d4 0DB4      		in __tmp_reg__,77-32
 5214 12d6 07FE      		sbrs __tmp_reg__,7
 5215 12d8 00C0      		rjmp .L603
 5217               	.LM882:
 5218 12da 8091 0000 		lds r24,mdmctrl0+1
 5219 12de 8EBD      		out 78-32,r24
 5220               	.L604:
 5222               	.LM883:
 5223 12e0 0DB4      		in __tmp_reg__,77-32
 5224 12e2 07FE      		sbrs __tmp_reg__,7
 5225 12e4 00C0      		rjmp .L604
 5227               	.LM884:
 5228 12e6 8091 0000 		lds r24,mdmctrl0
 5229 12ea 8EBD      		out 78-32,r24
 5230               	.L605:
 5232               	.LM885:
 5233 12ec 0DB4      		in __tmp_reg__,77-32
 5234 12ee 07FE      		sbrs __tmp_reg__,7
 5235 12f0 00C0      		rjmp .L605
 5237               	.LM886:
 5238 12f2 409A      		sbi 40-32,0
 5239               	/* epilogue start */
1150:../../../src/radio/cc2420/source/basic_rf.c **** }
 5241               	.LM887:
 5242 12f4 0895      		ret
 5244               	.Lscope37:
 5246               		.stabd	78,0,0
 5248               	.global	rf_carrier_on
 5250               	rf_carrier_on:
 5251               		.stabd	46,0,0
1151:../../../src/radio/cc2420/source/basic_rf.c **** 
1152:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1153:../../../src/radio/cc2420/source/basic_rf.c ****  * start sending a carrier pulse
1154:../../../src/radio/cc2420/source/basic_rf.c ****  * assumes wdrf_radio_test_mode() was called before doing this
1155:../../../src/radio/cc2420/source/basic_rf.c ****  */
1156:../../../src/radio/cc2420/source/basic_rf.c **** void rf_carrier_on()
1157:../../../src/radio/cc2420/source/basic_rf.c **** {
 5253               	.LM888:
 5254               	.LFBB38:
 5255               	/* prologue: function */
 5256               	/* frame size = 0 */
 5257               	/* stack size = 0 */
 5258               	.L__stack_usage = 0
1158:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1159:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1160:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1161:../../../src/radio/cc2420/source/basic_rf.c **** 
1162:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
1163:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
1164:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
1165:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1166:../../../src/radio/cc2420/source/basic_rf.c **** 
1167:../../../src/radio/cc2420/source/basic_rf.c **** 
1168:../../../src/radio/cc2420/source/basic_rf.c **** 
1169:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_STXON); // tell radio to start sending
 5260               	.LM889:
 5261 12f6 4098      		cbi 40-32,0
 5262 12f8 84E0      		ldi r24,lo8(4)
 5263 12fa 8EBD      		out 78-32,r24
 5264               	.L610:
 5266               	.LM890:
 5267 12fc 0DB4      		in __tmp_reg__,77-32
 5268 12fe 07FE      		sbrs __tmp_reg__,7
 5269 1300 00C0      		rjmp .L610
 5271               	.LM891:
 5272 1302 409A      		sbi 40-32,0
 5273               	/* epilogue start */
1170:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1171:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1172:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1173:../../../src/radio/cc2420/source/basic_rf.c **** }
 5275               	.LM892:
 5276 1304 0895      		ret
 5278               	.Lscope38:
 5280               		.stabd	78,0,0
 5282               	.global	rf_carrier_off
 5284               	rf_carrier_off:
 5285               		.stabd	46,0,0
1174:../../../src/radio/cc2420/source/basic_rf.c **** 
1175:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1176:../../../src/radio/cc2420/source/basic_rf.c ****  * stop sending a carrier pulse; set the radio to idle state
1177:../../../src/radio/cc2420/source/basic_rf.c ****  */
1178:../../../src/radio/cc2420/source/basic_rf.c **** void rf_carrier_off()
1179:../../../src/radio/cc2420/source/basic_rf.c **** {
 5287               	.LM893:
 5288               	.LFBB39:
 5289               	/* prologue: function */
 5290               	/* frame size = 0 */
 5291               	/* stack size = 0 */
 5292               	.L__stack_usage = 0
1180:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1181:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1182:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1183:../../../src/radio/cc2420/source/basic_rf.c **** 
1184:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
1185:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
1186:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1187:../../../src/radio/cc2420/source/basic_rf.c **** 
1188:../../../src/radio/cc2420/source/basic_rf.c **** 
1189:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF); // stop radio
 5294               	.LM894:
 5295 1306 4098      		cbi 40-32,0
 5296 1308 86E0      		ldi r24,lo8(6)
 5297 130a 8EBD      		out 78-32,r24
 5298               	.L613:
 5300               	.LM895:
 5301 130c 0DB4      		in __tmp_reg__,77-32
 5302 130e 07FE      		sbrs __tmp_reg__,7
 5303 1310 00C0      		rjmp .L613
 5305               	.LM896:
 5306 1312 409A      		sbi 40-32,0
 5307               	/* epilogue start */
1190:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1191:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1192:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1193:../../../src/radio/cc2420/source/basic_rf.c **** }
 5309               	.LM897:
 5310 1314 0895      		ret
 5312               	.Lscope39:
 5314               		.stabd	78,0,0
 5315               		.comm _nrk_signal_list,4,1
 5316               		.comm rfSettings,9,1
 5317               		.comm nrk_idle_task_stk,128,1
 5318               		.comm nrk_kernel_stk_ptr,2,1
 5319               		.comm error_task,1,1
 5320               		.comm error_num,1,1
 5321               		.comm _nrk_prev_timer_val,1,1
 5322               		.comm _nrk_time_trigger,1,1
 5323               		.comm app_timer0_callback,2,1
 5324               		.comm app_timer0_prescale,1,1
 5325               		.comm radio_sem,2,1
 5326               		.comm auto_ack_enable,1,1
 5327               		.comm security_enable,1,1
 5328               		.comm last_pkt_encrypted,1,1
 5329               		.comm mdmctrl0,2,1
 5330               		.comm tx_ctr,4,1
 5331               		.comm rx_ctr,4,1
 5332               		.comm rx_ready,1,1
 5333               		.comm tmp_blah,2,1
 5354               	.Letext0:
 5355               	.global __do_clear_bss
DEFINED SYMBOLS
                            *ABS*:00000000 basic_rf.c
     /tmp/ccWH7mDQ.s:2      *ABS*:0000003f __SREG__
     /tmp/ccWH7mDQ.s:3      *ABS*:0000003e __SP_H__
     /tmp/ccWH7mDQ.s:4      *ABS*:0000003d __SP_L__
     /tmp/ccWH7mDQ.s:5      *ABS*:00000034 __CCP__
     /tmp/ccWH7mDQ.s:6      *ABS*:00000000 __tmp_reg__
     /tmp/ccWH7mDQ.s:7      *ABS*:00000001 __zero_reg__
     /tmp/ccWH7mDQ.s:138    .text:00000000 cc259x_rx
     /tmp/ccWH7mDQ.s:166    .text:00000012 cc259x_tx
     /tmp/ccWH7mDQ.s:194    .text:00000024 rf_power_down
     /tmp/ccWH7mDQ.s:258    .text:00000046 rf_power_up
     /tmp/ccWH7mDQ.s:313    .text:00000062 rf_security_last_pkt_status
                            *COM*:00000001 last_pkt_encrypted
     /tmp/ccWH7mDQ.s:335    .text:00000068 rf_security_set_ctr_counter
                            *COM*:00000004 tx_ctr
     /tmp/ccWH7mDQ.s:462    .text:000000e8 rf_security_set_key
     /tmp/ccWH7mDQ.s:834    .text:0000029c rf_security_enable
                            *COM*:00000001 security_enable
     /tmp/ccWH7mDQ.s:926    .text:000002e8 rf_security_disable
     /tmp/ccWH7mDQ.s:983    .text:00000310 rf_get_sem
                            *COM*:00000002 radio_sem
     /tmp/ccWH7mDQ.s:1006   .text:0000031a rf_tx_power
     /tmp/ccWH7mDQ.s:1069   .text:00000344 rf_set_channel
     /tmp/ccWH7mDQ.s:1092   .text:0000034a rf_addr_decode_enable
                            *COM*:00000002 mdmctrl0
     /tmp/ccWH7mDQ.s:1153   .text:00000384 rf_addr_decode_disable
     /tmp/ccWH7mDQ.s:1214   .text:000003be rf_auto_ack_enable
                            *COM*:00000001 auto_ack_enable
     /tmp/ccWH7mDQ.s:1279   .text:000003fe rf_auto_ack_disable
     /tmp/ccWH7mDQ.s:1344   .text:0000043c rf_addr_decode_set_my_mac
                            *COM*:00000009 rfSettings
     /tmp/ccWH7mDQ.s:1439   .text:0000049c rf_set_rx
     /tmp/ccWH7mDQ.s:1504   .text:000004d2 rf_init
     /tmp/ccWH7mDQ.s:1878   .text:00000666 rf_rx_on
                            *COM*:00000001 rx_ready
     /tmp/ccWH7mDQ.s:1933   .text:0000068e rf_polling_rx_on
     /tmp/ccWH7mDQ.s:1988   .text:000006b6 rf_rx_off
     /tmp/ccWH7mDQ.s:2031   .text:000006ce rf_tx_tdma_packet
     /tmp/ccWH7mDQ.s:2766   .text:000009b6 rf_tx_packet
     /tmp/ccWH7mDQ.s:3580   .text:00000cda rf_busy
     /tmp/ccWH7mDQ.s:3605   .text:00000ce2 rf_rx_check_fifop
     /tmp/ccWH7mDQ.s:3631   .text:00000cec rf_rx_check_sfd
     /tmp/ccWH7mDQ.s:3656   .text:00000cf4 rf_polling_rx_packet
                            *COM*:00000004 rx_ctr
     /tmp/ccWH7mDQ.s:4618   .text:00001100 rf_rx_packet
     /tmp/ccWH7mDQ.s:4658   .text:00001116 rf_flush_rx_fifo
     /tmp/ccWH7mDQ.s:4707   .text:00001134 rf_set_cca_thresh
     /tmp/ccWH7mDQ.s:4770   .text:00001160 rf_test_mode
     /tmp/ccWH7mDQ.s:4874   .text:000011b6 rf_data_mode
     /tmp/ccWH7mDQ.s:4976   .text:00001208 rf_rx_set_serial
     /tmp/ccWH7mDQ.s:5047   .text:0000123e rf_tx_set_serial
     /tmp/ccWH7mDQ.s:5105   .text:00001266 rf_set_preamble_length
     /tmp/ccWH7mDQ.s:5176   .text:000012aa rf_set_cca_mode
     /tmp/ccWH7mDQ.s:5250   .text:000012f6 rf_carrier_on
     /tmp/ccWH7mDQ.s:5284   .text:00001306 rf_carrier_off
                            *COM*:00000004 _nrk_signal_list
                            *COM*:00000080 nrk_idle_task_stk
                            *COM*:00000002 nrk_kernel_stk_ptr
                            *COM*:00000001 error_task
                            *COM*:00000001 error_num
                            *COM*:00000001 _nrk_prev_timer_val
                            *COM*:00000001 _nrk_time_trigger
                            *COM*:00000002 app_timer0_callback
                            *COM*:00000001 app_timer0_prescale
                            *COM*:00000002 tmp_blah

UNDEFINED SYMBOLS
NRK_DEBUG_1
nrk_gpio_set
NRK_DEBUG_0
nrk_gpio_clr
nrk_spin_wait_us
halRfSetChannel
halWait
halRfWaitForCrystalOscillator
_nrk_os_timer_get
nrk_high_speed_timer_wait
nrk_sem_post
__do_clear_bss
